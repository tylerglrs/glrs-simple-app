const ImageModal=({imageUrl:I,onClose:o})=>I?React.createElement("div",{onClick:o,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,cursor:"pointer"}},React.createElement("img",{src:I,style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain"},onClick:t=>t.stopPropagation()}),React.createElement("button",{onClick:o,style:{position:"absolute",top:"20px",right:"20px",background:"transparent",border:"none",color:"white",fontSize:"30px",cursor:"pointer"}},"\u2715")):null,DisclaimerModal=({onAccept:I})=>{const[o,t]=useState(!1);return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"}},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"}},React.createElement("div",{style:{padding:"30px",background:"linear-gradient(135deg, #0077CC 0%, #00A86B 100%)",color:"#fff",borderRadius:"15px 15px 0 0"}},React.createElement("h2",{style:{margin:"0 0 10px 0",fontSize:"28px"}},"Welcome to Recovery Compass"),React.createElement("p",{style:{margin:0,fontSize:"16px",opacity:.9}},"Please read this important information before using the app")),React.createElement("div",{style:{padding:"30px"}},React.createElement("div",{style:{padding:"20px",background:"#fff3cd",borderRadius:"10px",marginBottom:"20px",border:"1px solid #ffc107"}},React.createElement("h3",{style:{margin:"0 0 15px 0",color:"#856404"}},"\u2695\uFE0F Medical Disclaimer"),React.createElement("p",{style:{margin:0,fontSize:"14px",color:"#856404",lineHeight:"1.6"}},React.createElement("strong",null,"This app is NOT a substitute for professional medical advice, diagnosis, or treatment."),React.createElement("br",null),React.createElement("br",null),"Recovery Compass is a recovery support tool designed to complement professional treatment. It should not replace in-person therapy, medical care, or emergency services.",React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,"If you are experiencing a medical or mental health emergency, call 911 or go to the nearest emergency room immediately."))),React.createElement("div",{style:{padding:"20px",background:"#f8f9fa",borderRadius:"10px",marginBottom:"20px"}},React.createElement("h3",{style:{margin:"0 0 15px 0",color:"#333",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"lock",style:{width:"20px",height:"20px",color:"var(--color-primary)"}}),"Privacy & Confidentiality"),React.createElement("p",{style:{margin:0,fontSize:"14px",color:"#666",lineHeight:"1.6"}},"Your privacy is our priority. We use industry-standard encryption and HIPAA-compliant practices to protect your information. However, no electronic system is 100% secure. Please avoid sharing sensitive information you're not comfortable storing digitally.")),React.createElement("div",{style:{padding:"20px",background:"#f8f9fa",borderRadius:"10px",marginBottom:"20px"}},React.createElement("h3",{style:{margin:"0 0 15px 0",color:"#333",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"message-circle",style:{width:"20px",height:"20px",color:"var(--color-primary)"}}),"Peer Support Disclaimer"),React.createElement("p",{style:{margin:0,fontSize:"14px",color:"#666",lineHeight:"1.6"}},"Community features connect you with others in recovery. While peer support can be valuable, remember that other users are not medical professionals. Always consult your healthcare provider for medical advice.")),React.createElement("label",{style:{display:"flex",alignItems:"center",padding:"15px",background:"#e7f5ff",borderRadius:"10px",marginBottom:"20px",cursor:"pointer"}},React.createElement("input",{type:"checkbox",checked:o,onChange:i=>t(i.target.checked),style:{width:"20px",height:"20px",marginRight:"12px",cursor:"pointer"}}),React.createElement("span",{style:{fontSize:"14px",color:"#333"}},"I have read and understand these disclaimers and agree to the Terms of Service and Privacy Policy")),React.createElement("button",{onClick:()=>{if(!o){alert("Please check the box to confirm you understand and agree");return}I()},style:{width:"100%",background:"linear-gradient(135deg, #0077CC 0%, #00A86B 100%)",color:"#fff",padding:"15px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Continue to App"))))},LegalModal=({type:I,onClose:o})=>{const t={terms:{title:"Terms of Service",body:`Last Updated: January 2025

1. ACCEPTANCE OF TERMS
By accessing or using Recovery Compass, you agree to be bound by these Terms of Service.

2. SERVICE DESCRIPTION
Recovery Compass is a recovery support application designed to complement professional treatment.

3. USER RESPONSIBILITIES
- Provide accurate information
- Maintain confidentiality of your account
- Use the service responsibly and lawfully
- Not share sensitive medical information in community features

4. MEDICAL DISCLAIMER
This service is NOT a substitute for professional medical advice. Always consult healthcare providers for medical decisions.

5. PRIVACY
Your use is governed by our Privacy Policy. We protect your data using industry-standard encryption.

6. LIABILITY LIMITATION
Recovery Compass is provided "as is" without warranties. We are not liable for any damages arising from use.

7. TERMINATION
We may suspend or terminate access for violations of these terms.

8. GOVERNING LAW
These terms are governed by the laws of [Your State/Country].

9. CONTACT
For questions: support@glrecoveryservices.com`},privacy:{title:"Privacy Policy",body:`Last Updated: January 2025

1. INFORMATION WE COLLECT
- Account information (name, email)
- Recovery data (check-ins, goals, progress)
- Usage data (features accessed, session duration)
- Device information (device type, OS version)

2. HOW WE USE YOUR INFORMATION
- Provide and improve our services
- Communicate with you about your account
- Track your recovery progress
- Personalize your experience
- Comply with legal obligations

3. INFORMATION SHARING
We DO NOT sell your personal information. We may share data only:
- With your explicit consent
- With your assigned coach/treatment team
- To comply with legal requirements
- With service providers under strict confidentiality agreements

4. DATA SECURITY
- Industry-standard encryption (AES-256)
- HIPAA-compliant practices
- Secure data transmission (HTTPS)
- Regular security audits
- Limited employee access

5. YOUR RIGHTS (GDPR/CCPA)
- Access your data
- Correct inaccurate data
- Request data deletion
- Export your data
- Opt out of communications

6. DATA RETENTION
We retain your data while your account is active and for 7 years after closure (HIPAA compliance).

7. COOKIES
We use essential cookies for functionality. No third-party advertising cookies.

8. CHILDREN'S PRIVACY
Our service is not intended for users under 13. We comply with COPPA.

9. CHANGES TO POLICY
We'll notify you of material changes via email or in-app notification.

10. CONTACT
Privacy questions: privacy@glrecoveryservices.com`},dataHandling:{title:"Data Handling & Your Rights",body:`Last Updated: January 2025

WHAT DATA WE COLLECT

Recovery Data:
- Daily check-ins (mood, cravings, anxiety, sleep)
- Goals and assignments
- Progress tracking
- Community messages
- Resource usage

Account Data:
- Name, email, profile photo
- Subscription information
- Login history
- Device information

HOW WE PROTECT YOUR DATA

Encryption:
- AES-256 encryption for sensitive data
- Secure data transmission (HTTPS/TLS)
- Encrypted backups
- Zero-knowledge architecture (where applicable)

Access Controls:
- Role-based access (coaches see only assigned clients)
- Multi-factor authentication available
- Regular security audits
- Employee background checks

HIPAA Compliance:
- Business Associate Agreements with partners
- Regular compliance training
- Breach notification procedures
- Audit logging

YOUR RIGHTS

Access: Request a copy of your data anytime
Correction: Update inaccurate information
Deletion: Request permanent account deletion
Export: Download your data in JSON format
Portability: Transfer data to another service
Opt-out: Unsubscribe from non-essential emails

DATA RETENTION

Active Accounts: Data retained while account is active
Closed Accounts: Data retained for 7 years (HIPAA requirement)
Deletion Requests: 30-day grace period, then permanent deletion
Backups: Removed from backups within 90 days

THIRD-PARTY SERVICES

We use these trusted partners:
- Firebase (Google) - Database and authentication
- Stripe - Payment processing (PCI-DSS compliant)
- SendGrid - Email delivery
All partners sign data processing agreements.

DATA BREACHES

In the unlikely event of a breach:
- You'll be notified within 72 hours
- We'll report to authorities as required
- We'll provide credit monitoring if SSNs exposed
- We'll publish transparency reports

INTERNATIONAL TRANSFERS

Data is stored in US data centers (Firebase).
If you're in EU/EEA, we use Standard Contractual Clauses.

EXERCISING YOUR RIGHTS

Email: privacy@glrecoveryservices.com
Phone: 1-800-XXX-XXXX
In-app: Profile \u2192 Settings \u2192 Data Management

We respond to requests within 30 days.`}},i=t[I]||t.terms;return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"}},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"700px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column"}},React.createElement("div",{style:{padding:"20px 30px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h2",{style:{margin:0,color:"#333",fontSize:"24px"}},i.title),React.createElement("button",{onClick:o,style:{background:"transparent",border:"none",fontSize:"28px",cursor:"pointer",color:"#999"}},"\xD7")),React.createElement("div",{style:{padding:"30px",overflowY:"auto",flex:1}},React.createElement("pre",{style:{whiteSpace:"pre-wrap",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"14px",lineHeight:"1.6",color:"#333",margin:0}},i.body)),React.createElement("div",{style:{padding:"20px 30px",borderTop:"1px solid #ddd"}},React.createElement("button",{onClick:o,style:{width:"100%",background:"#0077CC",color:"#fff",padding:"12px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Close"))))},CrisisModal=({onClose:I})=>{const o=[{name:"988 Suicide & Crisis Lifeline",number:"988",description:"24/7 free and confidential support",action:()=>window.location.href="tel:988"},{name:"Crisis Text Line",number:"Text HOME to 741741",description:"Free 24/7 text support",action:()=>window.location.href="sms:741741&body=HOME"},{name:"SAMHSA National Helpline",number:"1-800-662-4357",description:"Treatment referral and information",action:()=>window.location.href="tel:18006624357"},{name:"Veterans Crisis Line",number:"988 (Press 1)",description:"Support for veterans and their families",action:()=>window.location.href="tel:988"},{name:"Emergency Services",number:"911",description:"Life-threatening emergencies",action:()=>window.location.href="tel:911"}];return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"}},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"}},React.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #DC143C",background:"#DC143C",color:"#fff",borderRadius:"15px 15px 0 0"}},React.createElement("h2",{style:{margin:0,fontSize:"24px",display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"alert-octagon",style:{width:"28px",height:"28px"}}),"Crisis Resources"),React.createElement("p",{style:{margin:"10px 0 0 0",fontSize:"14px",opacity:.9}},"If you're in crisis or need immediate help, please use one of these resources")),React.createElement("div",{style:{padding:"20px"}},o.map((t,i)=>React.createElement("div",{key:i,style:{padding:"15px",marginBottom:"15px",background:"#f8f9fa",borderRadius:"10px",border:"1px solid #ddd"}},React.createElement("h3",{style:{margin:"0 0 5px 0",color:"#333",fontSize:"18px"}},t.name),React.createElement("p",{style:{margin:"0 0 10px 0",color:"#666",fontSize:"14px"}},t.description),React.createElement("button",{onClick:t.action,style:{background:"#DC143C",color:"#fff",padding:"10px 20px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"bold",cursor:"pointer",width:"100%"}},React.createElement("i",{"data-lucide":"phone",style:{width:"18px",height:"18px",marginRight:"8px"}}),t.number))),React.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",borderRadius:"10px",border:"1px solid #ffc107"}},React.createElement("p",{style:{margin:0,fontSize:"13px",color:"#856404"}},React.createElement("strong",null,"\u26A0\uFE0F Important:")," If you or someone else is in immediate danger, call 911 or go to the nearest emergency room.")),React.createElement("button",{onClick:I,style:{marginTop:"20px",background:"#6c757d",color:"#fff",padding:"12px",borderRadius:"8px",border:"none",fontSize:"16px",cursor:"pointer",width:"100%"}},"Close"))))};window.GLRSApp=window.GLRSApp||{},window.GLRSApp.modals={ImageModal,DisclaimerModal,LegalModal,CrisisModal},console.log("\u2705 Modals.js loaded - 4 modal components available");function GoalsTasksView({user:I,goals:o,assignments:t,onAssignmentComplete:i,onReflectionSave:a,onShowGratitudeModal:g,onDueTodayChange:F}){const[H,B]=useState({}),[G,ie]=useState({}),[se,V]=useState({}),[te,J]=useState({}),[O,Y]=useState([]),[E,$]=useState(null),[ne,_]=useState(!1),[ae,Q]=useState(!1),[e,n]=useState(""),[r,d]=useState(!1),[p,l]=useState(!1),[m,f]=useState(!1),[R,M]=useState([]),[y,w]=useState(!1);useEffect(()=>{b()},[o]),useEffect(()=>{(r||p||m||y)&&setTimeout(()=>{typeof lucide<"u"&&lucide.createIcons&&lucide.createIcons()},100)},[r,p,m,y]),useEffect(()=>{setTimeout(()=>{typeof lucide<"u"&&lucide.createIcons&&lucide.createIcons()},100)},[o,O,H,G,R]);const b=async()=>{try{const c=await db.collection("objectives").where("userId","==",I.uid).orderBy("order","asc").get(),u=[];c.forEach(C=>{u.push({id:C.id,...C.data()})}),Y(u)}catch{}},D=c=>{B(u=>({...u,[c]:!u[c]}))},A=c=>{ie(u=>({...u,[c]:!u[c]}))},P=(c,u)=>{$({...c,type:u}),_(!0),Q(!1),n("")},K=()=>{_(!1),$(null),Q(!1),n("")},X=c=>{const u=t.filter(k=>k.goalId===c);if(u.length===0)return 0;const C=u.filter(k=>k.status==="completed").length;return Math.round(C/u.length*100)},W=c=>c?(c.toDate?c.toDate():new Date(c)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",L=(c,u)=>{if(u)return{text:"Completed",color:"#4CAF50"};if(!c)return{text:"No due date",color:"rgba(255,255,255,0.5)"};const C=c.toDate?c.toDate():new Date(c),x=Math.ceil((C-new Date)/(1e3*60*60*24));return x<0?{text:"Overdue",color:"#ff453a"}:x===0?{text:"Due Today",color:"#ff9500"}:x===1?{text:"Due Tomorrow",color:"#ff9500"}:x<=7?{text:`Due in ${x} days`,color:"#ffd60a"}:{text:W(c),color:"rgba(255,255,255,0.7)"}},q=c=>{if(!c)return null;const u=/(https?:\/\/[^\s]+)/g;return c.split(u).map((k,x)=>k.match(u)?React.createElement("a",{key:x,href:k,target:"_blank",rel:"noopener noreferrer",style:{color:"#4fc3f7",textDecoration:"underline"}},k):React.createElement("span",{key:x},k))},j=()=>{if(!E||!ne)return null;const c=E.status==="completed",u={objective:"linear-gradient(135deg, #058585 0%, #046B6B 100%)",assignment:"linear-gradient(135deg, #00A86B 0%, #008554 100%)"};return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"}},React.createElement("div",{style:{background:"#1a1a1a",borderRadius:"15px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"auto",position:"relative",border:"1px solid rgba(255,255,255,0.1)"}},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid rgba(255,255,255,0.1)",background:u[E.type]}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("span",{style:{background:"rgba(0,0,0,0.3)",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:"bold",letterSpacing:"0.5px",color:"white"}},E.type.toUpperCase()),c&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"18px",height:"18px",color:"white"}})),React.createElement("button",{onClick:K,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer",color:"white",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center"}},"\xD7")),React.createElement("h3",{style:{color:"white",margin:"10px 0 0 0",fontSize:"20px",textDecoration:c?"line-through":"none"}},E.title)),React.createElement("div",{style:{padding:"20px"}},E.description&&React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"}},"Description"),React.createElement("div",{style:{color:"white",fontSize:"14px",lineHeight:"1.6",background:"rgba(255,255,255,0.05)",padding:"12px",borderRadius:"8px"}},q(E.description))),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"20px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"rgba(255,255,255,0.7)",fontSize:"13px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"14px",height:"14px"}}),React.createElement("span",null,"Created:"),React.createElement("span",{style:{color:"white"}},W(E.createdAt))),E.dueDate&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"rgba(255,255,255,0.7)",fontSize:"13px"}},React.createElement("i",{"data-lucide":"clock",style:{width:"14px",height:"14px"}}),React.createElement("span",null,"Due:"),React.createElement("span",{style:{color:L(E.dueDate,c).color==="#4CAF50"?"#0077CC":L(E.dueDate,c).color}},W(E.dueDate))),E.completedAt&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#0077CC",fontSize:"13px"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"14px",height:"14px"}}),React.createElement("span",null,"Completed:"),React.createElement("span",null,W(E.completedAt)))),React.createElement("div",{style:{padding:"10px",background:c?"rgba(0,119,204,0.1)":"rgba(255,152,0,0.1)",borderRadius:"8px",border:`1px solid ${c?"rgba(0,119,204,0.3)":"rgba(255,152,0,0.3)"}`,marginBottom:"20px"}},React.createElement("span",{style:{color:c?"#0077CC":"#ff9800",fontSize:"13px",fontWeight:"500"}},"Status: ",c?"Completed":"Active")),E.reflection&&React.createElement("div",{style:{marginTop:"15px",padding:"12px",background:"rgba(0,119,204,0.1)",borderRadius:"8px",borderLeft:"3px solid #0077CC"}},React.createElement("h4",{style:{color:"#0077CC",fontSize:"12px",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"}},"Your Reflection"),React.createElement("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",margin:0,lineHeight:"1.6"}},E.reflection)),E.type==="assignment"&&!c&&ae&&React.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}},React.createElement("label",{style:{color:"white",fontSize:"14px",display:"block",marginBottom:"10px",fontWeight:"500"}},"Add your reflection:"),React.createElement("textarea",{value:e,onChange:C=>n(C.target.value),placeholder:"What did you learn? How did this help your recovery?",style:{width:"100%",minHeight:"100px",padding:"10px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",color:"white",fontSize:"14px",resize:"vertical"},autoFocus:!0}),React.createElement("div",{style:{marginTop:"12px",display:"flex",gap:"10px"}},React.createElement("button",{onClick:()=>{a(E.id,e),K()},style:{flex:1,padding:"10px",background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"}},"Submit Reflection & Complete"),React.createElement("button",{onClick:()=>{Q(!1),n("")},style:{padding:"10px 20px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"14px"}},"Cancel"))),E.type==="assignment"&&!c&&React.createElement("div",{style:{marginTop:"20px",display:"flex",gap:"10px"}},!ae&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:()=>Q(!0),style:{flex:1,padding:"12px",background:"linear-gradient(135deg, #0077CC 0%, #005A9C 100%)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"}},"Complete with Reflection"),React.createElement("button",{onClick:()=>{i(E.id,!0),K()},style:{flex:1,padding:"12px",background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"}},"Mark Complete Only"))))))};if(o.length===0)return React.createElement("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.6)",padding:"40px"}},React.createElement("div",{style:{marginBottom:"var(--space-4)"}},React.createElement("i",{"data-lucide":"target",style:{width:"48px",height:"48px",color:"var(--color-primary)"}})),React.createElement("p",null,"No goals assigned yet."),React.createElement("p",{style:{fontSize:"14px",marginTop:"10px"}},"Your coach will create goals for your recovery journey."));const s=o.filter(c=>c.status!=="completed").length,S=O.filter(c=>c.status!=="completed").length,pe=t.filter(c=>c.status!=="completed").length,le=t.length,de=t.filter(c=>c.status==="completed").length,me=le>0?Math.round(de/le*100):0,re=o.filter(c=>c.status!=="completed"),oe=o.filter(c=>c.status==="completed"),ce=(()=>{const c=new Date;c.setHours(0,0,0,0);let u=0;const C=t.filter(x=>{if(x.status==="completed"||!x.dueDate)return!1;const T=x.dueDate.toDate?x.dueDate.toDate():new Date(x.dueDate);return T.setHours(0,0,0,0),T.getTime()===c.getTime()}).length;u+=C;const k=O.filter(x=>{if(x.status==="completed"||!x.dueDate)return!1;const T=x.dueDate.toDate?x.dueDate.toDate():new Date(x.dueDate);return T.setHours(0,0,0,0),T.getTime()===c.getTime()}).length;return u+=k,u})();return useEffect(()=>{F&&F(ce)},[ce,F]),React.createElement(React.Fragment,null,React.createElement("div",{style:{padding:"0 20px",paddingBottom:"12px"}},React.createElement("h2",{style:{color:"#000000",fontSize:"18px",fontWeight:"bold",margin:"16px 0 12px 0",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"target",style:{width:"20px",height:"20px",color:"#0077CC"}}),"Active Goals (",re.length,")"),re.length===0?React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0,119,204,0.05) 0%, rgba(5,133,133,0.05) 100%)",borderRadius:"12px",padding:"40px 20px",textAlign:"center",border:"2px dashed #0077CC"}},React.createElement("i",{"data-lucide":"target",style:{width:"56px",height:"56px",color:"#0077CC",marginBottom:"16px"}}),React.createElement("h3",{style:{color:"#000000",fontSize:"16px",fontWeight:"600",margin:"0 0 8px 0"}},"Your Goal Journey Awaits"),React.createElement("p",{style:{color:"#666666",fontSize:"14px",margin:"0 0 16px 0",lineHeight:"1.5"}},"Your coach will create personalized goals tailored to your recovery journey. Check back soon to see your customized roadmap to success."),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"#0077CC",fontSize:"13px",fontWeight:"500"}},React.createElement("i",{"data-lucide":"sparkles",style:{width:"16px",height:"16px"}}),React.createElement("span",null,"Goals will appear here once assigned"))):re.map(c=>{const u=O.filter(v=>v.goalId===c.id),C=X(c.id),k=H[c.id],x=c.status==="completed",T=L(c.dueDate,x);return React.createElement("div",{key:c.id,style:{background:"#FFFFFF",borderRadius:"12px",marginBottom:"16px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",borderLeft:"3px solid #0077CC"}},React.createElement("div",{onClick:()=>D(c.id),style:{padding:"16px",cursor:"pointer",borderBottom:k?"1px solid rgba(0,0,0,0.08)":"none"}},React.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"8px"}},React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px",color:"#666666",transform:k?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"}},React.createElement("span",{style:{background:"linear-gradient(135deg, #0077CC 0%, #005A9C 100%)",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",letterSpacing:"0.5px",color:"#FFFFFF"}},"GOAL"),x&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"16px",height:"16px",color:"#0077CC"}})),React.createElement("h3",{style:{color:"#000000",margin:0,fontSize:"16px",fontWeight:"600",textDecoration:x?"line-through":"none",opacity:x?.6:1}},c.title))),c.description&&React.createElement("div",{style:{color:"#666666",fontSize:"13px",marginBottom:"12px",paddingLeft:"32px",lineHeight:"1.5"}},q(c.description)),React.createElement("div",{style:{display:"flex",gap:"16px",marginBottom:"12px",paddingLeft:"32px",flexWrap:"wrap"}},React.createElement("span",{style:{color:"#999999",fontSize:"11px",display:"flex",alignItems:"center",gap:"4px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"12px",height:"12px"}}),W(c.createdAt)),c.dueDate&&React.createElement("span",{style:{color:T.color==="#4CAF50"?"#0077CC":T.color,fontSize:"11px",display:"flex",alignItems:"center",gap:"4px",fontWeight:"500"}},React.createElement("i",{"data-lucide":"clock",style:{width:"12px",height:"12px"}}),T.text)),React.createElement("div",{style:{paddingLeft:"32px"}},React.createElement("div",{style:{background:"#E9ECEF",borderRadius:"4px",height:"6px",overflow:"hidden"}},React.createElement("div",{style:{background:"linear-gradient(90deg, #0077CC 0%, #005A9C 100%)",width:`${C}%`,height:"100%",transition:"width 0.3s ease"}})),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"}},React.createElement("span",{style:{color:"#666666",fontSize:"11px",fontWeight:"500"}},C,"% Complete"),React.createElement("span",{style:{color:"#999999",fontSize:"11px"}},u.length," Objectives \u2022 ",t.filter(v=>v.goalId===c.id).length," Tasks")))),k&&React.createElement("div",{style:{padding:"0 16px 16px 16px"}},u.length===0?React.createElement("p",{style:{color:"#999999",fontSize:"13px",paddingLeft:"32px",margin:"12px 0"}},"No objectives created yet."):u.map(v=>{const Z=t.filter(h=>h.objectiveId===v.id),U=v.status==="completed",ee=G[v.id];return React.createElement("div",{key:v.id,style:{marginTop:"12px",marginLeft:"20px",paddingLeft:"16px",borderLeft:"2px solid #058585"}},React.createElement("div",{onClick:h=>{h.stopPropagation(),A(v.id)},style:{background:"#F8F9FA",borderRadius:"8px",padding:"12px",marginBottom:"8px",cursor:"pointer",transition:"background 0.2s",border:"1px solid #E9ECEF"},onMouseEnter:h=>{h.currentTarget.style.background="#E9ECEF"},onMouseLeave:h=>{h.currentTarget.style.background="#F8F9FA"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666",transform:ee?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",flexShrink:0}}),React.createElement("span",{style:{background:"linear-gradient(135deg, #058585 0%, #046B6B 100%)",padding:"2px 6px",borderRadius:"3px",fontSize:"9px",fontWeight:"bold",color:"#FFFFFF",letterSpacing:"0.5px"}},"OBJECTIVE"),U&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"14px",height:"14px",color:"#058585"}}),React.createElement("span",{style:{color:"#000000",fontSize:"13px",fontWeight:"500",textDecoration:U?"line-through":"none",opacity:U?.6:1,flex:1}},v.title),React.createElement("span",{style:{color:"#999999",fontSize:"11px"}},Z.length," tasks"))),ee&&Z.map(h=>{const z=h.status==="completed";return React.createElement("div",{key:h.id,style:{display:"flex",alignItems:"center",gap:"10px",marginLeft:"20px",marginBottom:"8px",paddingLeft:"16px",borderLeft:"1px solid #CED4DA"}},React.createElement("input",{type:"checkbox",checked:z,disabled:z,onChange:N=>{!z&&N.target.checked&&i(h.id,!0)},style:{width:"20px",height:"20px",cursor:z?"not-allowed":"pointer",accentColor:"#00A86B",flexShrink:0}}),React.createElement("div",{onClick:()=>P(h,"assignment"),style:{flex:1,background:"#FFFFFF",borderRadius:"6px",padding:"10px",border:"1px solid #E9ECEF",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>{N.currentTarget.style.background="#F8F9FA"},onMouseLeave:N=>{N.currentTarget.style.background="#FFFFFF"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("span",{style:{background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",padding:"2px 6px",borderRadius:"3px",fontSize:"8px",fontWeight:"bold",color:"#FFFFFF",letterSpacing:"0.5px"}},"TASK"),z&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"12px",height:"12px",color:"#00A86B"}}),React.createElement("span",{style:{color:"#000000",fontSize:"12px",textDecoration:z?"line-through":"none",opacity:z?.5:1,flex:1}},h.title),React.createElement("i",{"data-lucide":"arrow-right",style:{width:"12px",height:"12px",color:"#CCCCCC"}}))))}))})))})),oe.length>0&&React.createElement("div",{style:{padding:"0 20px",paddingBottom:"20px"}},React.createElement("h2",{style:{color:"#000000",fontSize:"18px",fontWeight:"bold",margin:"16px 0 12px 0",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px",color:"#0077CC"}}),"Completed Goals (",oe.length,")"),oe.map(c=>{const u=O.filter(v=>v.goalId===c.id),C=X(c.id),k=H[c.id],x=c.status==="completed",T=L(c.dueDate,x);return React.createElement("div",{key:c.id,style:{background:"#FFFFFF",borderRadius:"12px",marginBottom:"16px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",borderLeft:"3px solid #0077CC"}},React.createElement("div",{onClick:()=>D(c.id),style:{padding:"16px",cursor:"pointer",borderBottom:k?"1px solid rgba(0,0,0,0.08)":"none"}},React.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"8px"}},React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px",color:"#666666",transform:k?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"}},React.createElement("span",{style:{background:"linear-gradient(135deg, #0077CC 0%, #005A9C 100%)",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",letterSpacing:"0.5px",color:"#FFFFFF"}},"GOAL"),x&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"16px",height:"16px",color:"#0077CC"}})),React.createElement("h3",{style:{color:"#000000",margin:0,fontSize:"16px",fontWeight:"600",textDecoration:x?"line-through":"none",opacity:x?.6:1}},c.title))),c.description&&React.createElement("div",{style:{color:"#666666",fontSize:"13px",marginBottom:"12px",paddingLeft:"32px",lineHeight:"1.5"}},q(c.description)),React.createElement("div",{style:{display:"flex",gap:"16px",marginBottom:"12px",paddingLeft:"32px",flexWrap:"wrap"}},React.createElement("span",{style:{color:"#999999",fontSize:"11px",display:"flex",alignItems:"center",gap:"4px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"12px",height:"12px"}}),W(c.createdAt)),c.completedAt&&React.createElement("span",{style:{color:"#0077CC",fontSize:"11px",display:"flex",alignItems:"center",gap:"4px",fontWeight:"500"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"12px",height:"12px"}}),"Completed ",W(c.completedAt))),React.createElement("div",{style:{paddingLeft:"32px"}},React.createElement("div",{style:{background:"#E9ECEF",borderRadius:"4px",height:"6px",overflow:"hidden"}},React.createElement("div",{style:{background:"linear-gradient(90deg, #0077CC 0%, #005A9C 100%)",width:`${C}%`,height:"100%",transition:"width 0.3s ease"}})),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"}},React.createElement("span",{style:{color:"#666666",fontSize:"11px",fontWeight:"500"}},C,"% Complete"),React.createElement("span",{style:{color:"#999999",fontSize:"11px"}},u.length," Objectives \u2022 ",t.filter(v=>v.goalId===c.id).length," Tasks")))),k&&React.createElement("div",{style:{padding:"0 16px 16px 16px"}},u.length===0?React.createElement("p",{style:{color:"#999999",fontSize:"13px",paddingLeft:"32px",margin:"12px 0"}},"No objectives created yet."):u.map(v=>{const Z=t.filter(h=>h.objectiveId===v.id),U=v.status==="completed",ee=G[v.id];return React.createElement("div",{key:v.id,style:{marginTop:"12px",marginLeft:"20px",paddingLeft:"16px",borderLeft:"2px solid #058585"}},React.createElement("div",{onClick:h=>{h.stopPropagation(),A(v.id)},style:{background:"#F8F9FA",borderRadius:"8px",padding:"12px",marginBottom:"8px",cursor:"pointer",transition:"background 0.2s",border:"1px solid #E9ECEF"},onMouseEnter:h=>{h.currentTarget.style.background="#E9ECEF"},onMouseLeave:h=>{h.currentTarget.style.background="#F8F9FA"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666",transform:ee?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",flexShrink:0}}),React.createElement("span",{style:{background:"linear-gradient(135deg, #058585 0%, #046B6B 100%)",padding:"2px 6px",borderRadius:"3px",fontSize:"9px",fontWeight:"bold",color:"#FFFFFF",letterSpacing:"0.5px"}},"OBJECTIVE"),U&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"14px",height:"14px",color:"#058585"}}),React.createElement("span",{style:{color:"#000000",fontSize:"13px",fontWeight:"500",textDecoration:U?"line-through":"none",opacity:U?.6:1,flex:1}},v.title),React.createElement("span",{style:{color:"#999999",fontSize:"11px"}},Z.length," tasks"))),ee&&Z.map(h=>{const z=h.status==="completed";return React.createElement("div",{key:h.id,style:{display:"flex",alignItems:"center",gap:"10px",marginLeft:"20px",marginBottom:"8px",paddingLeft:"16px",borderLeft:"1px solid #CED4DA"}},React.createElement("input",{type:"checkbox",checked:z,disabled:z,onChange:N=>{!z&&N.target.checked&&i(h.id,!0)},style:{width:"20px",height:"20px",cursor:z?"not-allowed":"pointer",accentColor:"#00A86B",flexShrink:0}}),React.createElement("div",{onClick:()=>P(h,"assignment"),style:{flex:1,background:"#FFFFFF",borderRadius:"6px",padding:"10px",border:"1px solid #E9ECEF",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>{N.currentTarget.style.background="#F8F9FA"},onMouseLeave:N=>{N.currentTarget.style.background="#FFFFFF"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("span",{style:{background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",padding:"2px 6px",borderRadius:"3px",fontSize:"8px",fontWeight:"bold",color:"#FFFFFF",letterSpacing:"0.5px"}},"TASK"),z&&React.createElement("i",{"data-lucide":"check-circle",style:{width:"12px",height:"12px",color:"#00A86B"}}),React.createElement("span",{style:{color:"#000000",fontSize:"12px",textDecoration:z?"line-through":"none",opacity:z?.5:1,flex:1}},h.title),React.createElement("i",{"data-lucide":"arrow-right",style:{width:"12px",height:"12px",color:"#CCCCCC"}}))))}))})))})))}window.GLRSApp.components.GoalsTasksView=GoalsTasksView,window.GLRSApp=window.GLRSApp||{},window.GLRSApp.modals=window.GLRSApp.modals||{},window.GLRSApp.modals.GroupDetailModal=({isOpen:I,onClose:o})=>null;function ModalContainer({type:I,onClose:o,data:t,handlers:i}){const[a,g]=useState({}),[F,H]=useState({mood:5,craving:0,sleepQuality:5,anxietyLevel:0,notes:""}),[B,G]=useState({gratitude:"",challenges:"",tomorrowGoal:"",overallDay:5}),[ie,se]=useState(""),[V,te]=useState(null),[J,O]=useState(""),[Y,E]=useState(!1),$=t.user||{},ne=e=>{const n=e.target.files[0];n&&te(n)},_=async()=>{if(!(!J.trim()&&!V)){E(!0);try{await i.sendTopicMessage(J||"",V),O(""),te(null);const e=document.querySelector('input[type="file"]');e&&(e.value="")}catch{showNotification("Failed to send message","error")}finally{E(!1)}}},ae=e=>{i.flagMessage&&i.flagMessage(e)};return(()=>{switch(I){case"notifications":return React.createElement("div",{className:"notification-panel"},React.createElement("h3",{style:{marginBottom:"20px"}},"Notifications"),t.notifications.length>0?React.createElement(React.Fragment,null,t.notifications.map(e=>React.createElement("div",{key:e.id,className:`notification-item ${e.read?"":"unread"}`,onClick:()=>i.markNotificationAsRead(e.id)},React.createElement("div",{className:"notification-header"},React.createElement("span",{className:"notification-type"},e.type),React.createElement("span",{className:"notification-time"},e.createdAt?.toDate?new Date(e.createdAt.toDate()).toLocaleTimeString():"now")),React.createElement("div",{className:"notification-message"},React.createElement("strong",null,e.title),React.createElement("div",null,e.message)))),t.notifications.some(e=>!e.read)&&React.createElement("button",{className:"btn-primary",onClick:i.markAllNotificationsAsRead,style:{marginTop:"15px"}},"Mark All as Read")):React.createElement("div",{style:{textAlign:"center",opacity:.6,padding:"40px"}},"No notifications"));case"checkIn":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Morning Check-in"),React.createElement("div",{className:"slider-group"},React.createElement("div",{className:"slider-label"},React.createElement("span",null,"Overall Mood"),React.createElement("span",{className:"slider-value"},F.mood)),React.createElement("input",{type:"range",className:"slider",min:"0",max:"10",value:F.mood,onChange:e=>H({...F,mood:parseInt(e.target.value)})}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"5px"}},React.createElement("span",null,"0 (Worst)"),React.createElement("span",null,"5 (Neutral)"),React.createElement("span",null,"10 (Best)"))),React.createElement("div",{className:"slider-group"},React.createElement("div",{className:"slider-label"},React.createElement("span",null,"Craving Intensity"),React.createElement("span",{className:"slider-value"},F.craving)),React.createElement("input",{type:"range",className:"slider",min:"0",max:"10",value:F.craving,onChange:e=>H({...F,craving:parseInt(e.target.value)})}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"5px"}},React.createElement("span",null,"0 (None)"),React.createElement("span",null,"5 (Moderate)"),React.createElement("span",null,"10 (Intense)"))),React.createElement("div",{className:"slider-group"},React.createElement("div",{className:"slider-label"},React.createElement("span",null,"Sleep Quality"),React.createElement("span",{className:"slider-value"},F.sleepQuality)),React.createElement("input",{type:"range",className:"slider",min:"0",max:"10",value:F.sleepQuality,onChange:e=>H({...F,sleepQuality:parseInt(e.target.value)})}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"5px"}},React.createElement("span",null,"0 (Terrible)"),React.createElement("span",null,"5 (Fair)"),React.createElement("span",null,"10 (Excellent)"))),React.createElement("div",{className:"slider-group"},React.createElement("div",{className:"slider-label"},React.createElement("span",null,"Anxiety Level"),React.createElement("span",{className:"slider-value"},F.anxietyLevel)),React.createElement("input",{type:"range",className:"slider",min:"0",max:"10",value:F.anxietyLevel,onChange:e=>H({...F,anxietyLevel:parseInt(e.target.value)})}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"5px"}},React.createElement("span",null,"0 (Calm)"),React.createElement("span",null,"5 (Moderate)"),React.createElement("span",null,"10 (Severe)"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Notes (Optional)"),React.createElement("textarea",{className:"textarea",placeholder:"Any thoughts or feelings you'd like to share?",value:F.notes,onChange:e=>H({...F,notes:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{await i.handleMorningCheckIn(F),o()}},"Submit Check-in"));case"reflection":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Evening Reflection"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"What are you grateful for today?"),React.createElement("textarea",{className:"textarea",placeholder:"List 3 things you're grateful for...",value:B.gratitude,onChange:e=>G({...B,gratitude:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"What challenges did you face?"),React.createElement("textarea",{className:"textarea",placeholder:"Describe any difficulties...",value:B.challenges,onChange:e=>G({...B,challenges:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"What's one goal for tomorrow?"),React.createElement("textarea",{className:"textarea",placeholder:"Set an intention...",value:B.tomorrowGoal,onChange:e=>G({...B,tomorrowGoal:e.target.value})})),React.createElement("div",{className:"slider-group"},React.createElement("div",{className:"slider-label"},React.createElement("span",null,"Overall Day Rating"),React.createElement("span",{className:"slider-value"},B.overallDay)),React.createElement("input",{type:"range",className:"slider",min:"0",max:"10",value:B.overallDay,onChange:e=>G({...B,overallDay:parseInt(e.target.value)})}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"5px"}},React.createElement("span",null,"0 (Terrible)"),React.createElement("span",null,"5 (OK)"),React.createElement("span",null,"10 (Excellent)"))),React.createElement("button",{className:"btn-primary",onClick:async()=>{await i.handleEveningReflection(B),o()}},"Submit Reflection"));case"topicRoom":return React.createElement("div",null," ",React.createElement("h3",{style:{marginBottom:"20px"}},t.activeTopicRoom?.icon," ",t.activeTopicRoom?.name),React.createElement("p",{style:{opacity:.8,marginBottom:"20px"}},t.activeTopicRoom?.description),React.createElement("div",{style:{flex:1,overflowY:"auto",padding:"15px",height:"300px"}},t.topicRoomMessages?.map(e=>React.createElement("div",{key:e.id,style:{background:e.userId===$.uid?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"rgba(255,255,255,0.05)",padding:"12px",borderRadius:"12px",marginBottom:"10px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:"bold",color:"#f4c430"}},e.senderName||"Anonymous"),React.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},React.createElement("span",{style:{fontSize:"12px",opacity:.7,color:"white"}},e.createdAt?.toDate?e.createdAt.toDate().toLocaleTimeString():"sending..."),e.userId!==$.uid&&React.createElement("button",{onClick:()=>ae(e),style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.5)",cursor:"pointer",fontSize:"14px",padding:"2px"},title:"Flag inappropriate content"},React.createElement("i",{"data-lucide":"flag",style:{width:"16px",height:"16px"}})))),e.message&&React.createElement("p",{style:{margin:0,color:"white",lineHeight:1.5}},e.message),e.imageUrl&&React.createElement("img",{src:e.imageUrl,alt:"Shared",style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px",marginTop:"10px",cursor:"pointer"},onClick:()=>window.open(e.imageUrl,"_blank")})))),React.createElement("div",{style:{padding:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"}},V&&React.createElement("div",{style:{marginBottom:"10px",padding:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("span",{style:{color:"white",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"camera",style:{width:"16px",height:"16px"}}),V.name),React.createElement("button",{onClick:()=>{te(null),document.getElementById("topic-image-input").value=""},style:{background:"transparent",border:"none",color:"white",cursor:"pointer"}},"\u2715")),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement("input",{type:"file",id:"topic-image-input",accept:"image/*",style:{display:"none"},onChange:ne}),React.createElement("button",{onClick:()=>document.getElementById("topic-image-input").click(),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"10px",color:"white",cursor:"pointer"},disabled:Y},React.createElement("i",{"data-lucide":"camera",style:{width:"18px",height:"18px"}})),React.createElement("input",{type:"text",value:J,onChange:e=>O(e.target.value),placeholder:"Type a message...",onKeyPress:e=>e.key==="Enter"&&_(),style:{flex:1,padding:"10px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",color:"white"}}),React.createElement("button",{onClick:_,disabled:Y||!J.trim()&&!V,style:{padding:"10px 20px",background:Y?"gray":"#f4c430",border:"none",borderRadius:"8px",color:"black",fontWeight:"bold",cursor:Y?"not-allowed":"pointer"}},Y?"...":"Send"))));case"account":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Account Settings"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Display Name"),React.createElement("input",{type:"text",className:"form-input",value:a.displayName||t.userData?.displayName||"",onChange:e=>g({...a,displayName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"First Name"),React.createElement("input",{type:"text",className:"form-input",value:a.firstName||t.userData?.firstName||"",onChange:e=>g({...a,firstName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Last Name"),React.createElement("input",{type:"text",className:"form-input",value:a.lastName||t.userData?.lastName||"",onChange:e=>g({...a,lastName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Phone"),React.createElement("input",{type:"tel",className:"form-input",value:a.phone||t.userData?.phone||"",onChange:e=>g({...a,phone:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Street Address"),React.createElement("input",{type:"text",className:"form-input",value:a.street||t.userData?.address?.street||"",onChange:e=>g({...a,street:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"City"),React.createElement("input",{type:"text",className:"form-input",value:a.city||t.userData?.address?.city||"",onChange:e=>g({...a,city:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"State"),React.createElement("input",{type:"text",className:"form-input",value:a.state||t.userData?.address?.state||"",onChange:e=>g({...a,state:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"ZIP"),React.createElement("input",{type:"text",className:"form-input",value:a.zip||t.userData?.address?.zip||"",onChange:e=>g({...a,zip:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{try{const e={...a,address:{street:a.street,city:a.city,state:a.state,zip:a.zip}};await db.collection("users").doc(t.user.uid).update(e),alert("Settings updated!"),o()}catch{alert("Failed to update settings")}}},"Save Changes"));case"emergency":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Emergency Contacts"),t.userData?.emergencyContacts?.map((e,n)=>React.createElement("div",{key:n,style:{background:"rgba(255,255,255,0.1)",borderRadius:"10px",padding:"15px",marginBottom:"10px"}},React.createElement("div",{style:{fontWeight:"bold"}},e.name),React.createElement("div",null,e.phone),React.createElement("div",{style:{opacity:.8,fontSize:"14px"}},e.relationship))),React.createElement("h4",{style:{marginTop:"20px",marginBottom:"15px"}},"Add New Contact"),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-input",placeholder:"Name",value:a.contactName||"",onChange:e=>g({...a,contactName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"tel",className:"form-input",placeholder:"Phone",value:a.contactPhone||"",onChange:e=>g({...a,contactPhone:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-input",placeholder:"Relationship",value:a.contactRelationship||"",onChange:e=>g({...a,contactRelationship:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{const e={name:a.contactName,phone:a.contactPhone,relationship:a.contactRelationship},n=t.userData?.emergencyContacts||[];n.push(e);try{await db.collection("users").doc(t.user.uid).update({emergencyContacts:n}),alert("Emergency contact added"),o()}catch{alert("Failed to add contact")}}},"Add Contact"));case"profilePrompt":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Complete Your Profile"),React.createElement("p",{style:{marginBottom:"20px",opacity:.9}},"Help us personalize your recovery journey by completing your profile."),React.createElement("button",{className:"btn-primary",onClick:()=>{o(),setTimeout(()=>setShowModal("account"),100)}},"Complete Profile"),React.createElement("button",{style:{background:"transparent",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"10px",borderRadius:"10px",width:"100%",marginTop:"10px",cursor:"pointer"},onClick:o},"Remind Me Later"));case"personalInfo":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Personal Information"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"First Name"),React.createElement("input",{type:"text",className:"form-input",value:a.firstName||t.userData?.firstName||"",onChange:e=>g({...a,firstName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Last Name"),React.createElement("input",{type:"text",className:"form-input",value:a.lastName||t.userData?.lastName||"",onChange:e=>g({...a,lastName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Display Name"),React.createElement("input",{type:"text",className:"form-input",value:a.displayName||t.userData?.displayName||"",onChange:e=>g({...a,displayName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Phone"),React.createElement("input",{type:"tel",className:"form-input",value:a.phone||t.userData?.phone||"",onChange:e=>g({...a,phone:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Date of Birth"),React.createElement("input",{type:"date",className:"form-input",value:a.dateOfBirth||t.userData?.dateOfBirth||"",onChange:e=>g({...a,dateOfBirth:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Gender"),React.createElement("select",{className:"form-select",value:a.gender||t.userData?.gender||"",onChange:e=>g({...a,gender:e.target.value})},React.createElement("option",{value:""},"Select Gender"),React.createElement("option",{value:"male"},"Male"),React.createElement("option",{value:"female"},"Female"),React.createElement("option",{value:"non-binary"},"Non-Binary"),React.createElement("option",{value:"prefer-not"},"Prefer Not to Say"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Street Address"),React.createElement("input",{type:"text",className:"form-input",value:a.street||t.userData?.address?.street||"",onChange:e=>g({...a,street:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"City"),React.createElement("input",{type:"text",className:"form-input",value:a.city||t.userData?.address?.city||"",onChange:e=>g({...a,city:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"State"),React.createElement("input",{type:"text",className:"form-input",value:a.state||t.userData?.address?.state||"",onChange:e=>g({...a,state:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"ZIP Code"),React.createElement("input",{type:"text",className:"form-input",value:a.zip||t.userData?.address?.zip||"",onChange:e=>g({...a,zip:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Insurance Provider (Optional)"),React.createElement("input",{type:"text",className:"form-input",value:a.insurance||t.userData?.insurance||"",onChange:e=>g({...a,insurance:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Insurance ID (Optional)"),React.createElement("input",{type:"text",className:"form-input",value:a.insuranceId||t.userData?.insuranceId||"",onChange:e=>g({...a,insuranceId:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{try{const e={};if(a.firstName!==void 0&&a.firstName!==""&&(e.firstName=a.firstName),a.lastName!==void 0&&a.lastName!==""&&(e.lastName=a.lastName),a.displayName!==void 0&&a.displayName!==""&&(e.displayName=a.displayName),a.phone!==void 0&&a.phone!==""&&(e.phone=a.phone),a.dateOfBirth!==void 0&&a.dateOfBirth!==""&&(e.dateOfBirth=a.dateOfBirth),a.gender!==void 0&&a.gender!==""&&(e.gender=a.gender),a.insurance!==void 0&&a.insurance!==""&&(e.insurance=a.insurance),a.insuranceId!==void 0&&a.insuranceId!==""&&(e.insuranceId=a.insuranceId),["street","city","state","zip"].some(l=>a[l]!==void 0&&a[l]!=="")){const m=(await db.collection("users").doc(t.user.uid).get()).data()?.address||{};e.address={street:a.street!==void 0?a.street:m.street||"",city:a.city!==void 0?a.city:m.city||"",state:a.state!==void 0?a.state:m.state||"",zip:a.zip!==void 0?a.zip:m.zip||""}}if(e.updatedAt=firebase.firestore.FieldValue.serverTimestamp(),Object.keys(e).length===1){alert("No changes to save");return}await db.collection("users").doc(t.user.uid).update(e);const d=await db.collection("users").doc(t.user.uid).get();t.setUserData&&t.setUserData(d.data());const p=Object.keys(e).filter(l=>l!=="updatedAt");alert(`Successfully updated: ${p.join(", ")}`),o()}catch(e){e.code==="permission-denied"?alert("Permission denied. Please try logging out and back in."):e.code==="not-found"?alert("User record not found. Please contact support."):alert(`Failed to update information: ${e.message}`)}}},"Save Changes"));case"recoveryInfo":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Recovery Settings"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Sobriety Date & Time",React.createElement("small",{style:{display:"block",opacity:.8,marginTop:"5px",fontSize:"12px"}},"Enter the date and time 24 hours after your last use")),React.createElement("input",{type:"datetime-local",className:"form-input",value:a.sobrietyDateTime||(t.userData?.sobrietyDate?new Date(t.userData.sobrietyDate).toISOString().slice(0,16):""),onChange:e=>g({...a,sobrietyDateTime:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Primary Substance"),React.createElement("select",{className:"form-select",value:a.substance||t.userData?.substance||"",onChange:e=>g({...a,substance:e.target.value})},React.createElement("option",{value:""},"Select Substance"),React.createElement("option",{value:"alcohol"},"Alcohol"),React.createElement("option",{value:"opioids"},"Opioids"),React.createElement("option",{value:"stimulants"},"Stimulants"),React.createElement("option",{value:"cannabis"},"Cannabis"),React.createElement("option",{value:"benzodiazepines"},"Benzodiazepines"),React.createElement("option",{value:"multiple"},"Multiple Substances"),React.createElement("option",{value:"other"},"Other"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Daily Cost of Use ($)"),React.createElement("input",{type:"number",className:"form-input",placeholder:"Amount spent per day (e.g., 20)",value:a.dailyCost||t.userData?.dailyCost||"",onChange:e=>g({...a,dailyCost:parseFloat(e.target.value)})}),React.createElement("small",{style:{color:"rgba(255,255,255,0.6)",display:"block",marginTop:"5px"}},"Used to calculate money saved in recovery")),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Sponsor Name (Optional)"),React.createElement("input",{type:"text",className:"form-input",value:a.sponsorName||t.userData?.sponsorName||"",onChange:e=>g({...a,sponsorName:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Sponsor Phone (Optional)"),React.createElement("input",{type:"tel",className:"form-input",value:a.sponsorPhone||t.userData?.sponsorPhone||"",onChange:e=>g({...a,sponsorPhone:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{try{const e={};if(a.sobrietyDateTime){const r=new Date(a.sobrietyDateTime);e.sobrietyDate=r.toISOString()}if(a.substance!==void 0&&a.substance!==""&&(e.substance=a.substance),a.dailyCost!==void 0&&a.dailyCost!==""){const r=parseFloat(a.dailyCost),d=t.user.dailyCost||0;if(d>0&&r!==d){const p=t.user.actualMoneySaved||0,l=r/d,m=Math.round(p*l),f=`\u26A0\uFE0F Changing Daily Cost Impact:

Old: $${d}/day \u2192 New: $${r}/day

This will change all your savings calculations.

Your current actual savings: $${p.toLocaleString()}

Would you like to adjust your actual savings proportionally?

Adjusted amount: $${m.toLocaleString()}

Click OK to adjust, Cancel to keep $${p.toLocaleString()}`;confirm(f)&&(e.actualMoneySaved=m)}e.dailyCost=r}if(a.sponsorName!==void 0&&a.sponsorName!==""&&(e.sponsorName=a.sponsorName),a.sponsorPhone!==void 0&&a.sponsorPhone!==""&&(e.sponsorPhone=a.sponsorPhone),e.updatedAt=firebase.firestore.FieldValue.serverTimestamp(),Object.keys(e).length===1){alert("No changes to save");return}await db.collection("users").doc(t.user.uid).update(e);const n=await db.collection("users").doc(t.user.uid).get();if(t.setUserData&&(t.setUserData(n.data()),e.sobrietyDate)){const r=new Date(e.sobrietyDate),p=new Date-r,l=window.getSobrietyDays(userData.sobrietyDate);t.setSobrietyDays&&t.setSobrietyDays(diffDays>=0?diffDays:0),t.setMoneySaved&&n.data().dailyCost&&t.setMoneySaved((diffDays*n.data().dailyCost).toFixed(2))}alert("Recovery settings updated!"),o()}catch(e){alert("Failed to update settings: "+e.message)}}},"Save Changes"));case"password":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Password & Security"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Current Password"),React.createElement("input",{type:"password",className:"form-input",value:a.currentPassword||"",onChange:e=>g({...a,currentPassword:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"New Password"),React.createElement("input",{type:"password",className:"form-input",value:a.newPassword||"",onChange:e=>g({...a,newPassword:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Confirm New Password"),React.createElement("input",{type:"password",className:"form-input",value:a.confirmPassword||"",onChange:e=>g({...a,confirmPassword:e.target.value})})),React.createElement("button",{className:"btn-primary",onClick:async()=>{if(a.newPassword!==a.confirmPassword){alert("Passwords do not match");return}try{const e=firebase.auth.EmailAuthProvider.credential(t.user.email,a.currentPassword);await t.user.reauthenticateWithCredential(e),await t.user.updatePassword(a.newPassword),alert("Password updated successfully!"),o()}catch{alert("Failed to update password. Check current password.")}}},"Update Password"),React.createElement("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.1)"}},React.createElement("h4",{style:{marginBottom:"15px"}},"Two-Factor Authentication"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,marginBottom:"15px"}},"Add an extra layer of security to your account"),React.createElement("button",{className:"btn-primary",style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid #4CAF50"}},"Enable 2FA (Coming Soon)")));case"notificationSettings":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Notification Settings"),React.createElement("h4",{style:{marginBottom:"15px",color:"#f4c430"}},"Daily Reminders"),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Morning Check-in Time"),React.createElement("input",{type:"time",className:"form-input",value:a.morningCheckInTime||t.userData?.notifications?.morningCheckIn||"08:00",onChange:e=>g({...a,morningCheckInTime:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Evening Reflection Time"),React.createElement("input",{type:"time",className:"form-input",value:a.eveningReflectionTime||t.userData?.notifications?.eveningReflection||"20:00",onChange:e=>g({...a,eveningReflectionTime:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Daily Pledge Reminder"),React.createElement("input",{type:"time",className:"form-input",value:a.pledgeTime||t.userData?.notifications?.dailyPledge||"09:00",onChange:e=>g({...a,pledgeTime:e.target.value})})),React.createElement("h4",{style:{marginBottom:"15px",marginTop:"25px",color:"#f4c430"}},"Alert Preferences"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"15px"}},React.createElement("label",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("input",{type:"checkbox",checked:a.assignmentAlerts!==!1,onChange:e=>g({...a,assignmentAlerts:e.target.checked})}),"Assignment due date reminders"),React.createElement("label",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("input",{type:"checkbox",checked:a.milestoneAlerts!==!1,onChange:e=>g({...a,milestoneAlerts:e.target.checked})}),"Milestone celebration alerts"),React.createElement("label",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("input",{type:"checkbox",checked:a.messageAlerts!==!1,onChange:e=>g({...a,messageAlerts:e.target.checked})}),"New message notifications"),React.createElement("label",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("input",{type:"checkbox",checked:a.missedCheckInAlerts!==!1,onChange:e=>g({...a,missedCheckInAlerts:e.target.checked})}),"Missed check-in reminders")),React.createElement("h4",{style:{marginBottom:"15px",marginTop:"25px",color:"#f4c430"}},"Time Zone"),React.createElement("div",{className:"form-group"},React.createElement("select",{className:"form-select",value:a.timezone||t.userData?.timezone||"America/Los_Angeles",onChange:e=>g({...a,timezone:e.target.value})},React.createElement("option",{value:"America/Los_Angeles"},"Pacific Time"),React.createElement("option",{value:"America/Denver"},"Mountain Time"),React.createElement("option",{value:"America/Chicago"},"Central Time"),React.createElement("option",{value:"America/New_York"},"Eastern Time"),React.createElement("option",{value:"America/Phoenix"},"Arizona"),React.createElement("option",{value:"Pacific/Honolulu"},"Hawaii"),React.createElement("option",{value:"America/Anchorage"},"Alaska"))),React.createElement("button",{className:"btn-primary",onClick:async()=>{try{await db.collection("users").doc(t.user.uid).update({notifications:{morningCheckIn:a.morningCheckInTime,eveningReflection:a.eveningReflectionTime,dailyPledge:a.pledgeTime,assignmentAlerts:a.assignmentAlerts,milestoneAlerts:a.milestoneAlerts,messageAlerts:a.messageAlerts,missedCheckInAlerts:a.missedCheckInAlerts},timezone:a.timezone}),alert("Notification settings updated!"),o()}catch{alert("Failed to update settings")}}},"Save Settings"));case"googleCalendar":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Google Calendar Integration"),React.createElement("div",{style:{background:"rgba(244, 196, 48, 0.1)",border:"1px solid rgba(244, 196, 48, 0.3)",borderRadius:"10px",padding:"30px",marginBottom:"20px",textAlign:"center"}},React.createElement("div",{style:{marginBottom:"15px"}},React.createElement("i",{"data-lucide":"construction",style:{width:"64px",height:"64px",color:"var(--color-warning)"}})),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"10px",color:"#f4c430"}},"Coming Soon!"),React.createElement("div",{style:{fontSize:"16px",opacity:.9,lineHeight:"1.6"}},"We're working on Google Calendar integration.",React.createElement("br",null),"This feature will be available soon.")),React.createElement("div",{style:{background:"rgba(33, 150, 243, 0.1)",border:"1px solid rgba(33, 150, 243, 0.3)",borderRadius:"10px",padding:"20px",marginBottom:"20px"}},React.createElement("h4",{style:{color:"#2196F3",marginBottom:"15px",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"18px",height:"18px"}}),"What's Coming"),React.createElement("ul",{style:{fontSize:"14px",opacity:.9,paddingLeft:"20px",margin:"10px 0",lineHeight:"2"}},React.createElement("li",null,"Sync recovery milestones to your personal calendar"),React.createElement("li",null,"Automatic reminders for scheduled meetings"),React.createElement("li",null,"Support group session notifications"),React.createElement("li",null,"One-click calendar integration"))),React.createElement("button",{className:"btn-primary",onClick:o},"Got It"));case"help":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Help & Support"),React.createElement("div",{style:{background:"rgba(244, 196, 48, 0.1)",border:"1px solid rgba(244, 196, 48, 0.3)",borderRadius:"10px",padding:"15px",marginBottom:"20px"}},React.createElement("h4",{style:{color:"#f4c430",marginBottom:"10px"}},"Need Immediate Help?"),React.createElement("div",{style:{marginBottom:"10px"}},React.createElement("strong",null,"Crisis Line:")," ",React.createElement("a",{href:"tel:988",style:{color:"#f4c430"}},"988")),React.createElement("div",null,React.createElement("strong",null,"SAMHSA Helpline:")," ",React.createElement("a",{href:"tel:1-800-662-4357",style:{color:"#f4c430"}},"1-800-662-HELP"))),React.createElement("h4",{style:{marginBottom:"15px"}},"Contact Support"),React.createElement("div",{style:{marginBottom:"15px"}},React.createElement("strong",null,"Email:")," info@glrecoveryservices.com"),React.createElement("div",{style:{marginBottom:"15px"}},React.createElement("strong",null,"Phone:")," Contact Your Coach"),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("strong",null,"Hours:")," Monday - Friday, 9am - 5pm PST"),React.createElement("h4",{style:{marginBottom:"15px"}},"Frequently Asked Questions"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"15px"}},React.createElement("details",{style:{cursor:"pointer"}},React.createElement("summary",{style:{fontWeight:"bold",marginBottom:"5px"}},"How do I complete a check-in?"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,paddingLeft:"15px"}},"Navigate to the Tasks tab and tap on Morning Check-in or Evening Reflection.")),React.createElement("details",{style:{cursor:"pointer"}},React.createElement("summary",{style:{fontWeight:"bold",marginBottom:"5px"}},"How do I contact my coach?"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,paddingLeft:"15px"}},"Your coach's contact information is displayed in your profile. You can call or message them directly.")),React.createElement("details",{style:{cursor:"pointer"}},React.createElement("summary",{style:{fontWeight:"bold",marginBottom:"5px"}},"What if I miss a check-in?"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,paddingLeft:"15px"}},"Missing occasional check-ins is okay. Focus on building consistency over time. Your coach will be notified of patterns."))),React.createElement("button",{className:"btn-primary",style:{marginTop:"20px"},onClick:o},"Close"));case"feedback":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Send Feedback"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,marginBottom:"20px"}},"Your feedback helps us improve the recovery experience for everyone."),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Feedback Type"),React.createElement("select",{className:"form-select",value:a.feedbackType||"",onChange:e=>g({...a,feedbackType:e.target.value})},React.createElement("option",{value:""},"Select Type"),React.createElement("option",{value:"bug"},"Bug Report"),React.createElement("option",{value:"feature"},"Feature Request"),React.createElement("option",{value:"praise"},"Positive Feedback"),React.createElement("option",{value:"concern"},"Concern"),React.createElement("option",{value:"other"},"Other"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},"Your Feedback"),React.createElement("textarea",{className:"textarea",placeholder:"Tell us what's on your mind...",value:a.feedbackText||"",onChange:e=>g({...a,feedbackText:e.target.value}),style:{minHeight:"150px"}})),React.createElement("button",{className:"btn-primary",onClick:async()=>{if(!a.feedbackType||!a.feedbackText){alert("Please select a type and enter feedback");return}try{await db.collection("feedback").add({userId:t.user.uid,userName:t.userData?.displayName||t.userData?.firstName||"Anonymous",type:a.feedbackType,message:a.feedbackText,status:"new",createdAt:firebase.firestore.FieldValue.serverTimestamp()}),alert("Thank you for your feedback!"),o()}catch{alert("Failed to send feedback")}}},"Send Feedback"));case"export":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Export Your Data"),React.createElement("p",{style:{fontSize:"14px",opacity:.8,marginBottom:"20px"}},"Download all your recovery data in your preferred format."),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},React.createElement("button",{className:"btn-primary",onClick:()=>{triggerHaptic("light"),i.exportDataAsJSON()},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"download",style:{width:"18px",height:"18px"}}),"Export as JSON (Technical Format)"),React.createElement("button",{className:"btn-primary",onClick:()=>{triggerHaptic("light"),i.exportDataAsPDF()},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"file-text",style:{width:"18px",height:"18px"}}),"Export as PDF (Report Format)")),React.createElement("small",{style:{display:"block",marginTop:"20px",opacity:.6}},"Your export will include all check-ins, goals, assignments, and progress data."));case"deleteAccount":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px",color:"#ff4757"}},"Delete Account"),React.createElement("div",{style:{background:"rgba(255, 71, 87, 0.1)",border:"1px solid rgba(255, 71, 87, 0.3)",borderRadius:"10px",padding:"15px",marginBottom:"20px"}},React.createElement("strong",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"alert-triangle",style:{width:"18px",height:"18px",color:"#ff4757"}}),"This action cannot be undone!"),React.createElement("p",{style:{marginTop:"10px",fontSize:"14px"}},"Deleting your account will permanently remove:"),React.createElement("ul",{style:{fontSize:"14px",marginTop:"10px",paddingLeft:"20px"}},React.createElement("li",null,"All your check-ins and progress data"),React.createElement("li",null,"Goals and assignments"),React.createElement("li",null,"Messages and community posts"),React.createElement("li",null,"Your profile and settings"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"form-label"},'Type "DELETE" to confirm:'),React.createElement("input",{type:"text",className:"form-input",placeholder:"Type DELETE",value:a.deleteConfirm||"",onChange:e=>g({...a,deleteConfirm:e.target.value})})),React.createElement("button",{className:"btn-danger",disabled:a.deleteConfirm!=="DELETE",onClick:async()=>{if(confirm("Are you absolutely sure? This cannot be undone."))try{await db.collection("users").doc(t.user.uid).update({deleted:!0,deletedAt:firebase.firestore.FieldValue.serverTimestamp()}),await auth.currentUser.delete(),alert("Account deleted. We wish you the best in your recovery journey.")}catch{alert("Failed to delete account. You may need to sign in again.")}}},"Permanently Delete Account"),React.createElement("button",{style:{width:"100%",padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",cursor:"pointer",marginTop:"10px"},onClick:o},"Cancel"));case"terms":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Terms of Service"),React.createElement("div",{style:{fontSize:"14px",lineHeight:"1.6",opacity:.9}},React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"1. Acceptance of Terms"),React.createElement("p",null,"By using GLRS Recovery Services, you agree to these terms."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"2. Service Description"),React.createElement("p",null,"GLRS provides recovery coaching and support services. We are not a medical provider."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"3. User Responsibilities"),React.createElement("p",null,"You are responsible for maintaining the confidentiality of your account."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"4. Privacy"),React.createElement("p",null,"Your use of our services is also governed by our Privacy Policy."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"5. Disclaimers"),React.createElement("p",null,"Our services are not a substitute for medical treatment or professional therapy.")),React.createElement("button",{className:"btn-primary",style:{marginTop:"20px"},onClick:o},"I Understand"));case"privacy_policy":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"Privacy Policy"),React.createElement("div",{style:{fontSize:"14px",lineHeight:"1.6",opacity:.9}},React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"Information We Collect"),React.createElement("p",null,"We collect information you provide directly, including recovery data and personal information."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"How We Use Your Information"),React.createElement("p",null,"Your data is used to provide recovery support services and track your progress."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"Data Protection"),React.createElement("p",null,"We implement appropriate security measures to protect your information."),React.createElement("h4",{style:{marginTop:"15px",marginBottom:"10px"}},"Your Rights"),React.createElement("p",null,"You have the right to access, update, or delete your personal information.")),React.createElement("button",{className:"btn-primary",style:{marginTop:"20px"},onClick:o},"Close"));case"about":return React.createElement("div",null,React.createElement("h3",{style:{marginBottom:"20px"}},"About GLRS"),React.createElement("div",{style:{textAlign:"center",marginBottom:"20px"}},React.createElement("img",{src:"glrs-logo.png",alt:"GLRS Logo",style:{width:"80px",height:"auto",objectFit:"contain",margin:"0 auto"}})),React.createElement("div",{style:{fontSize:"14px",lineHeight:"1.6",opacity:.9}},React.createElement("p",{style:{marginBottom:"15px"}},React.createElement("strong",null,"Guiding Light Recovery Services")),React.createElement("p",{style:{marginBottom:"15px"}},"Version 1.0.0"),React.createElement("p",{style:{marginBottom:"15px"}},"GLRS Recovery Connect is a comprehensive recovery support platform designed to help individuals maintain their sobriety journey with daily check-ins, goal tracking, and coach support."),React.createElement("p",{style:{marginBottom:"15px"}},"\xA9 2024 Guiding Light Recovery Services. All rights reserved.")),React.createElement("button",{className:"btn-primary",style:{marginTop:"20px"},onClick:o},"Close"));case"setGoal":{const e=t.calculateSobrietyDays(t.userData.sobrietyDate),n=t.userData?.dailyCost||20;return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #058585",background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",borderRadius:"15px 15px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px"}},"Choose Your Savings Goal"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"}},"\xD7")),React.createElement("div",{style:{padding:"20px"}},React.createElement("p",{style:{color:"#666",fontSize:"14px",marginBottom:"20px"}},"Select a goal to track your progress. Your savings will be measured against this goal."),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},t.savingsGoals.map((r,d)=>{const p=e*n,l=Math.min(100,p/r.amount*100),m=p>=r.amount;return React.createElement("div",{key:d,onClick:()=>{i.setActiveSavingsGoal(r),o()},style:{padding:"16px",border:t.activeSavingsGoal?.name===r.name?"2px solid #058585":"1px solid #ddd",borderRadius:"10px",cursor:"pointer",background:m?"linear-gradient(135deg, rgba(0, 168, 107, 0.1) 0%, rgba(0, 168, 107, 0.05) 100%)":"#fff",transition:"all 0.2s ease"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="none"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":r.icon,style:{width:"24px",height:"24px",strokeWidth:2,color:"#058585"}}),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"2px"}},r.name),React.createElement("div",{style:{fontSize:"14px",color:"#666"}},"$",r.amount.toLocaleString())),m&&React.createElement("div",{style:{background:"#00A86B",color:"#fff",padding:"4px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600"}},"ACHIEVED")),React.createElement("div",{style:{width:"100%",height:"6px",background:"rgba(0,0,0,0.1)",borderRadius:"3px",overflow:"hidden"}},React.createElement("div",{style:{width:`${l}%`,height:"100%",background:m?"#00A86B":"#058585",borderRadius:"3px",transition:"width 0.3s ease"}})),React.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"6px"}},Math.round(l),"% progress"))})))))}case"jar":{const e=t.calculateSobrietyDays(t.userData.sobrietyDate),n=t.userData?.dailyCost||20;return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #FFD700",background:"linear-gradient(135deg, rgba(255,215,0,0.2) 0%, rgba(255,215,0,0.1) 100%)",color:"#333",borderRadius:"15px 15px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"piggy-bank",style:{width:"24px",height:"24px",strokeWidth:2}}),"Your Savings Jar"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"}},"\xD7")),React.createElement("div",{style:{padding:"24px",textAlign:"center"}},React.createElement("div",{style:{marginBottom:"30px"}},React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"16px"}},"Based on your sobriety, you would have spent:"),React.createElement("div",{style:{fontSize:"36px",fontWeight:"700",color:"#058585",marginBottom:"8px"}},"$",(e*n).toLocaleString()),React.createElement("div",{style:{fontSize:"13px",color:"#999"}},"Virtual Savings ($",n,"/day \xD7 ",e," days)")),React.createElement("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #ddd 50%, transparent 100%)",marginBottom:"20px"}}),React.createElement("div",{style:{marginBottom:"24px"}},React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"}},"Money you've actually saved:"),React.createElement("div",{style:{fontSize:"28px",fontWeight:"700",color:"#00A86B",marginBottom:"8px"}},"$",t.actualMoneySaved.toLocaleString()),React.createElement("button",{onClick:()=>{i.setTempAmount(t.actualMoneySaved.toString()),i.setShowModal("updateAmount")},style:{background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"8px 16px",borderRadius:"6px",border:"none",fontSize:"13px",fontWeight:"600",cursor:"pointer",marginTop:"8px"}},"Update Amount")),React.createElement("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"16px",textAlign:"left"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#333",marginBottom:"12px"}},"Savings Breakdown"),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"}},React.createElement("span",{style:{fontSize:"13px",color:"#666"}},"Days Sober:"),React.createElement("span",{style:{fontSize:"13px",fontWeight:"600",color:"#333"}},e)),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"}},React.createElement("span",{style:{fontSize:"13px",color:"#666"}},"Daily Cost:"),React.createElement("span",{style:{fontSize:"13px",fontWeight:"600",color:"#333"}},"$",n)),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"}},React.createElement("span",{style:{fontSize:"13px",color:"#666"}},"Total Virtual:"),React.createElement("span",{style:{fontSize:"13px",fontWeight:"600",color:"#058585"}},"$",(e*n).toLocaleString())),React.createElement("div",{style:{height:"1px",background:"#ddd",margin:"8px 0"}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement("span",{style:{fontSize:"13px",color:"#666"}},"Actual Saved:"),React.createElement("span",{style:{fontSize:"13px",fontWeight:"600",color:"#00A86B"}},"$",t.actualMoneySaved.toLocaleString()))),React.createElement("div",{style:{marginTop:"20px",padding:"12px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"}},React.createElement("p",{style:{margin:0,fontSize:"12px",color:"#856404"}},"\u{1F4A1} Tip: Keep your actual savings separate to build your emergency fund!")))))}case"addCountdown":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"500px",width:"100%"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #058585",background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",borderRadius:"15px 15px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px"}},"Add Custom Goal"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"}},"\xD7")),React.createElement("div",{style:{padding:"24px"}},React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"600",color:"#333"}},"Goal Name"),React.createElement("input",{type:"text",id:"customGoalName",placeholder:"e.g., New Laptop, Vacation, Car Repair",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",boxSizing:"border-box"}})),React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"600",color:"#333"}},"Target Amount ($)"),React.createElement("input",{type:"number",id:"customGoalAmount",placeholder:"e.g., 1500",min:"1",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",boxSizing:"border-box"}})),React.createElement("div",{style:{marginBottom:"24px"}},React.createElement("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"600",color:"#333"}},"Choose Icon"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"8px"}},["dollar-sign","shopping-cart","home","car","plane","heart","gift","trophy","star","zap","music","book"].map(e=>React.createElement("button",{key:e,onClick:n=>{document.querySelectorAll(".custom-goal-icon-btn").forEach(r=>{r.style.border="2px solid #ddd",r.style.background="#fff"}),n.currentTarget.style.border="2px solid #058585",n.currentTarget.style.background="rgba(5, 133, 133, 0.1)",n.currentTarget.dataset.selected="true"},className:"custom-goal-icon-btn","data-icon":e,style:{padding:"12px",border:"2px solid #ddd",borderRadius:"8px",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"}},React.createElement("i",{"data-lucide":e,style:{width:"20px",height:"20px",strokeWidth:2,color:"#058585"}}))))),React.createElement("button",{onClick:()=>{const e=document.getElementById("customGoalName").value,n=parseFloat(document.getElementById("customGoalAmount").value),r=document.querySelector('.custom-goal-icon-btn[data-selected="true"]'),d=r?r.dataset.icon:"target";if(!e||!n||n<=0){alert("Please enter a valid name and amount");return}const p={name:e,amount:n,icon:d,custom:!0};i.setCustomGoalItems([...t.customGoalItems,p]),o(),document.getElementById("customGoalName").value="",document.getElementById("customGoalAmount").value="",document.querySelectorAll(".custom-goal-icon-btn").forEach(l=>{l.style.border="2px solid #ddd",l.style.background="#fff",l.dataset.selected="false"})},style:{width:"100%",background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"14px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"600",cursor:"pointer"}},"Add Goal"))));case"updateAmount":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#fff",borderRadius:"15px",maxWidth:"400px",width:"100%"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #058585",background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",borderRadius:"15px 15px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px"}},"Update Savings Amount"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"}},"\xD7")),React.createElement("div",{style:{padding:"24px"}},React.createElement("p",{style:{color:"#666",fontSize:"14px",marginBottom:"16px"}},"Enter the amount you've actually saved so far."),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"600",color:"#333"}},"Amount ($)"),React.createElement("input",{type:"number",value:t.tempAmount,onChange:e=>i.setTempAmount(e.target.value),min:"0",step:"0.01",placeholder:"0.00",autoFocus:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #058585",fontSize:"16px",boxSizing:"border-box"},onKeyPress:e=>{if(e.key==="Enter"){const n=parseFloat(t.tempAmount);!isNaN(n)&&n>=0?(i.setActualMoneySaved(n),o()):alert("Please enter a valid amount")}}})),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement("button",{onClick:o,style:{flex:1,background:"#f0f0f0",color:"#666",padding:"12px",borderRadius:"8px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"Cancel"),React.createElement("button",{onClick:()=>{const e=parseFloat(t.tempAmount);!isNaN(e)&&e>=0?(i.setActualMoneySaved(e),o()):alert("Please enter a valid amount")},style:{flex:1,background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"12px",borderRadius:"8px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"Update")))));case"moodPattern":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Mood Improvement Tips"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Recommended Actions"),React.createElement("div",{style:{marginBottom:"20px"}},["Practice 5 minutes of deep breathing when you wake up","Get 15-30 minutes of sunlight exposure daily","Maintain a consistent sleep schedule","Limit caffeine intake after 2pm","Exercise for at least 20 minutes per day","Connect with a friend or family member","Write down three things you are grateful for"].map((e,n)=>React.createElement("div",{key:n,style:{background:"#F5F5F5",borderRadius:"8px",padding:"12px",marginBottom:"8px",display:"flex",gap:"12px",alignItems:"flex-start"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px",color:"#058585",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",lineHeight:"1.5"}},e)))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setCurrentView("guides"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"View Related Resources"))));case"cravingPattern":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Craving Management Tips"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Recommended Actions"),React.createElement("div",{style:{marginBottom:"20px"}},["Use the 5-4-3-2-1 grounding technique when cravings hit","Call your sponsor or accountability partner immediately","Remove yourself from triggering environments","Engage in physical activity to redirect energy","Practice HALT: Check if you are Hungry, Angry, Lonely, or Tired","Keep a craving journal to identify patterns and triggers"].map((e,n)=>React.createElement("div",{key:n,style:{background:"#F5F5F5",borderRadius:"8px",padding:"12px",marginBottom:"8px",display:"flex",gap:"12px",alignItems:"flex-start"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px",color:"#058585",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",lineHeight:"1.5"}},e)))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setCurrentView("guides"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"View Related Resources"))));case"anxietyPattern":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Anxiety Management Tips"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Recommended Actions"),React.createElement("div",{style:{marginBottom:"20px"}},["Practice 4-7-8 breathing: Inhale 4 counts, hold 7, exhale 8","Use progressive muscle relaxation techniques","Challenge negative thoughts with evidence-based thinking","Limit caffeine and sugar intake","Establish a calming bedtime routine","Practice mindfulness meditation for 10 minutes daily"].map((e,n)=>React.createElement("div",{key:n,style:{background:"#F5F5F5",borderRadius:"8px",padding:"12px",marginBottom:"8px",display:"flex",gap:"12px",alignItems:"flex-start"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px",color:"#058585",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",lineHeight:"1.5"}},e)))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setCurrentView("guides"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"View Related Resources"))));case"sleepPattern":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Sleep Improvement Tips"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Recommended Actions"),React.createElement("div",{style:{marginBottom:"20px"}},["Maintain consistent sleep and wake times, even on weekends","Create a relaxing bedtime routine 30-60 minutes before sleep","Keep your bedroom cool, dark, and quiet","Avoid screens at least 1 hour before bed","Limit naps to 20-30 minutes before 3pm","Avoid large meals, caffeine, and alcohol before bedtime"].map((e,n)=>React.createElement("div",{key:n,style:{background:"#F5F5F5",borderRadius:"8px",padding:"12px",marginBottom:"8px",display:"flex",gap:"12px",alignItems:"flex-start"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px",color:"#058585",flexShrink:0,marginTop:"2px"}}),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",lineHeight:"1.5"}},e)))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setCurrentView("guides"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"View Related Resources"))));case"tips":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Pattern Insights"),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{background:"#FFF8E1",borderRadius:"12px",padding:"16px",marginBottom:"20px",border:"1px solid #FFD54F"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},t.patternDetection.message),t.patternDetection.day&&React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},"Day: ",t.patternDetection.day," | Value: ",t.patternDetection.value)),React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Recommended Actions"),React.createElement("div",{style:{marginBottom:"20px"}},t.patternDetection.tips.map((e,n)=>React.createElement("div",{key:n,style:{background:"#F5F5F5",borderRadius:"8px",padding:"12px",marginBottom:"8px",display:"flex",gap:"12px"}},React.createElement("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#058585",color:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",flexShrink:0}},n+1),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",lineHeight:"1.5"}},e)))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setCurrentView("guides"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"View Related Guides"))));case"copingTechnique":{const e=new Date().getDate(),n=t.copingTechniques.find(r=>r.day===e)||t.copingTechniques[0];return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:o},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":n.icon,style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("div",null,React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},n.title),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666",marginTop:"4px"}},n.category," \u2022 Day ",n.day))),React.createElement("button",{onClick:o,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{textAlign:"center",padding:"20px",marginBottom:"20px",background:n.category==="Breathing"?"linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%)":n.category==="Mindfulness"?"linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%)":n.category==="Physical"?"linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%)":n.category==="Cognitive"?"linear-gradient(135deg, #FFF9C4 0%, #FFF59D 100%)":"linear-gradient(135deg, #FFE0B2 0%, #FFCC80 100%)",borderRadius:"12px"}},React.createElement("i",{"data-lucide":n.icon,style:{width:"64px",height:"64px",color:n.category==="Breathing"?"#1976D2":n.category==="Mindfulness"?"#7B1FA2":n.category==="Physical"?"#388E3C":n.category==="Cognitive"?"#F57F17":"#E64A19",marginBottom:"12px"}}),React.createElement("div",{style:{fontSize:"12px",fontWeight:"bold",color:"#666666",textTransform:"uppercase",letterSpacing:"1px"}},n.category," Technique")),React.createElement("h4",{style:{fontSize:"16px",fontWeight:"bold",color:"#000000",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"list-checks",style:{width:"20px",height:"20px",color:"#058585"}}),"How to Practice"),React.createElement("div",{style:{background:"#F5F5F5",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid #E0E0E0"}},n.description.split(`
`).map((r,d)=>{const p=/^\d+\./.test(r.trim()),l=r.includes("Optimizes")||r.includes("Reduces")||r.includes("Improves");return React.createElement("div",{key:d,style:{fontSize:"14px",fontWeight:l?"bold":"400",color:l?"#058585":"#000000",lineHeight:"1.6",marginBottom:r.trim()===""?"12px":"6px",paddingLeft:"0",display:"flex",alignItems:"flex-start",gap:"8px"}},p&&React.createElement("span",{style:{color:"#058585",fontWeight:"bold",minWidth:"20px"}},r.match(/^\d+\./)?.[0]),React.createElement("span",null,p?r.replace(/^\d+\.\s*/,""):r.trim()||"\xA0"))})),React.createElement("div",{style:{padding:"12px",background:"linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%)",borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"heart-pulse",style:{width:"20px",height:"20px",color:"#2E7D32"}}),React.createElement("div",{style:{fontSize:"12px",fontWeight:"bold",color:"#2E7D32"}},"Evidence-Based Technique")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Got It"))))}case"milestone":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"trophy",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Recovery Milestones")),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},$?.sobrietyDate?allMilestones.length===0?React.createElement("div",{style:{textAlign:"center",padding:"40px 20px"}},React.createElement("i",{"data-lucide":"loader",style:{width:"48px",height:"48px",color:"#058585",marginBottom:"20px",animation:"spin 1s linear infinite"}}),React.createElement("p",{style:{fontSize:"14px",color:"#666666"}},"Loading milestones...")):React.createElement(React.Fragment,null,t.nextMilestone&&React.createElement("div",{style:{background:"linear-gradient(135deg, #058585 0%, #047373 100%)",borderRadius:"12px",padding:"16px",marginBottom:"20px",color:"#FFFFFF"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":t.nextMilestone.icon,style:{width:"32px",height:"32px"}}),React.createElement("div",null,React.createElement("div",{style:{fontSize:"16px",fontWeight:"bold"}},t.nextMilestone.achieved?"All Milestones Complete!":`Next: ${t.nextMilestone.label}`),React.createElement("div",{style:{fontSize:"14px",opacity:.9}},t.nextMilestone.achieved?`${t.nextMilestone.daysSober} days sober`:`${t.nextMilestone.daysUntil} ${t.nextMilestone.daysUntil===1?"day":"days"} to go`))),!nextMilestone.achieved&&React.createElement(React.Fragment,null,React.createElement("div",{style:{background:"rgba(255,255,255,0.3)",borderRadius:"10px",height:"8px",overflow:"hidden",marginBottom:"8px"}},React.createElement("div",{style:{background:"#FFFFFF",height:"100%",width:`${t.nextMilestone.progressPercentage}%`,transition:"width 0.3s ease"}})),React.createElement("div",{style:{fontSize:"12px",textAlign:"right",opacity:.9}},t.nextMilestone.progressPercentage,"% complete"))),React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"All Milestones"),React.createElement("div",{style:{marginBottom:"20px"}},t.allMilestones.map((e,n)=>React.createElement("div",{key:n,style:{background:e.achieved?"#E8F5E9":"#F5F5F5",borderRadius:"12px",padding:"12px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",border:e.achieved?"1px solid #4CAF50":"1px solid #E0E0E0"}},React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:e.achieved?"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)":"#E0E0E0",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},React.createElement("i",{"data-lucide":e.achieved?"check":e.icon,style:{width:"20px",height:"20px",color:e.achieved?"#FFFFFF":"#999999"}})),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"2px"}},e.label," (",e.days," days)"),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},e.achieved?`Achieved on ${e.dateString}`:`Target: ${e.dateString}`)),e.achieved&&React.createElement("div",{style:{fontSize:"20px"}},"\u{1F389}")))),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Close")):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px"}},React.createElement("i",{"data-lucide":"calendar-x",style:{width:"64px",height:"64px",color:"#058585",marginBottom:"20px"}}),React.createElement("h4",{style:{fontSize:"18px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Set Your Sobriety Date"),React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"24px",lineHeight:"1.6"}},"To track your recovery milestones, please set your sobriety date in your profile settings."),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),o(),i.setCurrentView("profile")},style:{padding:"12px 24px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer"}},"Go to Profile")))));case"pastReflections":{const n=(()=>{if(t.reflectionFilter==="all")return t.reflectionData;if(t.reflectionFilter==="week"){const r=new Date;return r.setDate(r.getDate()-7),t.reflectionData.filter(d=>(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))>=r)}else if(t.reflectionFilter==="month"){const r=new Date;return r.setDate(r.getDate()-30),t.reflectionData.filter(d=>(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))>=r)}return t.reflectionData})();return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>{o(),i.handlers.setSelectedReflection(null)}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"600px",width:"100%",maxHeight:"85vh",overflow:"auto",display:"flex",flexDirection:"column"},onClick:r=>r.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",position:"sticky",top:0,background:"#FFFFFF",zIndex:1}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"book-open",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Past Reflections")),React.createElement("button",{onClick:()=>{o(),i.handlers.setSelectedReflection(null)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{display:"flex",gap:"8px",marginTop:"16px"}},["all","week","month"].map(r=>React.createElement("button",{key:r,onClick:()=>{t.triggerHaptic("light"),i.setReflectionFilter(r),i.handlers.setSelectedReflection(null)},style:{flex:1,padding:"8px 12px",background:t.data.reflectionFilter===r?"#058585":"#F5F5F5",color:t.data.reflectionFilter===r?"#FFFFFF":"#666666",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},r==="all"?"All Time":r==="week"?"This Week":"This Month")))),React.createElement("div",{style:{padding:"20px",flex:1,overflow:"auto"}},n.length===0?React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999999"}},React.createElement("i",{"data-lucide":"book-open",style:{width:"48px",height:"48px",color:"#E0E0E0",marginBottom:"12px"}}),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400"}},"No reflections found")):React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},n.map((r,d)=>{const p=r.createdAt?.toDate?r.createdAt.toDate():new Date(r.createdAt),l=t.selectedReflection?.id===r.id;return React.createElement("div",{key:r.id||d,style:{background:"#F8F9FA",borderRadius:"12px",padding:"16px",border:l?"2px solid #058585":"1px solid #E5E5E5",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{t.triggerHaptic("light"),i.setSelectedReflection(l?null:r)}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:l?"16px":"0"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"4px"}},p.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})),r.overallDay&&React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},"Daily Score: ",r.overallDay,"/10")),React.createElement("i",{"data-lucide":l?"chevron-up":"chevron-down",style:{width:"20px",height:"20px",color:"#666666"}})),l&&React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},r.promptResponse&&React.createElement("div",null,React.createElement("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#058585",marginBottom:"6px"}},"Prompt Response"),React.createElement("div",{style:{fontSize:"13px",fontWeight:"400",color:"#000000",lineHeight:"1.5",background:"#FFFFFF",padding:"10px",borderRadius:"8px"}},r.promptResponse)),r.challenges&&React.createElement("div",null,React.createElement("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#058585",marginBottom:"6px"}},"Challenges"),React.createElement("div",{style:{fontSize:"13px",fontWeight:"400",color:"#000000",lineHeight:"1.5",background:"#FFFFFF",padding:"10px",borderRadius:"8px"}},r.challenges)),r.gratitude&&React.createElement("div",null,React.createElement("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#058585",marginBottom:"6px"}},"Gratitude"),React.createElement("div",{style:{fontSize:"13px",fontWeight:"400",color:"#000000",lineHeight:"1.5",background:"#FFFFFF",padding:"10px",borderRadius:"8px"}},r.gratitude)),r.tomorrowGoal&&React.createElement("div",null,React.createElement("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#058585",marginBottom:"6px"}},"Tomorrow's Goal"),React.createElement("div",{style:{fontSize:"13px",fontWeight:"400",color:"#000000",lineHeight:"1.5",background:"#FFFFFF",padding:"10px",borderRadius:"8px"}},r.tomorrowGoal))))})))))}case"gratitude":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>{o(),i.setGratitudeTheme(""),i.setGratitudeText("")}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"85vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"heart",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Gratitude Entry")),React.createElement("button",{onClick:()=>{o(),i.setGratitudeTheme(""),i.setGratitudeText("")},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"12px"}},"Select a Theme"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"8px"}},t.gratitudeThemes.map(e=>React.createElement("button",{key:e.id,onClick:()=>{t.triggerHaptic("light"),i.setGratitudeTheme(e.id)},style:{padding:"12px",background:t.gratitudeTheme===e.id?e.color:"#F5F5F5",color:t.gratitudeTheme===e.id?"#FFFFFF":"#000000",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":e.icon,style:{width:"20px",height:"20px",color:t.gratitudeTheme===e.id?"#FFFFFF":e.color}}),React.createElement("div",{style:{textAlign:"center",lineHeight:"1.2"}},e.label))))),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"8px"}},"What are you grateful for?"),React.createElement("textarea",{value:t.gratitudeText,onChange:e=>i.setGratitudeText(e.target.value),placeholder:"Express your gratitude...",style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #E5E5E5",borderRadius:"8px",fontSize:"14px",fontWeight:"400",color:"#000000",fontFamily:"inherit",resize:"vertical"}})),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),t.saveGratitude()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Save Gratitude"))));case"streak":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"400px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Check-In Streak"),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("button",{onClick:()=>o(),style:{display:"flex",alignItems:"center",gap:"6px",background:"none",border:"none",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",marginBottom:"16px",padding:0}},React.createElement("i",{"data-lucide":"arrow-left",style:{width:"20px",height:"20px"}}),"Back to Check-In"),React.createElement("div",{style:{background:"#E0F7FA",borderRadius:"12px",padding:"16px",marginBottom:"20px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#058585",marginBottom:"4px"}},t.checkInStreak," ",checkInStreak===1?"Day":"Days"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},"Current Streak")),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"All Check-Ins in Streak"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},t.data.streakCheckIns.length>0?streakCheckIns.map((e,n)=>{const d=(e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=e.morningData?.mood??e.eveningData?.mood??"N/A",l=e.morningData?.craving??e.eveningData?.craving??"N/A",m=e.morningData?.anxiety??e.eveningData?.anxiety??"N/A",f=e.morningData?.sleep??e.eveningData?.sleep??"N/A";return React.createElement("div",{key:e.id,style:{background:"#FFFFFF",border:"1px solid #E5E5E5",borderRadius:"8px",padding:"12px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"6px"}},"Day ",t.data.streakCheckIns.length-n," - ",d),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666",display:"flex",flexWrap:"wrap",gap:"12px"}},React.createElement("span",null,"Mood: ",p),React.createElement("span",null,"Craving: ",l),React.createElement("span",null,"Anxiety: ",m),React.createElement("span",null,"Sleep: ",f)))}):React.createElement("div",{style:{padding:"20px",textAlign:"center",color:"#999999",fontSize:"14px"}},"No check-ins in streak yet. Start checking in daily to build your streak!")))));case"weeklyReport":{const e=new Date;e.setDate(e.getDate()-7),e.setHours(0,0,0,0);const n=t.checkInData.filter(s=>(s.createdAt?.toDate?s.createdAt.toDate():new Date(s.createdAt))>=e),r=n.length,d=Math.round(r/7*100),p=n.filter(s=>s.morningData?.mood!==void 0||s.eveningData?.mood!==void 0).map(s=>s.morningData?.mood??s.eveningData?.mood),l=p.length>0?(p.reduce((s,S)=>s+S,0)/p.length).toFixed(1):"N/A",m=n.filter(s=>s.morningData?.craving!==void 0||s.eveningData?.craving!==void 0).map(s=>s.morningData?.craving??s.eveningData?.craving),f=m.length>0?(m.reduce((s,S)=>s+S,0)/m.length).toFixed(1):"N/A",R=n.filter(s=>s.morningData?.anxiety!==void 0||s.eveningData?.anxiety!==void 0).map(s=>s.morningData?.anxiety??s.eveningData?.anxiety),M=R.length>0?(R.reduce((s,S)=>s+S,0)/R.length).toFixed(1):"N/A",y=n.filter(s=>s.morningData?.sleep!==void 0||s.eveningData?.sleep!==void 0).map(s=>s.morningData?.sleep??s.eveningData?.sleep),w=y.length>0?(y.reduce((s,S)=>s+S,0)/y.length).toFixed(1):"N/A",b=t.reflectionData.filter(s=>(s.createdAt?.toDate?s.createdAt.toDate():new Date(s.createdAt))>=e),D=b.length,A=b.filter(s=>s.dailyScore).map(s=>s.dailyScore),P=A.length>0?(A.reduce((s,S)=>s+S,0)/A.length).toFixed(1):"N/A",K=b.filter(s=>s.gratitude&&s.gratitude.length>0).length,X=t.assignments.filter(s=>s.createdAt?(s.createdAt?.toDate?s.createdAt.toDate():new Date(s.createdAt))>=e:!1),W=X.filter(s=>s.status==="completed").length,L=X.length,q=L>0?Math.round(W/L*100):0,j=t.coachNotes.filter(s=>s.createdAt?(s.createdAt?.toDate?s.createdAt.toDate():new Date(s.createdAt))>=e:!1);return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:s=>s.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",position:"sticky",top:0,background:"#FFFFFF",zIndex:1}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"calendar-check",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"Weekly Progress Report")),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{fontSize:"12px",color:"#666666",marginTop:"8px"}},"Last 7 Days \u2022 ",new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"}))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{marginBottom:"24px",padding:"16px",background:"linear-gradient(135deg, #058585 0%, #047373 100%)",borderRadius:"12px",color:"#FFFFFF"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"20px",height:"20px"}}),React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold"}},"Check-In Summary")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",opacity:.9}},"Check-In Rate"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},d,"%"),React.createElement("div",{style:{fontSize:"11px",opacity:.8}},r,"/7 days")),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",opacity:.9}},"Avg Mood"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},l),React.createElement("div",{style:{fontSize:"11px",opacity:.8}},"out of 10")),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",opacity:.9}},"Avg Cravings"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},f),React.createElement("div",{style:{fontSize:"11px",opacity:.8}},"intensity")),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",opacity:.9}},"Avg Anxiety"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},M),React.createElement("div",{style:{fontSize:"11px",opacity:.8}},"level"))),React.createElement("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.2)"}},React.createElement("div",{style:{fontSize:"12px",opacity:.9}},"Avg Sleep Quality"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},w),React.createElement("div",{style:{fontSize:"11px",opacity:.8}},"out of 10"))),React.createElement("div",{style:{marginBottom:"24px",padding:"16px",background:"#F5F5F5",borderRadius:"12px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":"book-open",style:{width:"20px",height:"20px",color:"#058585"}}),React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#000000"}},"Reflection Summary")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Reflections"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#058585"}},D)),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Avg Daily Score"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#058585"}},P)),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Gratitudes"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#058585"}},K)))),React.createElement("div",{style:{marginBottom:"24px",padding:"16px",background:"#F5F5F5",borderRadius:"12px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":"clipboard-check",style:{width:"20px",height:"20px",color:"#058585"}}),React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#000000"}},"Assignment Progress")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Completed"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#058585"}},W),React.createElement("div",{style:{fontSize:"11px",color:"#999999"}},"of ",L," assignments")),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Completion Rate"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#058585"}},q,"%")))),React.createElement("div",{style:{marginBottom:"24px",padding:"16px",background:"#F5F5F5",borderRadius:"12px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":"flame",style:{width:"20px",height:"20px",color:"#FF6B6B"}}),React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#000000"}},"Current Streaks")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Check-In Streak"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#FF6B6B"}},t.checkInStreak),React.createElement("div",{style:{fontSize:"11px",color:"#999999"}},"days")),React.createElement("div",null,React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},"Reflection Streak"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#FF6B6B"}},t.reflectionStreak),React.createElement("div",{style:{fontSize:"11px",color:"#999999"}},"days")))),j.length>0?React.createElement("div",{style:{marginBottom:"16px",padding:"16px",background:"#FFF9E6",borderRadius:"12px",border:"1px solid #FFE066"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"}},React.createElement("i",{"data-lucide":"message-circle",style:{width:"20px",height:"20px",color:"#F59E0B"}}),React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#000000"}},"Coach Notes This Week")),React.createElement("div",{style:{fontSize:"12px",color:"#666666",marginBottom:"8px"}},j.length," note",j.length!==1?"s":""," from your coach"),j.slice(0,3).map((s,S)=>React.createElement("div",{key:s.id||S,style:{padding:"10px",background:"#FFFFFF",borderRadius:"8px",marginBottom:S<Math.min(2,j.length-1)?"8px":0,border:"1px solid #E5E5E5"}},React.createElement("div",{style:{fontSize:"11px",color:"#999999",marginBottom:"4px"}},s.createdAt?.toDate?s.createdAt.toDate().toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Recent"),React.createElement("div",{style:{fontSize:"13px",color:"#000000",lineHeight:"1.4"}},s.note?.substring(0,100),s.note?.length>100?"...":""))),j.length>3&&React.createElement("div",{style:{fontSize:"12px",color:"#058585",marginTop:"8px",textAlign:"center"}},"+ ",j.length-3," more note",j.length-3!==1?"s":"")):React.createElement("div",{style:{marginBottom:"16px",padding:"16px",background:"#F5F5F5",borderRadius:"12px",textAlign:"center"}},React.createElement("i",{"data-lucide":"message-circle",style:{width:"32px",height:"32px",color:"#CCCCCC",marginBottom:"8px"}}),React.createElement("div",{style:{fontSize:"14px",color:"#999999"}},"No coach notes this week")),React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%)",borderRadius:"12px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#2E7D32",marginBottom:"8px"}},d>=85&&D>=5?"Outstanding Week!":d>=70&&D>=3?"Great Progress!":d>=50?"Keep Going!":"You've Got This!"),React.createElement("div",{style:{fontSize:"13px",color:"#1B5E20",lineHeight:"1.5"}},d>=85&&D>=5?"You're crushing it! Your consistency is inspiring.":d>=70&&D>=3?"You're making excellent progress. Keep up the momentum!":d>=50?"You're building great habits. Every day counts!":"Remember, progress isn't always linear. We're here to support you.")),React.createElement("button",{onClick:async()=>{try{const s=`Weekly Progress Report
Last 7 Days

Check-In Summary:
- Check-In Rate: ${d}% (${r}/7 days)
- Avg Mood: ${l}/10
- Avg Cravings: ${f}/10
- Avg Anxiety: ${M}/10
- Avg Sleep Quality: ${w}/10

Reflection Summary:
- Reflections: ${D}
- Avg Daily Score: ${P}/10
- Gratitudes: ${K}

Assignment Progress:
- Completed: ${W}/${L}
- Completion Rate: ${q}%

Current Streaks:
- Check-In Streak: ${t.checkInStreak} days
- Reflection Streak: ${t.reflectionStreak} days`;navigator.share?await navigator.share({title:"Weekly Progress Report",text:s}):(await navigator.clipboard.writeText(s),alert("Report copied to clipboard!"))}catch(s){s.name!=="AbortError"&&(console.error("Share/export error:",s),alert("Unable to share report. Please try again."))}},style:{width:"100%",marginTop:"16px",padding:"14px",background:"linear-gradient(135deg, #058585 0%, #047373 100%)",color:"#FFFFFF",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"share-2",style:{width:"20px",height:"20px"}}),"Export / Share Report"))))}case"calendarHeatmap":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>{o(),i.handlers.setSelectedCalendarDay(null)}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",position:"sticky",top:0,background:"#FFFFFF",zIndex:10}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#000000"}},"Check-In Calendar")),React.createElement("button",{onClick:()=>{o(),i.handlers.setSelectedCalendarDay(null)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{display:"flex",gap:"8px",marginBottom:"15px"}},["week","month"].map(e=>React.createElement("button",{key:e,onClick:()=>{t.triggerHaptic("light"),i.setCalendarViewMode(e),i.handlers.setSelectedCalendarDay(null)},style:{flex:1,padding:"10px 16px",borderRadius:"8px",border:t.calendarViewMode===e?"2px solid #058585":"1px solid #E5E5E5",background:t.calendarViewMode===e?"rgba(5, 133, 133, 0.1)":"#FFFFFF",color:t.calendarViewMode===e?"#058585":"#666666",fontSize:"14px",fontWeight:t.calendarViewMode===e?"600":"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"}},React.createElement("i",{"data-lucide":e==="week"?"calendar-days":"calendar",style:{width:"16px",height:"16px"}}),e.charAt(0).toUpperCase()+e.slice(1)))),t.calendarViewMode==="month"&&React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"#F8F9FA",borderRadius:"8px"}},React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date(calendarCurrentMonth);e.setMonth(e.getMonth()-1),i.setCalendarCurrentMonth(e)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#058585",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"15 18 9 12 15 6"}))),React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#000000"}},calendarCurrentMonth.toLocaleDateString("en-US",{month:"long",year:"numeric"})),React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date(calendarCurrentMonth);e.setMonth(e.getMonth()+1),i.setCalendarCurrentMonth(e)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#058585",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"})))),t.calendarViewMode==="week"&&(()=>{const n=(d=>{const p=new Date(d),l=p.getDay(),m=p.getDate()-l+(l===0?-6:1);return new Date(p.setDate(m))})(calendarCurrentWeek),r=new Date(n);return r.setDate(n.getDate()+6),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"#F8F9FA",borderRadius:"8px"}},React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const d=new Date(calendarCurrentWeek);d.setDate(d.getDate()-7),i.setCalendarCurrentWeek(d),i.handlers.setSelectedCalendarDay(null)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#058585",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"15 18 9 12 15 6"}))),React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#000000",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#058585",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),React.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),React.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"})),n.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const d=new Date(calendarCurrentWeek);d.setDate(d.getDate()+7),i.setCalendarCurrentWeek(d),i.handlers.setSelectedCalendarDay(null)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#058585",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"}))))})(),React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date;i.setCalendarCurrentMonth(e),i.setCalendarCurrentWeek(e),i.handlers.setSelectedCalendarDay(null)},style:{width:"100%",marginTop:"12px",padding:"10px",borderRadius:"8px",border:"1px solid #058585",background:"#FFFFFF",color:"#058585",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"calendar-check",style:{width:"16px",height:"16px"}}),"Jump to Today"),React.createElement("div",{style:{marginTop:"15px",padding:"15px",background:"#F8F9FA",borderRadius:"8px",border:"1px solid #E5E5E5"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#000000",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"info",style:{width:"16px",height:"16px",color:"#058585"}}),"Daily Check-In Status"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("div",{style:{width:"20px",height:"20px",borderRadius:"4px",background:"#00A86B",flexShrink:0}}),React.createElement("span",{style:{fontSize:"12px",color:"#666666"}},"Morning & Evening Check-Ins Completed")),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("div",{style:{width:"20px",height:"20px",borderRadius:"4px",background:"#7FD4AA",flexShrink:0}}),React.createElement("span",{style:{fontSize:"12px",color:"#666666"}},"Only Morning OR Evening Completed")),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("div",{style:{width:"20px",height:"20px",borderRadius:"4px",background:"#E5E5E5",flexShrink:0}}),React.createElement("span",{style:{fontSize:"12px",color:"#666666"}},"No Check-Ins Completed"))))),React.createElement("div",{style:{padding:"20px"}},(()=>{const e=$.timezone||"America/Los_Angeles",n=r=>r>=2?"#00A86B":r===1?"#7FD4AA":"#E5E5E5";if(t.calendarViewMode==="month"){const r=calendarCurrentMonth.getFullYear(),d=calendarCurrentMonth.getMonth(),p=new Date(r,d,1),m=new Date(r,d+1,0).getDate(),f=p.getDay(),R=[];for(let y=0;y<f;y++)R.push(null);for(let y=1;y<=m;y++){const w=new Date(r,d,y),b=w.toISOString().split("T")[0],D=calendarHeatmapData.find(A=>A.dateKey===b);R.push({date:w,dateKey:b,day:y,count:D?D.count:0,data:D})}const M=[];for(let y=0;y<R.length;y+=7)M.push(R.slice(y,y+7));return React.createElement("div",null,React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"2px solid #E5E5E5"}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((y,w)=>React.createElement("div",{key:w,style:{fontSize:"12px",fontWeight:"600",color:"#666666",textAlign:"center"}},y))),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},M.map((y,w)=>React.createElement("div",{key:w,style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"}},y.map((b,D)=>{if(!b)return React.createElement("div",{key:D,style:{aspectRatio:"1"}});const A=b.dateKey===new Date().toISOString().split("T")[0],P=selectedCalendarDay?.dateKey===b.dateKey;return React.createElement("div",{key:D,onClick:()=>{b.data&&(t.triggerHaptic("light"),i.setSelectedCalendarDay(b))},style:{aspectRatio:"1",borderRadius:"8px",background:n(b.count),border:A?"3px solid #FF8C00":P?"3px solid #058585":"1px solid #DDD",cursor:b.data?"pointer":"default",transition:"all 0.2s",transform:P?"scale(1.05)":"scale(1)",boxShadow:P?"0 4px 12px rgba(5, 133, 133, 0.3)":"none",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},React.createElement("span",{style:{fontSize:"14px",fontWeight:A?"700":"500",color:b.count>0?"#FFFFFF":"#999999"}},b.day),b.data&&React.createElement("div",{style:{position:"absolute",bottom:"4px",display:"flex",gap:"2px"}},b.data.morningCheckIn&&React.createElement("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"#FFFFFF"}}),b.data.eveningCheckIn&&React.createElement("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"#FFFFFF"}})))})))),selectedCalendarDay&&selectedCalendarDay.data&&React.createElement("div",{style:{marginTop:"20px",padding:"20px",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.05) 0%, rgba(5, 133, 133, 0.1) 100%)",borderRadius:"12px",border:"2px solid #058585",animation:"fadeIn 0.3s"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"18px",fontWeight:"600",color:"#000000",marginBottom:"4px"}},selectedCalendarDay.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})),React.createElement("div",{style:{fontSize:"13px",color:"#666666",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"check-circle",style:{width:"14px",height:"14px",color:"#00A86B"}}),selectedCalendarDay.count," check-in",selectedCalendarDay.count!==1?"s":""," completed")),React.createElement("button",{onClick:()=>i.handlers.setSelectedCalendarDay(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"18px",height:"18px",color:"#666666"}}))),selectedCalendarDay.data.morningCheckIn&&React.createElement("div",{style:{marginBottom:selectedCalendarDay.data.eveningCheckIn?"16px":"0",padding:"15px",background:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E5E5"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#058585",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"sunrise",style:{width:"16px",height:"16px"}}),"Morning Check-In"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"smile",style:{width:"16px",height:"16px",color:"#666666"}}),React.createElement("span",{style:{fontSize:"13px",color:"#666666"}},"Mood: ",React.createElement("strong",{style:{color:"#000000"}},selectedCalendarDay.data.morningCheckIn.mood??"N/A"))),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"flame",style:{width:"16px",height:"16px",color:"#666666"}}),React.createElement("span",{style:{fontSize:"13px",color:"#666666"}},"Craving: ",React.createElement("strong",{style:{color:"#000000"}},selectedCalendarDay.data.morningCheckIn.craving??"N/A"))),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"alert-circle",style:{width:"16px",height:"16px",color:"#666666"}}),React.createElement("span",{style:{fontSize:"13px",color:"#666666"}},"Anxiety: ",React.createElement("strong",{style:{color:"#000000"}},selectedCalendarDay.data.morningCheckIn.anxiety??"N/A"))),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"moon",style:{width:"16px",height:"16px",color:"#666666"}}),React.createElement("span",{style:{fontSize:"13px",color:"#666666"}},"Sleep: ",React.createElement("strong",{style:{color:"#000000"}},selectedCalendarDay.data.morningCheckIn.sleep??"N/A"))))),selectedCalendarDay.data.eveningCheckIn&&React.createElement("div",{style:{padding:"15px",background:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E5E5"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#058585",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"sunset",style:{width:"16px",height:"16px"}}),"Evening Check-In"),React.createElement("div",{style:{fontSize:"13px",color:"#666666",lineHeight:"1.6"}},selectedCalendarDay.data.eveningCheckIn.overallDay!==void 0&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Overall Day:")," ",selectedCalendarDay.data.eveningCheckIn.overallDay,"/10"),selectedCalendarDay.data.eveningCheckIn.gratitude&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Gratitude:")," ",selectedCalendarDay.data.eveningCheckIn.gratitude),selectedCalendarDay.data.eveningCheckIn.challenges&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Challenges:")," ",selectedCalendarDay.data.eveningCheckIn.challenges),selectedCalendarDay.data.eveningCheckIn.tomorrowGoal&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Tomorrow's Goal:")," ",selectedCalendarDay.data.eveningCheckIn.tomorrowGoal),selectedCalendarDay.data.eveningCheckIn.promptResponse&&React.createElement("div",null,React.createElement("strong",null,"Reflection:")," ",selectedCalendarDay.data.eveningCheckIn.promptResponse)))))}else{const d=(l=>{const m=new Date(l),f=m.getDay(),R=m.getDate()-f+(f===0?-6:1);return new Date(m.setDate(R))})(calendarCurrentWeek),p=[];for(let l=0;l<7;l++){const m=new Date(d);m.setDate(d.getDate()+l);const f=m.getFullYear(),R=String(m.getMonth()+1).padStart(2,"0"),M=String(m.getDate()).padStart(2,"0"),y=`${f}-${R}-${M}`,w=calendarHeatmapData.find(b=>b.dateKey===y);p.push({date:m,dateKey:y,day:m.getDate(),dayName:m.toLocaleDateString("en-US",{weekday:"short"}),count:w?w.count:0,data:w})}return React.createElement("div",null,React.createElement("div",{style:{padding:"15px",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.05) 0%, rgba(5, 133, 133, 0.1) 100%)",borderRadius:"12px",marginBottom:"20px",border:"1px solid rgba(5, 133, 133, 0.2)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#000000",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"calendar-days",style:{width:"16px",height:"16px",color:"#058585"}}),p[0].date.toLocaleDateString("en-US",{month:"long",day:"numeric"})," - ",p[6].date.toLocaleDateString("en-US",{month:"long",day:"numeric"})),React.createElement("div",{style:{fontSize:"13px",color:"#666666"}},(()=>{const l=new Date,m=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`,f=p.some(y=>y.dateKey===m);let R=7;return f&&(R=p.findIndex(w=>w.dateKey===m)+1),`${p.slice(0,R).filter(y=>y.count>0).length} out of ${R} days with check-ins`})())),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},p.map((l,m)=>{const f=l.dateKey===new Date().toISOString().split("T")[0],R=selectedCalendarDay?.dateKey===l.dateKey;return React.createElement("div",{key:m,onClick:()=>{l.data&&(t.triggerHaptic("light"),i.setSelectedCalendarDay(l))},style:{padding:"16px",borderRadius:"12px",background:n(l.count),border:f?"3px solid #FF8C00":R?"3px solid #058585":"2px solid #E5E5E5",cursor:l.data?"pointer":"default",transition:"all 0.2s",transform:R?"scale(1.02)":"scale(1)",boxShadow:R?"0 4px 12px rgba(5, 133, 133, 0.3)":"0 2px 4px rgba(0,0,0,0.05)"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"8px",background:l.count>0?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid rgba(255,255,255,0.5)"}},React.createElement("div",{style:{fontSize:"11px",fontWeight:"600",color:l.count>0?"#FFFFFF":"#999999"}},l.dayName.toUpperCase()),React.createElement("div",{style:{fontSize:"18px",fontWeight:"700",color:l.count>0?"#FFFFFF":"#999999"}},l.day)),React.createElement("div",null,React.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:l.count>0?"#FFFFFF":"#000000",marginBottom:"4px"}},f&&React.createElement("span",{style:{marginRight:"6px"}},"(Today)"),l.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),React.createElement("div",{style:{fontSize:"13px",color:l.count>0?"rgba(255,255,255,0.9)":"#666666",display:"flex",alignItems:"center",gap:"6px"}},l.count===0&&React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"x-circle",style:{width:"14px",height:"14px"}}),"No check-ins"),l.count===1&&React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"check",style:{width:"14px",height:"14px"}}),"1 check-in completed"),l.count===2&&React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"check-check",style:{width:"14px",height:"14px"}}),"Both check-ins completed")))),l.data&&React.createElement("div",{style:{display:"flex",gap:"8px"}},l.data.morningCheckIn&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(255,255,255,0.3)",fontSize:"11px",fontWeight:"600",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"4px"}},React.createElement("i",{"data-lucide":"sunrise",style:{width:"12px",height:"12px"}}),"AM"),l.data.eveningCheckIn&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(255,255,255,0.3)",fontSize:"11px",fontWeight:"600",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"4px"}},React.createElement("i",{"data-lucide":"sunset",style:{width:"12px",height:"12px"}}),"PM"))),R&&l.data&&React.createElement("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(255,255,255,0.3)"}},l.data.morningCheckIn&&React.createElement("div",{style:{marginBottom:l.data.eveningCheckIn?"12px":"0",padding:"12px",background:"rgba(255,255,255,0.2)",borderRadius:"8px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#FFFFFF",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"sunrise",style:{width:"14px",height:"14px"}}),"Morning Check-In"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",fontSize:"12px",color:"rgba(255,255,255,0.9)"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"smile",style:{width:"12px",height:"12px"}}),"Mood: ",React.createElement("strong",null,l.data.morningCheckIn.mood??"N/A")),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"flame",style:{width:"12px",height:"12px"}}),"Craving: ",React.createElement("strong",null,l.data.morningCheckIn.craving??"N/A")),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"alert-circle",style:{width:"12px",height:"12px"}}),"Anxiety: ",React.createElement("strong",null,l.data.morningCheckIn.anxiety??"N/A")),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"moon",style:{width:"12px",height:"12px"}}),"Sleep: ",React.createElement("strong",null,l.data.morningCheckIn.sleep??"N/A")))),l.data.eveningCheckIn&&React.createElement("div",{style:{padding:"12px",background:"rgba(255,255,255,0.2)",borderRadius:"8px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#FFFFFF",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"sunset",style:{width:"14px",height:"14px"}}),"Evening Check-In"),React.createElement("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.9)",lineHeight:"1.5"}},l.data.eveningCheckIn.overallDay!==void 0&&React.createElement("div",{style:{marginBottom:"6px"}},React.createElement("strong",null,"Overall Day:")," ",l.data.eveningCheckIn.overallDay,"/10"),l.data.eveningCheckIn.gratitude&&React.createElement("div",{style:{marginBottom:"6px"}},React.createElement("strong",null,"Gratitude:")," ",l.data.eveningCheckIn.gratitude),l.data.eveningCheckIn.challenges&&React.createElement("div",{style:{marginBottom:"6px"}},React.createElement("strong",null,"Challenges:")," ",l.data.eveningCheckIn.challenges),l.data.eveningCheckIn.tomorrowGoal&&React.createElement("div",{style:{marginBottom:"6px"}},React.createElement("strong",null,"Tomorrow's Goal:")," ",l.data.eveningCheckIn.tomorrowGoal),l.data.eveningCheckIn.promptResponse&&React.createElement("div",null,React.createElement("strong",null,"Reflection:")," ",l.data.eveningCheckIn.promptResponse)))))})))}})())));case"reflectionStreak":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"400px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Reflection Streak"),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("button",{onClick:()=>o(),style:{display:"flex",alignItems:"center",gap:"6px",background:"none",border:"none",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",marginBottom:"16px",padding:0}},React.createElement("i",{"data-lucide":"arrow-left",style:{width:"20px",height:"20px"}}),"Back to Reflections"),React.createElement("div",{style:{background:"#E0F7FA",borderRadius:"12px",padding:"16px",marginBottom:"20px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#058585",marginBottom:"4px"}},t.reflectionStreak," ",reflectionStreak===1?"Day":"Days"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},"Current Streak")),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"All Reflections in Streak"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},t.streakReflections.length>0?t.streakReflections.map((e,n)=>{const d=(e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=e.overallDay??e.dailyScore??"N/A",l=e.gratitude&&e.gratitude.length>0,m=p>=8?"#4CAF50":p>=6?"#FFA726":p>=4?"#FF7043":p!=="N/A"?"#DC143C":"#999999";return React.createElement("div",{key:e.id,style:{background:"#FFFFFF",border:"1px solid #E5E5E5",borderRadius:"8px",padding:"12px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000"}},"Day ",t.streakReflections.length-n," - ",d),l&&React.createElement("i",{"data-lucide":"heart",style:{width:"16px",height:"16px",color:"#FF6B6B"}})),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"smile",style:{width:"16px",height:"16px",color:m}}),React.createElement("div",{style:{fontSize:"12px",fontWeight:"bold",color:m}},"Overall Day Score: ",p,p!=="N/A"?"/10":"")))}):React.createElement("div",{style:{padding:"20px",textAlign:"center",color:"#999999",fontSize:"14px"}},"No reflections in streak yet. Start reflecting daily to build your streak!")))));case"moodInsights":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Mood Insights"),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{textAlign:"center",marginBottom:"24px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666",marginBottom:"8px"}},"7-Day Average"),React.createElement("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#058585",marginBottom:"4px"}},t.moodWeekData.thisWeekAvg||"\u2014"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:moodWeekData.difference>0?"#00A86B":moodWeekData.difference<0?"#DC143C":"#666666"}},t.moodWeekData.difference>0?"\u2191":moodWeekData.difference<0?"\u2193":"\u2014"," ",t.moodWeekData.difference>0?"+":"",t.moodWeekData.difference||"0"," from last week")),React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Weekly Breakdown"),React.createElement("div",{style:{marginBottom:"20px"}},t.moodWeekData.weekData&&moodWeekData.weekData.map((e,n)=>{const r=e.mood,d=r?r/10*100:0;return React.createElement("div",{key:e.dateKey,style:{marginBottom:"12px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},e.dayName),React.createElement("span",{style:{fontSize:"14px",fontWeight:"bold",color:r?"#058585":"#999999"}},r?r.toFixed(1):"No check-in")),React.createElement("div",{style:{width:"100%",height:"8px",background:"#E5E5E5",borderRadius:"4px",overflow:"hidden"}},React.createElement("div",{style:{width:`${d}%`,height:"100%",background:r>=7?"#00A86B":r>=5?"#FFA500":r?"#DC143C":"#E5E5E5",transition:"width 0.3s"}})))})),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"overallDayInsights":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"Overall Day Insights"),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{textAlign:"center",marginBottom:"24px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666",marginBottom:"8px"}},"7-Day Average"),React.createElement("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#058585",marginBottom:"4px"}},t.overallDayWeekData.thisWeekAvg||"\u2014"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:overallDayWeekData.difference>0?"#00A86B":overallDayWeekData.difference<0?"#DC143C":"#666666"}},t.overallDayWeekData.difference>0?"\u2191":overallDayWeekData.difference<0?"\u2193":"\u2014"," ",t.overallDayWeekData.difference>0?"+":"",t.overallDayWeekData.difference||"0"," from last week")),React.createElement("h4",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px"}},"Last 7 Reflections"),React.createElement("div",{style:{marginBottom:"20px"}},t.overallDayWeekData.weekData&&overallDayWeekData.weekData.map((e,n)=>{const r=e.overallDay,d=r?r/10*100:0;return React.createElement("div",{key:e.dateKey,style:{marginBottom:"12px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#000000"}},e.dayName),React.createElement("div",{style:{fontSize:"12px",color:"#666666"}},e.date?new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"")),React.createElement("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#058585"}},r?r.toFixed(1):"\u2014")),React.createElement("div",{style:{width:"100%",height:"8px",background:"#E5E5E5",borderRadius:"4px",overflow:"hidden"}},React.createElement("div",{style:{width:`${d}%`,height:"100%",background:r>=7?"#00A86B":r>=5?"#FFA500":r?"#DC143C":"#E5E5E5",transition:"width 0.3s"}})))})),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"gratitudeThemes":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:"#000000"}},"\u{1F49A} Gratitude Themes"),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"20px"}},"The most common themes from your gratitude reflections, ranked by frequency."),t.reflectionStats.gratitudeThemes&&t.reflectionStats.gratitudeThemes.length>0?React.createElement("div",{style:{marginBottom:"20px"}},t.reflectionStats.gratitudeThemes.map((e,n)=>{const r=t.reflectionStats.gratitudeThemes[0].count,d=e.count/r*100;return React.createElement("div",{key:n,style:{marginBottom:"16px",padding:"14px",background:n===0?"linear-gradient(135deg, rgba(0,168,107,0.1) 0%, rgba(5,133,133,0.1) 100%)":"#F8F9FA",borderRadius:"10px",border:n===0?"2px solid #00A86B":"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("span",{style:{fontSize:"20px",fontWeight:"bold",color:"#666666",minWidth:"30px"}},n+1,"."),React.createElement("span",{style:{fontSize:"16px",fontWeight:n===0?"bold":"400",color:"#000000"}},e.theme),n===0&&React.createElement("span",{style:{fontSize:"16px"}},"\u2B50")),React.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},e.percentage&&React.createElement("div",{style:{padding:"4px 12px",background:"#00A86B",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",color:"#FFFFFF"}},e.percentage,"%"),React.createElement("div",{style:{padding:"4px 12px",background:"#058585",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",color:"#FFFFFF"}},e.count," ",e.count===1?"time":"times"))),React.createElement("div",{style:{width:"100%",height:"6px",background:"#E5E5E5",borderRadius:"3px",overflow:"hidden"}},React.createElement("div",{style:{width:`${d}%`,height:"100%",background:"linear-gradient(90deg, #00A86B 0%, #058585 100%)",transition:"width 0.3s"}})))})):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999999"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"}},"No Themes Yet"),React.createElement("div",null,"Gratitude themes will appear here after Cloud Functions processes your reflections.")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"gratitudeJournal":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>{t.triggerHaptic("light"),o()}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"20px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"Gratitude Journal"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{background:"none",border:"none",cursor:"pointer",padding:"8px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{padding:"20px",overflowY:"auto",flex:1}},React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"20px"}},"All your gratitude entries from evening reflections."),t.gratitudeInsights&&t.gratitudeInsights.computed&&React.createElement("div",{style:{background:"linear-gradient(135deg, #00A86B 0%, #058585 100%)",borderRadius:"16px",padding:"20px",marginBottom:"24px",color:"#FFFFFF"}},React.createElement("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},"Your Gratitude Insights"),t.gratitudeInsights.computed.topThemes&&t.gratitudeInsights.computed.topThemes.length>0&&React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"8px",opacity:.9}},"Core Values"),React.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"}},t.gratitudeInsights.computed.topThemes.slice(0,3).map((e,n)=>React.createElement("div",{key:n,style:{background:"rgba(255, 255, 255, 0.2)",padding:"8px 14px",borderRadius:"20px",fontSize:"13px",fontWeight:"500",backdropFilter:"blur(10px)"}},e.theme," (",e.percentage,"%)")))),t.gratitudeInsights.computed.gaps&&t.gratitudeInsights.computed.gaps.length>0&&React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"8px",opacity:.9}},"Growth Opportunities"),React.createElement("div",{style:{background:"rgba(255, 255, 255, 0.15)",padding:"12px",borderRadius:"12px",fontSize:"13px",lineHeight:"1.5"}},t.gratitudeInsights.computed.gaps[0].severity==="high"?React.createElement("span",null,"Consider reflecting on ",React.createElement("strong",null,t.gratitudeInsights.computed.gaps[0].category)," - it's been ",t.gratitudeInsights.computed.gaps[0].daysSinceLast," days since your last mention."):React.createElement("span",null,"You might explore gratitude for ",React.createElement("strong",null,t.gratitudeInsights.computed.gaps[0].category)," to deepen your practice."))),t.gratitudeInsights.computed.lastComputed&&React.createElement("div",{style:{fontSize:"11px",opacity:.7,marginTop:"12px"}},"Insights updated ",new Date(t.gratitudeInsights.computed.lastComputed.toDate()).toLocaleDateString())),t.gratitudeJournalData.length>0?React.createElement("div",{style:{marginBottom:"20px"}},t.gratitudeJournalData.map((e,n)=>React.createElement("div",{key:e.id,style:{marginBottom:"16px",padding:"16px",background:"#F8F9FA",borderRadius:"12px",border:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#058585"}},new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})),e.overallDay&&React.createElement("div",{style:{padding:"4px 10px",background:e.overallDay>=7?"#00A86B":e.overallDay>=5?"#FFA500":"#DC143C",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",color:"#FFFFFF"}},"Day: ",e.overallDay,"/10")),React.createElement("div",{style:{fontSize:"14px",color:"#333333",lineHeight:"1.6",marginBottom:"12px"}},e.gratitude),React.createElement("button",{onClick:async()=>{confirm("Share this gratitude with the community?")&&((await t.shareToCommunity("gratitude",e.gratitude,"checkIns",e.id)).success?alert("Gratitude shared to community! \u{1F389}"):alert("Error sharing to community"))},style:{padding:"8px 16px",background:"#058585",color:"#fff",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"share-2",style:{width:"14px",height:"14px"}}),"Share Gratitude")))):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999999"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"}},"No Gratitude Entries Yet"),React.createElement("div",null,"Express gratitude in your evening reflections. Cloud Functions will analyze patterns and reveal your core values to support your recovery.")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"challengesHistory":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>{t.triggerHaptic("light"),o()}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"20px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"Challenges History"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{background:"none",border:"none",cursor:"pointer",padding:"8px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{padding:"20px",overflowY:"auto",flex:1}},React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"20px"}},"Review the challenges you've faced and overcome in your recovery journey."),t.challengesInsights&&t.challengesInsights.categories&&Object.keys(t.challengesInsights.categories).length>0&&React.createElement("div",{style:{marginBottom:"24px",padding:"20px",background:"linear-gradient(135deg, #FFF3CD 0%, #FFE6A8 100%)",borderRadius:"15px",border:"2px solid #FFA500"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"}},React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #FFA500 0%, #FF8C00 100%)",display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement("i",{"data-lucide":"brain",style:{width:"20px",height:"20px",color:"#FFFFFF"}})),React.createElement("div",null,React.createElement("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#856404"}},"Challenge Patterns"),React.createElement("p",{style:{margin:0,fontSize:"12px",color:"#856404",opacity:.8}},"Analyzed by Cloud Functions"))),React.createElement("div",{style:{background:"rgba(255, 255, 255, 0.7)",borderRadius:"12px",padding:"16px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#856404",marginBottom:"12px"}},"Challenge Categories"),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},Object.entries(t.challengesInsights.categories).sort((e,n)=>n[1].count-e[1].count).slice(0,5).map(([e,n])=>React.createElement("div",{key:e,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",background:"#FFFFFF",borderRadius:"8px",border:"1px solid #FFE6A8"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"500",color:"#333333",textTransform:"capitalize"}},e.replace(/_/g," ")),React.createElement("div",{style:{padding:"4px 12px",background:"#FF8C00",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",color:"#FFFFFF"}},n.count," ",n.count===1?"time":"times")))),t.challengesInsights.totalChallenges&&React.createElement("div",{style:{marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, rgba(255, 140, 0, 0.1) 0%, rgba(255, 165, 0, 0.1) 100%)",borderRadius:"8px",border:"1px solid #FFE6A8"}},React.createElement("div",{style:{fontSize:"12px",color:"#856404",marginBottom:"4px"}},"Total Challenges Tracked"),React.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#FF8C00"}},t.challengesInsights.totalChallenges)))),t.challengesHistoryData.length>0?React.createElement("div",{style:{marginBottom:"20px"}},t.challengesHistoryData.map((e,n)=>React.createElement("div",{key:e.id,style:{marginBottom:"16px",padding:"16px",background:"#FFF3CD",borderRadius:"12px",border:"1px solid #FFA500"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#856404"}},new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})),e.overallDay&&React.createElement("div",{style:{padding:"4px 10px",background:e.overallDay>=7?"#00A86B":e.overallDay>=5?"#FFA500":"#DC143C",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",color:"#FFFFFF"}},"Day: ",e.overallDay,"/10")),React.createElement("div",{style:{fontSize:"14px",color:"#333333",lineHeight:"1.6"}},e.challenges)))):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999999"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"}},"No Challenges Yet"),React.createElement("div",null,"Document your challenges in evening reflections. Cloud Functions will analyze patterns and provide insights to support your recovery.")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"challengeCheckIn":return t.selectedChallenge?React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>{t.triggerHaptic("light"),o(),i.setSelectedChallenge(null),i.setChallengeCheckInStatus(""),i.setChallengeCheckInNotes("")}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"20px",maxWidth:"500px",width:"100%",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"Challenge Check-In"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o(),i.setSelectedChallenge(null),i.setChallengeCheckInStatus(""),i.setChallengeCheckInNotes("")},style:{background:"none",border:"none",cursor:"pointer",padding:"8px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{padding:"20px",overflowY:"auto",flex:1}},React.createElement("div",{style:{padding:"16px",background:"#FFF3CD",borderRadius:"12px",marginBottom:"24px",border:"1px solid #FFA500"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#856404",marginBottom:"8px"}},"Your Challenge:"),React.createElement("div",{style:{fontSize:"14px",color:"#333333",lineHeight:"1.6"}},t.selectedChallenge.challengeText)),React.createElement("div",{style:{marginBottom:"24px"}},React.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#333333",marginBottom:"12px"}},"How are things going? *"),React.createElement("div",{style:{display:"grid",gap:"10px"}},[{value:"resolved",label:"Resolved",color:"#00A86B",desc:"I overcame this challenge!"},{value:"better",label:"Getting Better",color:"#4CAF50",desc:"Making progress"},{value:"same",label:"About the Same",color:"#FFA500",desc:"No change yet"},{value:"worse",label:"Gotten Worse",color:"#FF6B6B",desc:"Struggling more"},{value:"help",label:"Need Help",color:"#DC143C",desc:"I need support"}].map(e=>React.createElement("button",{key:e.value,onClick:()=>{t.triggerHaptic("light"),i.setChallengeCheckInStatus(e.value)},style:{padding:"14px",background:t.challengeCheckInStatus===e.value?e.color:"#FFFFFF",border:`2px solid ${e.color}`,borderRadius:"12px",color:t.challengeCheckInStatus===e.value?"#FFFFFF":e.color,fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",null,e.label),React.createElement("div",{style:{fontSize:"11px",opacity:t.challengeCheckInStatus===e.value?.9:.7,marginTop:"2px"}},e.desc)),t.challengeCheckInStatus===e.value&&React.createElement("div",{style:{fontSize:"18px"}},"\u25CF"))))),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#333333",marginBottom:"8px"}},"Notes about your progress *"),React.createElement("textarea",{value:t.challengeCheckInNotes,onChange:e=>i.setChallengeCheckInNotes(e.target.value),placeholder:t.challengeCheckInStatus==="resolved"?"What helped you overcome this challenge?":t.challengeCheckInStatus==="better"?"What strategies are working for you?":t.challengeCheckInStatus==="worse"?"What is making this harder right now?":t.challengeCheckInStatus==="help"?"What kind of support do you need?":"Share your thoughts on how you are handling this challenge...",style:{width:"100%",minHeight:"100px",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),t.submitChallengeCheckIn()},disabled:!t.challengeCheckInStatus||!t.challengeCheckInNotes.trim(),style:{width:"100%",height:"48px",background:t.challengeCheckInStatus&&t.challengeCheckInNotes.trim()?"#058585":"#CCCCCC",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"16px",fontWeight:"bold",cursor:t.challengeCheckInStatus&&t.challengeCheckInNotes.trim()?"pointer":"not-allowed",transition:"all 0.2s"}},t.challengeCheckInStatus==="resolved"?"\u{1F389} Mark as Resolved":"\u2705 Save Check-In"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o(),i.setSelectedChallenge(null),i.setChallengeCheckInStatus(""),i.setChallengeCheckInNotes("")},style:{width:"100%",height:"48px",background:"transparent",border:"none",color:"#666666",fontSize:"14px",cursor:"pointer",marginTop:"8px"}},"Cancel")))):null;case"breakthrough":return t.breakthroughData?React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100,padding:"20px",animation:"fadeIn 0.3s ease-in"},onClick:()=>{t.triggerHaptic("light"),o(),i.setBreakthroughData(null)}},React.createElement("div",{style:{background:"linear-gradient(135deg, #00A86B 0%, #058585 100%)",borderRadius:"24px",maxWidth:"500px",width:"100%",padding:"40px 30px",textAlign:"center",color:"#FFFFFF",boxShadow:"0 20px 60px rgba(0, 168, 107, 0.4)",animation:"slideUp 0.4s ease-out"},onClick:e=>e.stopPropagation()},React.createElement("h2",{style:{margin:"0 0 12px 0",fontSize:"28px",fontWeight:"bold"}},"Breakthrough Moment!"),React.createElement("p",{style:{fontSize:"16px",opacity:.9,marginBottom:"24px",lineHeight:"1.5"}},"You've overcome a challenge that once held you back."),t.breakthroughData.challengeText&&React.createElement("div",{style:{padding:"20px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"16px",marginBottom:"24px",backdropFilter:"blur(10px)"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"8px",opacity:.9}},"Your Challenge:"),React.createElement("div",{style:{fontSize:"15px",lineHeight:"1.6"}},t.breakthroughData.challengeText)),t.breakthroughData.daysSinceLastMention&&React.createElement("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",marginBottom:"24px"}},React.createElement("div",{style:{fontSize:"14px",marginBottom:"4px",opacity:.9}},"It's been"),React.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"4px"}},t.breakthroughData.daysSinceLastMention),React.createElement("div",{style:{fontSize:"14px",opacity:.9}},"days since you mentioned this challenge")),React.createElement("div",{style:{padding:"20px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",marginBottom:"28px",fontSize:"15px",lineHeight:"1.6",fontStyle:"italic"}},'"Every challenge you overcome makes you stronger. This breakthrough is proof of your resilience and growth."'),React.createElement("button",{onClick:async()=>{if(confirm("Share this breakthrough with the community to inspire others?")){const e=`Breakthrough! Overcame: "${t.breakthroughData.challengeText}" - ${t.breakthroughData.daysSinceLastMention} days challenge-free!`;(await t.shareToCommunity("breakthrough",e,"challenges_tracking",t.breakthroughData.challengeId||"unknown")).success?alert("Breakthrough shared to community! \u{1F389}"):alert("Error sharing to community")}},style:{width:"100%",padding:"16px",background:"rgba(255, 255, 255, 0.2)",border:"2px solid #FFFFFF",borderRadius:"12px",color:"#FFFFFF",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"}},React.createElement("i",{"data-lucide":"share-2",style:{width:"20px",height:"20px"}}),"Share Breakthrough"),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),o(),i.setBreakthroughData(null)},style:{width:"100%",padding:"16px",background:"#FFFFFF",border:"none",borderRadius:"12px",color:"#00A86B",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"}},"\u2728 Continue"))):null;case"tomorrowGoals":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>{t.triggerHaptic("light"),o(),i.setGoalStatus(""),i.setGoalNotes("")}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"20px",maxWidth:"600px",width:"100%",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"\u{1F3C6} Goal Achievement Tracker"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o(),i.setGoalStatus(""),i.setGoalNotes("")},style:{background:"none",border:"none",cursor:"pointer",padding:"8px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}}))),React.createElement("div",{style:{padding:"20px",overflowY:"auto",flex:1}},t.yesterdayGoal?React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"20px"}},"Did you accomplish your goal from yesterday?"),React.createElement("div",{style:{padding:"16px",background:"#E7F5FF",borderRadius:"12px",marginBottom:"24px",border:"1px solid #058585"}},React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#666666",marginBottom:"8px"}},"Yesterday's Goal:"),React.createElement("div",{style:{fontSize:"15px",color:"#333333",lineHeight:"1.6",fontWeight:"500"}},t.yesterdayGoal.goal)),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#333333",marginBottom:"12px"}},"How did it go? *"),React.createElement("div",{style:{display:"grid",gap:"10px"}},[{value:"yes",label:"Yes",desc:"Completed it!",color:"#00A86B"},{value:"almost",label:"Almost",desc:"Got close",color:"#4CAF50"},{value:"partially",label:"Partially",desc:"Made progress",color:"#FFA500"},{value:"no",label:"No",desc:"Didn't complete",color:"#FF6B6B"},{value:"didnt_try",label:"Didn't Try",desc:"Couldn't attempt",color:"#999999"}].map(e=>React.createElement("button",{key:e.value,onClick:()=>{t.triggerHaptic("light"),i.setGoalStatus(e.value)},style:{padding:"12px",background:t.goalStatus===e.value?e.color:"#FFFFFF",border:`2px solid ${e.color}`,borderRadius:"10px",color:t.goalStatus===e.value?"#FFFFFF":e.color,fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",null,e.label),React.createElement("div",{style:{fontSize:"11px",opacity:t.goalStatus===e.value?.9:.7,marginTop:"2px"}},e.desc)),t.goalStatus===e.value&&React.createElement("div",{style:{fontSize:"16px"}},"\u25CF"))))),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#333333",marginBottom:"8px"}},"Notes (optional)"),React.createElement("textarea",{value:t.goalNotes,onChange:e=>i.setGoalNotes(e.target.value),placeholder:t.goalStatus==="yes"?"What helped you succeed?":t.goalStatus==="almost"?"What got in the way?":t.goalStatus==="no"?"What prevented you from completing it?":"Any thoughts about this goal...",style:{width:"100%",minHeight:"80px",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),t.submitGoalAchievement()},disabled:!t.goalStatus,style:{width:"100%",height:"48px",background:t.goalStatus?"#058585":"#CCCCCC",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"16px",fontWeight:"bold",cursor:t.goalStatus?"pointer":"not-allowed",transition:"all 0.2s"}},t.goalStatus==="yes"?"\u{1F389} Record Success":"\u2705 Record Progress")):React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:"14px",color:"#666666",marginBottom:"20px"}},"Track your goal completion rate and build your achievement streak!"),t.goalStats.totalGoals>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"24px"}},React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, #00A86B 0%, #058585 100%)",borderRadius:"12px",textAlign:"center",color:"#FFFFFF"}},React.createElement("div",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"4px"}},t.goalStats.completionRate,"%"),React.createElement("div",{style:{fontSize:"11px",opacity:.9}},"Success Rate")),React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, #FFA500 0%, #FF8C00 100%)",borderRadius:"12px",textAlign:"center",color:"#FFFFFF"}},React.createElement("div",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"4px"}},t.goalStats.currentStreak),React.createElement("div",{style:{fontSize:"11px",opacity:.9}},"Current Streak")),React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",textAlign:"center",color:"#FFFFFF"}},React.createElement("div",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"4px"}},t.goalStats.bestStreak),React.createElement("div",{style:{fontSize:"11px",opacity:.9}},"Best Streak"))),React.createElement("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"bold",color:"#333"}},"Recent Goals (",t.goalStats.totalGoals," total)"),React.createElement("div",{style:{marginBottom:"20px"}},t.goalHistory.slice(0,10).map((e,n)=>React.createElement("div",{key:e.id,style:{padding:"14px",marginBottom:"10px",background:"#F8F9FA",borderRadius:"10px",borderLeft:`4px solid ${e.status==="yes"?"#00A86B":e.status==="almost"?"#4CAF50":e.status==="partially"?"#FFA500":e.status==="no"?"#FF6B6B":"#999999"}`}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},React.createElement("div",{style:{fontSize:"12px",color:"#666",fontWeight:"600"}},e.checkedInAt&&new Date(e.checkedInAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})),React.createElement("div",{style:{fontSize:"12px",fontWeight:"bold",color:e.status==="yes"?"#00A86B":e.status==="almost"?"#4CAF50":e.status==="partially"?"#FFA500":e.status==="no"?"#FF6B6B":"#999999"}},e.status==="yes"?"\u2705 Completed":e.status==="almost"?"\u26A1 Almost":e.status==="partially"?"\u{1F7E1} Partial":e.status==="no"?"\u274C No":"\u{1F937} Skipped")),React.createElement("div",{style:{fontSize:"13px",color:"#333",lineHeight:"1.5"}},e.goal),e.notes&&React.createElement("div",{style:{marginTop:"8px",fontSize:"12px",color:"#666",fontStyle:"italic"}},"Note: ",e.notes))))):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999999"}},React.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},"\u{1F3C6}"),React.createElement("div",{style:{marginBottom:"8px",fontSize:"16px",fontWeight:"600"}},"No goals tracked yet"),React.createElement("div",{style:{fontSize:"14px"}},"Set a goal in your evening reflection and check back tomorrow to record your progress!")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back")))));case"streaks":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"}},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",position:"sticky",top:0,background:"#FFFFFF",zIndex:10}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"\u{1F525} Your Check-In Streaks")),React.createElement("div",{style:{padding:"20px"}},t.streakData.currentStreak>0&&React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(0, 168, 107, 0.1) 100%)",borderRadius:"12px",marginBottom:"20px",border:"2px solid #058585"}},React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"}},"Current Streak"),React.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#058585"}},"\u{1F525} ",t.streakData.currentStreak," ",t.streakData.currentStreak===1?"day":"days"),React.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px"}},"Keep it up! Check in today to extend your streak.")),React.createElement("div",{style:{marginBottom:"12px",fontSize:"16px",fontWeight:"600",color:"#000"}},"All Streaks"),t.streakData.allStreaks.length>0?React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},t.streakData.allStreaks.map((e,n)=>{const r=new Date(e.startDate),d=new Date(e.endDate),p=n===0,l=e.endDate===`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`;return React.createElement("div",{key:n,style:{padding:"14px",background:p?"#FFF9E6":"#F8F9FA",borderRadius:"10px",border:p?"2px solid #FFA500":"1px solid #E5E5E5",position:"relative"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",marginBottom:"4px"}},e.length," ",e.length===1?"day":"days",p&&React.createElement("span",{style:{marginLeft:"8px",fontSize:"14px"}},"\u2B50 Longest"),l&&React.createElement("span",{style:{marginLeft:"8px",fontSize:"14px"}},"\u2190 Current")),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))),React.createElement("div",{style:{fontSize:"24px"}},"\u{1F525}")))})):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"}},React.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},"\u{1F525}"),React.createElement("div",null,"Start checking in to build your first streak!")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{marginTop:"20px",width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"reflectionStreaks":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"}},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"}},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5",position:"sticky",top:0,background:"#FFFFFF",zIndex:10}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"\u{1F319} Your Reflection Streaks")),React.createElement("div",{style:{padding:"20px"}},t.reflectionStreakData.currentStreak>0&&React.createElement("div",{style:{padding:"16px",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(0, 168, 107, 0.1) 100%)",borderRadius:"12px",marginBottom:"20px",border:"2px solid #058585"}},React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"}},"Current Streak"),React.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#058585"}},"\u{1F525} ",t.reflectionStreakData.currentStreak," ",t.reflectionStreakData.currentStreak===1?"day":"days"),React.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px"}},"Keep it up! Reflect tonight to extend your streak.")),React.createElement("div",{style:{marginBottom:"12px",fontSize:"16px",fontWeight:"600",color:"#000"}},"All Streaks"),t.reflectionStreakData.allStreaks.length>0?React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},t.reflectionStreakData.allStreaks.map((e,n)=>{const r=new Date(e.startDate),d=new Date(e.endDate),p=n===0,l=e.endDate===`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`;return React.createElement("div",{key:n,style:{padding:"14px",background:p?"#FFF9E6":"#F8F9FA",borderRadius:"10px",border:p?"2px solid #FFA500":"1px solid #E5E5E5",position:"relative"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",marginBottom:"4px"}},e.length," ",e.length===1?"day":"days",p&&React.createElement("span",{style:{marginLeft:"8px",fontSize:"14px"}},"\u2B50 Longest"),l&&React.createElement("span",{style:{marginLeft:"8px",fontSize:"14px"}},"\u2190 Current")),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))),React.createElement("div",{style:{fontSize:"24px"}},"\u{1F525}")))})):React.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"}},React.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},"\u{1F319}"),React.createElement("div",null,"Start reflecting daily to build your first streak!")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{marginTop:"20px",width:"100%",height:"48px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"}},"Back"))));case"journeyCalendar":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"400px",width:"100%"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"\u{1F4C5} Calendar Options")),React.createElement("div",{style:{padding:"20px"}},React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),o(),i.setShowModal("milestone")},style:{width:"100%",padding:"18px",background:"linear-gradient(135deg, #0077CC 0%, #058585 100%)",border:"none",borderRadius:"12px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",cursor:"pointer",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",boxShadow:"0 4px 12px rgba(0,119,204,0.3)"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"milestone",style:{width:"24px",height:"24px"}}),React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",null,"Milestone Calendar"),React.createElement("div",{style:{fontSize:"12px",opacity:.9,fontWeight:"400"}},"View and share recovery milestones"))),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px"}})),React.createElement("button",{onClick:()=>{t.triggerHaptic("medium"),o(),i.setShowModal("graphSettings")},style:{width:"100%",padding:"18px",background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",border:"none",borderRadius:"12px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",boxShadow:"0 4px 12px rgba(0,168,107,0.3)"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"bar-chart-3",style:{width:"24px",height:"24px"}}),React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",null,"Graph Settings"),React.createElement("div",{style:{fontSize:"12px",opacity:.9,fontWeight:"400"}},"Share & print wellness graphs"))),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px"}})),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{marginTop:"20px",width:"100%",padding:"12px",background:"#6c757d",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"}},"Close"))));case"graphSettings":return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>o()},React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"15px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #E5E5E5"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"bar-chart-3",style:{width:"24px",height:"24px",color:"#00A86B"}}),React.createElement("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000000"}},"Graph Settings")),React.createElement("button",{onClick:()=>o(),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"20px",height:"20px",color:"#666666"}})))),React.createElement("div",{style:{padding:"20px"}},React.createElement("div",{style:{marginBottom:"24px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#000000",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"18px",height:"18px",color:"#0077CC"}}),"Date Range"),React.createElement("p",{style:{fontSize:"13px",color:"#666666",marginBottom:"12px"}},"Select a date range to view your wellness graphs"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",marginBottom:"16px"}},React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date,n=new Date;n.setDate(n.getDate()-7),i.setGraphDateRange({start:n,end:e}),i.setSelectedRange("7days")},style:{padding:"12px",background:t.selectedRange==="7days"?"linear-gradient(135deg, #00A86B 0%, #008554 100%)":"#F5F5F5",color:t.selectedRange==="7days"?"#FFFFFF":"#333333",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"}},"Last 7 Days"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date,n=new Date;n.setDate(n.getDate()-30),i.setGraphDateRange({start:n,end:e}),i.setSelectedRange("30days")},style:{padding:"12px",background:t.selectedRange==="30days"?"linear-gradient(135deg, #00A86B 0%, #008554 100%)":"#F5F5F5",color:t.selectedRange==="30days"?"#FFFFFF":"#333333",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"}},"Last 30 Days"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light");const e=new Date,n=new Date;n.setDate(n.getDate()-90),i.setGraphDateRange({start:n,end:e}),i.setSelectedRange("90days")},style:{padding:"12px",background:t.selectedRange==="90days"?"linear-gradient(135deg, #00A86B 0%, #008554 100%)":"#F5F5F5",color:t.selectedRange==="90days"?"#FFFFFF":"#333333",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"}},"Last 90 Days"),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),i.setGraphDateRange({start:null,end:null}),i.setSelectedRange("all")},style:{padding:"12px",background:t.selectedRange==="all"?"linear-gradient(135deg, #00A86B 0%, #008554 100%)":"#F5F5F5",color:t.selectedRange==="all"?"#FFFFFF":"#333333",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"}},"All Time")),React.createElement("div",{style:{padding:"16px",background:"#F8F9FA",borderRadius:"10px",border:"1px solid #E5E5E5"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"500",color:"#000000",marginBottom:"12px"}},"Custom Date Range"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"}},React.createElement("div",null,React.createElement("label",{style:{fontSize:"12px",color:"#666666",marginBottom:"6px",display:"block"}},"Start Date"),React.createElement("input",{type:"date",value:t.graphDateRange.start?t.graphDateRange.start.toISOString().split("T")[0]:"",onChange:e=>{const n=e.target.value?new Date(e.target.value):null;i.setGraphDateRange({...graphDateRange,start:n})},style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px"}})),React.createElement("div",null,React.createElement("label",{style:{fontSize:"12px",color:"#666666",marginBottom:"6px",display:"block"}},"End Date"),React.createElement("input",{type:"date",value:t.graphDateRange.end?t.graphDateRange.end.toISOString().split("T")[0]:"",onChange:e=>{const n=e.target.value?new Date(e.target.value):null;i.setGraphDateRange({...graphDateRange,end:n})},style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px"}}))))),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#000000",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"file-text",style:{width:"18px",height:"18px",color:"#0077CC"}}),"Export & Share"),React.createElement("button",{onClick:async()=>{t.triggerHaptic("medium"),await t.exportGraphsToPDF(t.graphDateRange,t.user)},style:{width:"100%",padding:"16px",background:"linear-gradient(135deg, #0077CC 0%, #005A9C 100%)",border:"none",borderRadius:"12px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",cursor:"pointer",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,119,204,0.3)"}},React.createElement("i",{"data-lucide":"printer",style:{width:"20px",height:"20px"}}),"Print to PDF"),React.createElement("button",{onClick:async()=>{t.triggerHaptic("medium"),await t.shareGraphsPDF(t.graphDateRange,t.user)},style:{width:"100%",padding:"16px",background:"linear-gradient(135deg, #00A86B 0%, #008554 100%)",border:"none",borderRadius:"12px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,168,107,0.3)"}},React.createElement("i",{"data-lucide":"share-2",style:{width:"20px",height:"20px"}}),"Share PDF")),React.createElement("button",{onClick:()=>{t.triggerHaptic("light"),o()},style:{width:"100%",padding:"12px",background:"#6c757d",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"}},"Close"))));default:return React.createElement("div",null,"Content not available")}})()}window.GLRSApp.components.ModalContainer=ModalContainer;
