function PIRApp({user:t}){const{currentView:o,setCurrentView:p,journeyTab:w,setJourneyTab:Hs,dailyQuotes:xs,setDailyQuotes:Ws,showProfileModal:Es,setShowProfileModal:Ns,loading:N,setLoading:Fs,userData:s,setUserData:Js,profileImage:Bs,setProfileImage:Os,coachInfo:Qs,setCoachInfo:qs,sobrietyDays:g,setSobrietyDays:F,selectedMood:js,setSelectedMood:Vs,pledgeMade:Us,setPledgeMade:Ys,moneySaved:J,setMoneySaved:B,dailyQuote:zs,setDailyQuote:Ks,milestones:Xs,setMilestones:Zs,nextMilestone:O,setNextMilestone:_s,activeBroadcast:$s,setActiveBroadcast:S,broadcastDismissed:Q,setBroadcastDismissed:q,checkInStatus:j,setCheckInStatus:V,checkInStreak:u,setCheckInStreak:ea,streakCheckIns:ta,setStreakCheckIns:sa,complianceRate:M,setComplianceRate:aa,totalCheckIns:oa,setTotalCheckIns:na,googleConnected:ia,setGoogleConnected:la,googleToken:ra,setGoogleToken:da,googleTokenExpiry:ca,setGoogleTokenExpiry:ha,syncingGoogle:pa,setSyncingGoogle:wa,checkIns:l,setCheckIns:ga,moodChartData:U,setMoodChartData:Sa,cravingChartData:Y,setCravingChartData:ua,anxietyChartData:Ma,setAnxietyChartData:ma,sleepChartData:Ra,setSleepChartData:Ca,chartRef:z,cravingChartRef:K,anxietyChartRef:ka,sleepChartRef:Aa,lifeCardIndex:m,setLifeCardIndex:X,lifeIsDragging:Ga,setLifeIsDragging:Z,lifeTouchStart:_,setLifeTouchStart:$,lifeTouchEnd:ee,setLifeTouchEnd:te,lifeCardsRef:Ta,financesCardIndex:se,setFinancesCardIndex:ae,financesIsDragging:fa,setFinancesIsDragging:oe,financesTouchStart:ne,setFinancesTouchStart:ie,financesTouchEnd:le,setFinancesTouchEnd:re,financesCardsRef:ya,savingsCarouselIndex:Da,setSavingsCarouselIndex:Ia,activeSavingsGoal:de,setActiveSavingsGoal:ce,actualMoneySaved:he,setActualMoneySaved:pe,customGoalItems:we,setCustomGoalItems:ge,tempAmount:va,setTempAmount:La,savingsCarouselTouchStart:ba,setSavingsCarouselTouchStart:Pa,savingsCarouselRef:Ha,savingsItems:xa,setSavingsItems:Se,savingsGoals:Wa,setSavingsGoals:ue,moneyMapStops:Ea,setMoneyMapStops:Me,wellnessCardIndex:me,setWellnessCardIndex:Re,wellnessIsDragging:Na,setWellnessIsDragging:Ce,wellnessTouchStart:ke,setWellnessTouchStart:Ae,wellnessTouchEnd:Ge,setWellnessTouchEnd:Te,wellnessCardsRef:Fa,expandedGraph:fe,setExpandedGraph:Ja,missedMoodCheckIns:Ba,setMissedMoodCheckIns:Oa,missedCravingCheckIns:Qa,setMissedCravingCheckIns:qa,missedAnxietyCheckIns:ja,setMissedAnxietyCheckIns:Va,missedSleepCheckIns:Ua,setMissedSleepCheckIns:Ya,missedOverallCheckIns:za,setMissedOverallCheckIns:Ka,goals:n,setGoals:Xa,assignments:a,setAssignments:Za,showSidebar:r,setShowSidebar:ye,dueToday:_a,setDueToday:$a,showIncompleteTasksModal:R,setShowIncompleteTasksModal:De,showHabitTrackerModal:C,setShowHabitTrackerModal:Ie,showQuickReflectionModal:k,setShowQuickReflectionModal:ve,showThisWeekTasksModal:A,setShowThisWeekTasksModal:Le,showOverdueItemsModal:G,setShowOverdueItemsModal:be,showMarkCompleteModal:T,setShowMarkCompleteModal:Pe,showProgressStatsModal:f,setShowProgressStatsModal:He,showGoalProgressModal:y,setShowGoalProgressModal:xe,showTodayWinsModal:D,setShowTodayWinsModal:We,showCopingTechniqueModal:Ee,setShowCopingTechniqueModal:Ne,showGratitudeModal:Fe,setShowGratitudeModal:Je,showGratitudeThemesModal:Be,setShowGratitudeThemesModal:Oe,showJourneyCalendarModal:Qe,setShowJourneyCalendarModal:qe,showMilestoneModal:je,setShowMilestoneModal:Ve,showPastReflectionsModal:Ue,setShowPastReflectionsModal:Ye,showReflectionStreakModal:ze,setShowReflectionStreakModal:Ke,showReflectionStreaksModal:Xe,setShowReflectionStreaksModal:Ze,showStreakModal:_e,setShowStreakModal:$e,showStreaksModal:et,setShowStreaksModal:tt,showWeeklyReportModal:st,setShowWeeklyReportModal:at,showIntentionsModal:ot,setShowIntentionsModal:nt,showProgressSnapshotModal:it,setShowProgressSnapshotModal:lt,showPastIntentionsModal:rt,setShowPastIntentionsModal:dt,showGraphSettingsModal:ct,setShowGraphSettingsModal:ht,showCalendarHeatmapModal:pt,setShowCalendarHeatmapModal:wt,showMoodInsightsModal:gt,setShowMoodInsightsModal:St,showOverallDayInsightsModal:ut,setShowOverallDayInsightsModal:Mt,showGratitudeJournalModal:mt,setShowGratitudeJournalModal:Rt,showChallengesHistoryModal:Ct,setShowChallengesHistoryModal:kt,showChallengeCheckInModal:At,setShowChallengeCheckInModal:Gt,showBreakthroughModal:Tt,setShowBreakthroughModal:ft,showTomorrowGoalsModal:yt,setShowTomorrowGoalsModal:Dt,showMoodPatternModal:It,setShowMoodPatternModal:vt,showCravingPatternModal:Lt,setShowCravingPatternModal:bt,showAnxietyPatternModal:Pt,setShowAnxietyPatternModal:Ht,showSleepPatternModal:xt,setShowSleepPatternModal:Wt,showTipsModal:Et,setShowTipsModal:Nt,habits:I,setHabits:eo,todayHabits:Ft,setTodayHabits:to,quickReflections:Jt,setQuickReflections:so,todayWins:Bt,setTodayWins:ao,newHabitName:Ot,setNewHabitName:Qt,newReflection:qt,setNewReflection:jt,newWin:Vt,setNewWin:Ut,showHabitHistory:d,setShowHabitHistory:v,showReflectionHistory:L,setShowReflectionHistory:Yt,showWinsHistory:b,setShowWinsHistory:zt,activeTaskTab:oo,setActiveTaskTab:no,morningCheckInData:io,setMorningCheckInData:lo,eveningReflectionData:ro,setEveningReflectionData:co,patternDetection:Kt,setPatternDetection:Xt,calendarHeatmapData:Zt,setCalendarHeatmapData:ho,selectedCalendarDay:po,setSelectedCalendarDay:wo,calendarViewMode:go,setCalendarViewMode:So,calendarCurrentMonth:uo,setCalendarCurrentMonth:Mo,calendarCurrentWeek:mo,setCalendarCurrentWeek:Ro,moodWeekData:_t,setMoodWeekData:Co,streakData:P,setStreakData:ko,reflectionStreakData:$t,setReflectionStreakData:Ao,overallDayWeekData:es,setOverallDayWeekData:Go,allMilestones:ts,setAllMilestones:To,selectedReflection:ss,setSelectedReflection:as,reflectionFilter:os,setReflectionFilter:ns,gratitudeTheme:is,setGratitudeTheme:ls,gratitudeText:rs,setGratitudeText:ds,gratitudeJournalData:cs,setGratitudeJournalData:fo,gratitudeInsights:yo,setGratitudeInsights:Do,challengesHistoryData:hs,setChallengesHistoryData:Io,challengesInsights:vo,setChallengesInsights:Lo,selectedChallenge:bo,setSelectedChallenge:Po,challengeCheckInStatus:Ho,setChallengeCheckInStatus:xo,challengeCheckInNotes:Wo,setChallengeCheckInNotes:Eo,graphDateRange:ps,setGraphDateRange:ws,selectedRange:gs,setSelectedRange:Ss,breakthroughData:us,setBreakthroughData:No,tomorrowGoalsData:Fo,setTomorrowGoalsData:Jo,goalHistory:Bo,setGoalHistory:Oo,yesterdayGoal:Qo,setYesterdayGoal:qo,goalStatus:jo,setGoalStatus:Vo,goalNotes:Uo,setGoalNotes:Yo,goalStats:zo,setGoalStats:Ko,weeklyStats:Xo,setWeeklyStats:Zo,checkInData:Ms,setCheckInData:_o,reflectionStreak:$o,setReflectionStreak:en,streakReflections:tn,setStreakReflections:sn,reflectionData:H,setReflectionData:an,reflectionStats:on,setReflectionStats:nn,coachNotes:ms,setCoachNotes:ln,activeChat:rn,setActiveChat:dn,communityMessages:cn,setCommunityMessages:Rs,topicRooms:hn,setTopicRooms:pn,meetings:wn,setMeetings:gn,supportGroups:Sn,setSupportGroups:un,emergencyResources:Mn,setEmergencyResources:mn,activeTopicRoom:Rn,setActiveTopicRoom:Cs,topicRoomMessages:Cn,setTopicRoomMessages:x,resources:kn,setResources:An,notifications:ks,setNotifications:As,unreadCount:Gn,setUnreadCount:Gs,showModal:c,setShowModal:W,fileInputRef:Tn,showTermsModal:fn,setShowTermsModal:yn,showPrivacyModal:Dn,setShowPrivacyModal:In,showDataHandlingModal:vn,setShowDataHandlingModal:Ln,showCrisisModal:bn,setShowCrisisModal:Pn,showDisclaimerModal:Hn,setShowDisclaimerModal:xn,pulling:Wn,setPulling:Ts,pullDistance:En,setPullDistance:fs,refreshing:Nn,setRefreshing:ys,pullStartY:Ds,contentRef:E,listenersRef:Is}=useAppContext(),{handleLifeTouchStart:Fn,handleLifeTouchMove:Jn,handleLifeTouchEnd:Bn}=window.GLRSApp.shared.touchHandlers.createLifeTouchHandlers(_,ee,m,$,te,Z,X),{handleFinancesTouchStart:On,handleFinancesTouchMove:Qn,handleFinancesTouchEnd:qn}=window.GLRSApp.shared.touchHandlers.createFinancesTouchHandlers(ne,le,se,ie,re,oe,ae),{handleWellnessTouchStart:jn,handleWellnessTouchMove:Vn,handleWellnessTouchEnd:Un}=window.GLRSApp.shared.touchHandlers.createWellnessTouchHandlers(ke,Ge,me,Ae,Te,Ce,Re),{handleRefresh:Yn,handleTouchStart:vs,handleTouchMove:Ls,handleTouchEnd:bs}=window.GLRSApp.hooks.usePullToRefresh({contentRef:E,pullStartY:Ds,currentView:o,setPulling:Ts,setPullDistance:fs,setRefreshing:ys,loadAllData,loadCheckIns,loadGoals,loadAssignments,loadCommunityMessages,loadTopicRooms,loadResources});window.GLRSApp.hooks.useDataLoading(t,db,Is,Q,{setNotifications:As,setUnreadCount:Gs,setCommunityMessages:Rs,setActiveBroadcast:S},{loadGoals,loadAssignments,loadHabits,loadTodayHabits,loadQuickReflections,loadTodayWins,loadGoogleConnection}),window.GLRSApp.hooks.useLucideIcons([o,c,R,r,C,k,A,G,T,f,y,D,d,L,b,m]),window.GLRSApp.hooks.useSobrietyCalculation(s,F,B),window.GLRSApp.hooks.useModalIcons(c),window.GLRSApp.hooks.useJourneyTabIcons(o,w),window.GLRSApp.hooks.useSavingsData(t,db,Se,ue,Me,ce,pe,ge),window.GLRSApp.hooks.useSavingsPreferences(t,db,de,he,we),window.GLRSApp.hooks.useProgressCharts(o,U,Y,z,K),window.GLRSApp.hooks.useJourneyWellnessGraphs(o,w,fe,l),window.GLRSApp.hooks.useProfileCompletion(s,c,W,db,t),window.GLRSApp.hooks.useMidnightReset(t,V);const zn=async(e,i,h)=>{await window.GLRSApp.shared.assignmentActions.completeAssignment({assignmentId:e,goalId:i,reflection:h,user:t,db,firebase,loadAssignments,loadGoals,loadComplianceRates,updateGoalProgress:Ps})},Ps=async e=>{await window.GLRSApp.shared.assignmentActions.updateGoalProgress({goalId:e,user:t,db,firebase})},Kn=async(e,i)=>{await window.GLRSApp.shared.messagingActions.sendCommunityMessage({message:e,imageUrl:i,user:t,userData:s,db,firebase})},Xn=async(e,i,h=null)=>{await window.GLRSApp.shared.messagingActions.sendTopicRoomMessage({roomId:e,content:i,imageFile:h,user:t,userData:s,db,firebase,setTopicRoomMessages:x})},Zn=async e=>{await window.GLRSApp.shared.messagingActions.enterTopicRoom({room:e,db,setActiveTopicRoom:Cs,setTopicRoomMessages:x,setShowModal:W})},_n=async()=>{await window.GLRSApp.shared.emergencyActions.triggerSOS({user:t,userData:s,db,firebase})},$n=e=>{window.GLRSApp.shared.uiActions.handleImageSelect(e)},ei=()=>{window.GLRSApp.shared.exportActions.exportDataAsJSON({userData:s,checkIns:l,goals:n,assignments:a,sobrietyDays:g,checkInStreak:u,complianceRate:M})},ti=()=>{window.GLRSApp.shared.exportActions.exportDataAsPDF({userData:s,user:t,sobrietyDays:g,moneySaved:J,checkInStreak:u,complianceRate:M,checkIns:l,goals:n})},si=async e=>{await window.GLRSApp.shared.notificationActions.markNotificationAsRead({notificationId:e,db,firebase})},ai=async()=>{await window.GLRSApp.shared.notificationActions.markAllNotificationsAsRead({notifications:ks,db,firebase})},oi=()=>{window.GLRSApp.shared.uiActions.dismissBroadcast({setBroadcastDismissed:q,setActiveBroadcast:S})};return window.GLRSApp.hooks.usePatternDetection(l,Xt),N?React.createElement(window.GLRSApp.components.LoadingSpinner,{message:"Loading your recovery dashboard..."}):React.createElement("div",{className:"app-container"},React.createElement(window.GLRSApp.components.HeaderBar),React.createElement(window.GLRSApp.components.PullToRefreshIndicator),React.createElement(window.GLRSApp.components.MainContent,{contentRef:E,handleTouchStart:vs,handleTouchMove:Ls,handleTouchEnd:bs}),React.createElement(window.GLRSApp.components.LegalFooter),React.createElement(window.GLRSApp.components.CrisisButton),React.createElement(window.GLRSApp.components.BottomNavigation),React.createElement(window.GLRSApp.components.ModalRenderer),window.GLRSApp?.components?.TasksSidebarModals&&React.createElement(window.GLRSApp.components.TasksSidebarModals,{showSidebar:r,setShowSidebar:ye,showHabitTrackerModal:C,setShowHabitTrackerModal:Ie,showQuickReflectionModal:k,setShowQuickReflectionModal:ve,showThisWeekTasksModal:A,setShowThisWeekTasksModal:Le,showOverdueItemsModal:G,setShowOverdueItemsModal:be,showMarkCompleteModal:T,setShowMarkCompleteModal:Pe,showProgressStatsModal:f,setShowProgressStatsModal:He,showGoalProgressModal:y,setShowGoalProgressModal:xe,showTodayWinsModal:D,setShowTodayWinsModal:We,showIntentionsModal:ot,setShowIntentionsModal:nt,showProgressSnapshotModal:it,setShowProgressSnapshotModal:lt,showPastIntentionsModal:rt,setShowPastIntentionsModal:dt,showStreaksModal:et,setShowStreaksModal:tt,showReflectionStreaksModal:Xe,setShowReflectionStreaksModal:Ze,user:s,goals:n,objectives:[],assignments:a,habits:I,todayHabits:Ft,quickReflections:Jt,todayWins:Bt,newHabitName:Ot,setNewHabitName:Qt,newReflection:qt,setNewReflection:jt,newWin:Vt,setNewWin:Ut,showHabitHistory:d,setShowHabitHistory:v,showReflectionHistory:L,setShowReflectionHistory:Yt,showWinsHistory:b,setShowWinsHistory:zt,currentReflection:null,pastIntentions:[],graphDateRange:ps,setGraphDateRange:ws,selectedRange:gs,setSelectedRange:Ss,activeGoals:n.filter(e=>e.status==="active"),activeObjectives:[],activeAssignments:a.filter(e=>e.status!=="completed"),completionRate:0,completedAssignments:a.filter(e=>e.status==="completed").length,totalAssignments:a.length,streakData:P,reflectionStreakData:$t,shareToCommunity:()=>{},triggerHaptic,exportGraphsToPDF:()=>{},shareGraphsPDF:()=>{}}),window.GLRSApp?.components?.JourneyTabModals&&React.createElement(window.GLRSApp.components.JourneyTabModals,{showWeeklyReportModal:st,showStreakModal:_e,showCalendarHeatmapModal:pt,showReflectionStreakModal:ze,showMoodInsightsModal:gt,showOverallDayInsightsModal:ut,showGratitudeThemesModal:Be,showGratitudeJournalModal:mt,showChallengesHistoryModal:Ct,showChallengeCheckInModal:At,showBreakthroughModal:Tt,showTomorrowGoalsModal:yt,showJourneyCalendarModal:Qe,showGraphSettingsModal:ct,showIncompleteTasksModal:R,setShowWeeklyReportModal:at,setShowStreakModal:$e,setShowCalendarHeatmapModal:wt,setShowReflectionStreakModal:Ke,setShowMoodInsightsModal:St,setShowOverallDayInsightsModal:Mt,setShowGratitudeThemesModal:Oe,setShowGratitudeJournalModal:Rt,setShowChallengesHistoryModal:kt,setShowChallengeCheckInModal:Gt,setShowBreakthroughModal:ft,setShowTomorrowGoalsModal:Dt,setShowJourneyCalendarModal:qe,setShowGraphSettingsModal:ht,setShowIncompleteTasksModal:De,checkInData:Ms,checkInStatus:j,reflectionData:H,assignments:a,coachNotes:ms,userData:s,user:s,sobrietyDate:s?.sobrietyStartDate||"",goals:n,challenges:hs,habits:I,intentions:[],tasks:[],wins:[],breakthroughs:us,gratitudeEntries:cs,moodData:_t,overallDayData:es,streakData:P,calendarData:Zt,graphSettings:{},progressData:{},triggerHaptic,setCurrentView:p,saveReflection:()=>{},saveChallengeCheckIn:()=>{},saveBreakthrough:()=>{},saveTomorrowGoals:()=>{},saveIntention:()=>{},saveWin:()=>{},markTaskComplete:()=>{},updateGraphSettings:()=>{},updateHabit:()=>{},showSidebar:r,showHabitHistory:d,setShowHabitHistory:v}),window.GLRSApp?.components?.TasksTabModals&&React.createElement(window.GLRSApp.components.TasksTabModals,{showMoodPatternModal:It,showCravingPatternModal:Lt,showAnxietyPatternModal:Pt,showSleepPatternModal:xt,showTipsModal:Et,showCopingTechniqueModal:Ee,showMilestoneModal:je,showPastReflectionsModal:Ue,showGratitudeModal:Fe,setShowMoodPatternModal:vt,setShowCravingPatternModal:bt,setShowAnxietyPatternModal:Ht,setShowSleepPatternModal:Wt,setShowTipsModal:Nt,setShowCopingTechniqueModal:Ne,setShowMilestoneModal:Ve,setShowPastReflectionsModal:Ye,setShowGratitudeModal:Je,patternDetection:Kt,copingTechniques:window.GLRSApp.staticData.copingTechniques,user:s,sobrietyDate:s?.sobrietyStartDate||"",allMilestones:ts,nextMilestone:O,reflectionData:H,reflectionFilter:os,setReflectionFilter:ns,selectedReflection:ss,setSelectedReflection:as,gratitudeThemes:window.GLRSApp.staticData.gratitudeThemes,gratitudeTheme:is,setGratitudeTheme:ls,gratitudeText:rs,setGratitudeText:ds,triggerHaptic,setCurrentView:p,saveGratitude:window.GLRSApp.handlers?.saveGratitude||(()=>{})}))}function PIRAppWithContext({user:t}){return React.createElement(AppProvider,{user:t},React.createElement(PIRApp,{user:t}))}window.GLRSApp.components.PIRApp=PIRAppWithContext,window.PIRApp=PIRAppWithContext,window.GLRSApp.components.PIRAppUnwrapped=PIRApp,console.log("\u2705 PIRApp.js loaded - Main app component available with Context API");
