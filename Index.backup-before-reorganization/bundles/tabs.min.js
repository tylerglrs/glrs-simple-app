function HomeTab(){const{activeBroadcast:i,broadcastDismissed:f,dismissBroadcast:d,coachInfo:F,sobrietyDays:l,dailyQuote:u,nextMilestone:z,milestones:A,selectedMood:D,setSelectedMood:m,pledgeMade:I,handlePledge:N,triggerHaptic:W,setCurrentView:w,userData:p,moneySaved:S,checkInStreak:o,totalCheckIns:R,complianceRate:U,setShowProfileModal:$,setShowMilestoneModal:V,setShowIntentionsModal:b,setShowProgressSnapshotModal:c}=useAppContext();return React.createElement(React.Fragment,null,i&&!f&&React.createElement("div",{className:"broadcast-banner"},React.createElement("div",{className:"broadcast-content"},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"megaphone",style:{width:"24px",height:"24px",color:"var(--color-accent)"}}),React.createElement("div",null,React.createElement("div",{style:{fontWeight:"bold",color:"var(--color-accent)"}},"Announcement"),React.createElement("div",{style:{color:"white",marginTop:"5px"}},i.message)))),React.createElement("button",{className:"broadcast-dismiss",onClick:d},"\xD7")),React.createElement("div",{className:"hero-section"},F&&React.createElement("div",{className:"coach-info-card"},React.createElement("h3",{style:{color:"#4CAF50",marginBottom:"10px"}},"Your Recovery Coach"),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"white"}},F.displayName||F.firstName+" "+F.lastName),F.credentials&&React.createElement("div",{style:{fontSize:"14px",opacity:.8,marginTop:"5px"}},F.credentials)),F.phone&&React.createElement("a",{href:`tel:${F.phone}`,style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px 15px",borderRadius:"20px",color:"white",textDecoration:"none",fontSize:"14px"}},React.createElement("i",{"data-lucide":"phone",style:{width:"16px",height:"16px",marginRight:"6px"}}),"Contact"))),React.createElement("div",{className:"hero-background"},React.createElement("div",{className:"day-counter-container"},React.createElement("div",{className:"large-number"},l),React.createElement("div",{className:"large-text"},"Days Strong"),React.createElement("div",{className:"motivational-quote"},u?.quote||"One day at a time."),u?.author&&React.createElement("div",{style:{fontSize:"12px",opacity:.7,marginTop:"5px"}},"\u2014 ",u.author))),z&&React.createElement("div",{className:"milestone-preview"},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",null,React.createElement("div",{style:{fontSize:"18px",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":z.icon||"target",style:{width:"20px",height:"20px"}}),React.createElement("span",null,"Next: ",z.title)),React.createElement("div",{style:{color:"rgba(255,255,255,0.7)",marginTop:"5px",fontSize:"14px"}},z.description)),React.createElement("div",{style:{textAlign:"center"}},React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4CAF50"}},z.daysRequired-l),React.createElement("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)"}},"days to go"))))),React.createElement("div",{className:"body-section"},React.createElement("div",{style:{background:"#FFFFFF",border:"1px solid #E5E5E5",backdropFilter:"blur(10px)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)",marginBottom:"var(--space-4)"}},React.createElement("h3",{style:{color:"#fff",fontSize:"var(--font-lg)",fontWeight:"bold",marginBottom:"var(--space-4)",display:"flex",alignItems:"center",gap:"var(--space-2)"}},React.createElement("i",{"data-lucide":"trophy",style:{width:"24px",height:"24px",color:"var(--color-accent)"}}),React.createElement("span",null,"Milestone Journey")),React.createElement("div",{style:{display:"flex",overflowX:"auto",gap:"var(--space-3)",paddingBottom:"var(--space-2)"}},A?.slice(0,10).map((y,H)=>{const B=l>=y.days,T=z&&y.days===z.daysRequired;return React.createElement("div",{key:H,style:{minWidth:"80px",display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--space-2)"}},React.createElement("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:B?"linear-gradient(135deg, var(--color-success) 0%, var(--color-success-dark) 100%)":T?"linear-gradient(135deg, var(--color-accent) 0%, #FF6B35 100%)":"rgba(255,255,255,0.1)",border:T?"3px solid var(--color-accent)":"none",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:B?"0 4px 12px rgba(46, 204, 113, 0.4)":"none",animation:T?"pulse 2s infinite":"none"}},React.createElement("i",{"data-lucide":y.icon||"award",style:{width:"32px",height:"32px",color:B||T?"#fff":"rgba(255,255,255,0.3)"}}),B&&React.createElement("div",{style:{position:"absolute",top:"-4px",right:"-4px",width:"24px",height:"24px",borderRadius:"50%",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement("i",{"data-lucide":"check",style:{width:"16px",height:"16px",color:"var(--color-success)"}}))),React.createElement("div",{style:{fontSize:"var(--font-xs)",fontWeight:"600",color:B?"#fff":T?"var(--color-accent)":"rgba(255,255,255,0.5)",textAlign:"center"}},y.days,"d"))}))),React.createElement("div",{className:"mood-tracker"},React.createElement("div",{style:{color:"white",marginBottom:"15px"}},"How are you feeling today?"),React.createElement("div",{className:"mood-options"},[{value:"great",label:"Great",icon:"smile"},{value:"good",label:"Good",icon:"meh"},{value:"okay",label:"Okay",icon:"frown"},{value:"struggling",label:"Struggling",icon:"frown"},{value:"crisis",label:"Crisis",icon:"alert-circle"}].map(y=>React.createElement("div",{key:y.value,className:`mood-button ${D===y.value?"selected":""}`,onClick:()=>m(y.value)},React.createElement("i",{"data-lucide":y.icon,className:"mood-icon"}),React.createElement("div",{className:"mood-label"},y.label))))),React.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"24px",marginBottom:"20px",color:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},React.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:"600"}},"Quick Tools"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"}},React.createElement("button",{onClick:()=>{W("light"),b(!0)},style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px",padding:"16px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"}},"Set Today's Intentions"),React.createElement("div",{style:{fontSize:"13px",opacity:.9}},"Define your focus for the day")),React.createElement("button",{onClick:()=>{W("light"),c(!0)},style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px",padding:"16px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"}},"Progress Snapshot"),React.createElement("div",{style:{fontSize:"13px",opacity:.9}},"View all goals and stats")))),React.createElement("button",{onClick:()=>w("guides"),style:{width:"100%",padding:"15px",background:"linear-gradient(135deg, #9c27b0 0%, #673ab7 100%)",border:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}},React.createElement("i",{"data-lucide":"book-open",style:{width:"24px",height:"24px",marginRight:"8px"}}),"Recovery Resources",React.createElement("span",{style:{background:"rgba(255,255,255,0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"12px"}},p?.newResourcesCount||0," New")),React.createElement("div",{className:"stats-grid"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"dollar-sign"})),React.createElement("div",{className:"stat-value"},"$",(S||0).toLocaleString()),React.createElement("div",{className:"stat-label"},"Money Saved")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"calendar-days"})),React.createElement("div",{className:"stat-value"},l||0),React.createElement("div",{className:"stat-label"},"Total Days")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"flame"})),React.createElement("div",{className:"stat-value"},o||0),React.createElement("div",{className:"stat-label"},"Day Streak")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"calendar-check"})),React.createElement("div",{className:"stat-value"},Math.floor((l||0)/7)),React.createElement("div",{className:"stat-label"},"Weeks Clean")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"check-circle"})),React.createElement("div",{className:"stat-value"},R||0),React.createElement("div",{className:"stat-label"},"Total Check-ins")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-icon"},React.createElement("i",{"data-lucide":"bar-chart-2"})),React.createElement("div",{className:"stat-value"},U?.checkIn||0,"%"),React.createElement("div",{className:"stat-label"},"Check-in Rate")))))}window.GLRSApp.components.HomeTab=HomeTab,window.GLRSApp=window.GLRSApp||{},window.GLRSApp.components=window.GLRSApp.components||{};function JourneyTab(){const{journeyTab:i,setJourneyTab:f,triggerHaptic:d,lifeCardIndex:F,setLifeCardIndex:l,lifeCardsRef:u,handleLifeTouchStart:z,handleLifeTouchMove:A,handleLifeTouchEnd:D,userData:m,calculateSobrietyDays:I,getRecoveryMilestones:N,dailyQuotes:W,loadDailyQuotes:w,financesCardIndex:p,setFinancesCardIndex:S,financesCardsRef:o,handleFinancesTouchStart:R,handleFinancesTouchMove:U,handleFinancesTouchEnd:$,savingsCarouselRef:V,savingsCarouselIndex:b,setSavingsCarouselIndex:c,savingsCarouselTouchStart:y,setSavingsCarouselTouchStart:H,activeSavingsGoal:B,setActiveSavingsGoal:T,actualMoneySaved:O,setActualMoneySaved:Z,customGoalItems:X,setCustomGoalItems:re,tempAmount:ne,setTempAmount:ie,savingsItems:ee,savingsGoals:ce,moneyMapStops:oe,wellnessCardIndex:te,setWellnessCardIndex:se,wellnessCardsRef:me,handleWellnessTouchStart:le,handleWellnessTouchMove:ge,handleWellnessTouchEnd:de,checkIns:t,expandedGraph:e,setExpandedGraph:n,checkInData:h,missedMoodCheckIns:P,missedCravingCheckIns:E,missedAnxietyCheckIns:Q,missedSleepCheckIns:fe,missedOverallCheckIns:Re,setShowModal:he}=useAppContext();return React.createElement(React.Fragment,null,React.createElement("div",{style:{background:"#058585",display:"flex",justifyContent:"space-around",alignItems:"center",height:"48px",position:"fixed",top:"48px",left:0,right:0,zIndex:99,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},React.createElement("button",{onClick:()=>{d("light"),f("life")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="life"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="life"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"Life",i==="life"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}})),React.createElement("button",{onClick:()=>{d("light"),f("finances")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="finances"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="finances"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"Finances",i==="finances"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}})),React.createElement("button",{onClick:()=>{d("light"),f("wellness")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="wellness"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="wellness"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"Wellness",i==="wellness"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}}))),React.createElement("div",{style:{background:"#FFFFFF",minHeight:"100vh",paddingBottom:"80px",paddingTop:"96px"}},i==="life"&&React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",marginBottom:"24px"}},React.createElement("div",{style:{position:"relative",width:"100%",overflow:"hidden",background:"#069494",padding:"20px 0"}},React.createElement("div",{ref:u,onTouchStart:z,onTouchMove:A,onTouchEnd:D,style:{width:"100%",padding:"0 15px"}},F===0&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},m?.sobrietyDate?React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"star",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"SOBRIETY DATE"),React.createElement("div",{style:{fontSize:"36px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"8px"}},(()=>{const[r,g,a]=m.sobrietyDate.split("-");return new Date(r,g-1,a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})()),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400",marginTop:"12px"}},"Your recovery journey started")):React.createElement("div",{style:{color:"#FFFFFF",fontSize:"16px"}},"Set your sobriety date in profile")),F===1&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(!m?.sobrietyDate)return React.createElement("div",{style:{color:"#FFFFFF",fontSize:"16px"}},"Set your sobriety date in profile");const r=I(m.sobrietyDate);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"flame",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"DAYS SOBER"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},r.toLocaleString()),React.createElement("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Your streak continues"))})()),F===2&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(!m?.sobrietyDate)return React.createElement("div",{style:{color:"#FFFFFF",fontSize:"16px"}},"Set your sobriety date in profile");const g=N(m.sobrietyDate).find(a=>!a.achieved);return g?React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"target",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"NEXT MILESTONE"),React.createElement("div",{style:{fontSize:"48px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g.daysUntil),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},g.daysUntil===1?"day":"days"," until ",g.title)):React.createElement(React.Fragment,null,React.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"\u{1F389}"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"700",color:"#FFFFFF"}},"All Milestones Achieved!"))})())),React.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"16px",paddingBottom:"10px"}},[0,1,2].map(r=>React.createElement("div",{key:r,onClick:()=>l(r),style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FFFFFF",opacity:F===r?1:.5,transition:"opacity 0.3s ease",cursor:"pointer"}}))))),React.createElement("div",{style:{padding:"0 5%",maxWidth:"600px",margin:"0 auto"}},React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{color:"#058585",fontSize:"16px",marginBottom:"12px",fontWeight:"600"}},"Recovery Milestones"),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"20px",border:"2px solid rgba(5, 133, 133, 0.2)",overflowX:"auto",overflowY:"hidden"}},m?.sobrietyDate?React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"40px",minWidth:"max-content",paddingBottom:"10px"}},N(m.sobrietyDate).map((g,a)=>React.createElement("div",{key:a,style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"80px",position:"relative"}},a>0&&React.createElement("div",{style:{position:"absolute",left:"-40px",top:"20px",width:"40px",height:"2px",background:g.achieved?"#058585":"rgba(5, 133, 133, 0.3)"}}),React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:g.achieved?"#058585":"#FFFFFF",border:`3px solid ${g.achieved?"#058585":"rgba(5, 133, 133, 0.3)"}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",marginBottom:"8px",transition:"all 0.3s ease",boxShadow:g.achieved?"0 2px 8px rgba(5, 133, 133, 0.4)":"none"}},g.achieved?"\u2713":React.createElement("span",{style:{color:"#999",fontSize:"14px"}},g.days)),React.createElement("div",{style:{fontSize:"12px",fontWeight:g.achieved?"600":"400",color:g.achieved?"#058585":"#999",textAlign:"center",whiteSpace:"nowrap"}},g.icon," ",g.title),!g.achieved&&g.daysUntil!==void 0&&React.createElement("div",{style:{fontSize:"10px",color:"#999",marginTop:"4px"}},g.daysUntil===0?"Today!":g.daysUntil===1?"Tomorrow":`${g.daysUntil} days`)))):React.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#999",fontSize:"14px"}},"Set your recovery start date in profile to see milestones"))),m?.sobrietyDate&&(()=>{const g=N(m.sobrietyDate).filter(v=>!v.achieved).slice(0,3),a=[{bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",text:"#667eea",lightBg:"rgba(102, 126, 234, 0.1)"},{bg:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",text:"#f5576c",lightBg:"rgba(245, 87, 108, 0.1)"},{bg:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",text:"#4facfe",lightBg:"rgba(79, 172, 254, 0.1)"}];return g.map((v,M)=>{const k=I(m.sobrietyDate),s=Math.min(100,Math.round(k/v.days*100)),x=v.days-k,C=a[M];return React.createElement("div",{key:M,style:{background:"#FFFFFF",border:"2px solid #069494",borderRadius:"16px",padding:"24px",margin:"24px 16px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},React.createElement("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px",background:C.bg,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}},v.icon," Next Milestone: ",v.title),React.createElement("div",{style:{fontSize:"16px",fontWeight:"400",color:"#666",marginBottom:"16px"}},x," ",x===1?"day":"days"," remaining"),React.createElement("div",{style:{position:"relative",marginBottom:"8px"}},React.createElement("div",{style:{position:"absolute",right:"8px",top:"-24px",fontSize:"14px",fontWeight:"700",color:C.text}},s,"%"),React.createElement("div",{style:{background:"#E0E0E0",height:"12px",borderRadius:"6px",position:"relative",overflow:"hidden"}},React.createElement("div",{style:{background:C.bg,height:"100%",borderRadius:"6px",width:`${s}%`,transition:"width 0.5s ease"}}))),React.createElement("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px",textAlign:"right"}},"Target: ",(()=>{const L=new Date(v.date),j=L.toLocaleDateString("en-US",{month:"short"}),ae=L.getDate(),xe=L.getFullYear();return`${j} ${ae}, ${xe}`})()))})})(),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"20px",border:"2px solid rgba(5, 133, 133, 0.2)",textAlign:"center"}},React.createElement("div",{style:{fontSize:"24px",marginBottom:"10px"}},"\u{1F4A1}"),React.createElement("div",{style:{fontSize:"16px",fontStyle:"italic",color:"#058585",lineHeight:"1.6",marginBottom:"8px"}},(()=>{if(W.length===0)return w(),"One day at a time.";const r=new Date,g=new Date(r.getFullYear(),0,0),a=r-g,v=1e3*60*60*24,k=Math.floor(a/v)%W.length;return W[k]?.quote||"One day at a time."})()),React.createElement("div",{style:{fontSize:"12px",color:"#999"}},(()=>{if(W.length===0)return"Daily Inspiration";const r=new Date,g=new Date(r.getFullYear(),0,0),a=r-g,v=1e3*60*60*24,k=Math.floor(a/v)%W.length,s=W[k];return s?.author?`\u2014 ${s.author}`:"Daily Inspiration"})())))),i==="finances"&&React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",marginBottom:"24px"}},React.createElement("div",{style:{position:"relative",width:"100%",overflow:"hidden",background:"#069494",padding:"20px 0"}},React.createElement("div",{ref:o,onTouchStart:R,onTouchMove:U,onTouchEnd:$,style:{width:"100%",padding:"0 15px"}},p===0&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{const r=m?.dailyCost||0;if(r===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"info",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"SET YOUR DAILY COST"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.4",marginBottom:"12px"}},"Get Started"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Add your substance's daily cost in profile"));const a=I(m.sobrietyDate)*r,v=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"piggy-bank",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"TOTAL SAVED"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},v),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"$",r," per day average"))})()),p===1&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{const r=m?.dailyCost||0;if(r===0||!m?.sobrietyDate)return React.createElement("div",{style:{color:"#FFFFFF",fontSize:"16px"}},"Set your daily cost in profile");const[g,a,v]=m.sobrietyDate.split("-"),M=new Date(parseInt(g),parseInt(a)-1,parseInt(v),0,0,0,0),k=new Date,s=new Date(k.getFullYear(),k.getMonth(),1,0,0,0,0);let x=0;if(M<s)x=k.getDate();else if(M.getMonth()===k.getMonth()&&M.getFullYear()===k.getFullYear()){const j=k-M;x=Math.floor(j/(1e3*60*60*24))+1}const C=x*r,L=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(C);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"calendar",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"SAVED THIS MONTH"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},L),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},x," ",x===1?"day":"days"," this month"))})()),p===2&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{const r=m?.dailyCost||0;if(r===0||!m?.sobrietyDate)return React.createElement("div",{style:{color:"#FFFFFF",fontSize:"16px"}},"Set your daily cost in profile");const[g,a,v]=m.sobrietyDate.split("-"),M=new Date(parseInt(g),parseInt(a)-1,parseInt(v),0,0,0,0),k=new Date,s=new Date(k.getFullYear(),0,1,0,0,0,0);let x=0;if(M<s){const j=k-s;x=Math.floor(j/(1e3*60*60*24))+1}else if(M.getFullYear()===k.getFullYear()){const j=k-M;x=Math.floor(j/(1e3*60*60*24))+1}const C=x*r,L=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(C);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"trending-up",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"SAVED THIS YEAR"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},L),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},x," ",x===1?"day":"days"," in ",k.getFullYear()))})())),React.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"16px",paddingBottom:"10px"}},[0,1,2].map(r=>React.createElement("div",{key:r,onClick:()=>S(r),style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FFFFFF",opacity:p===r?1:.5,transition:"opacity 0.3s ease",cursor:"pointer"}}))))),React.createElement("div",{style:{padding:"0 5%",maxWidth:"600px",margin:"0 auto"}},(()=>{const r=m?.dailyCost||0;if(r===0)return null;const g=I(m.sobrietyDate),a=g*r,v=ee.filter(s=>a>=s.minCost*.1),k=[...ce,...X].map(s=>{const x=s.amount||s.cost,C=Math.max(0,Math.ceil((x-a)/r)),L=Math.min(100,a/x*100);return{...s,cost:x,daysAway:C,progress:L}}).sort((s,x)=>s.daysAway-x.daysAway);return React.createElement(React.Fragment,null,v.length>0&&React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"shopping-bag",style:{width:"20px",height:"20px",strokeWidth:2}}),"Your Savings Can Buy..."),React.createElement("div",{style:{position:"relative",width:"100%",overflow:"hidden"}},React.createElement("div",{ref:V,onTouchStart:s=>H(s.touches[0].clientX),onTouchEnd:s=>{const x=s.changedTouches[0].clientX,C=y-x,L=50;C>L&&b<v.length-1?c(b+1):C<-L&&b>0&&c(b-1)},style:{display:"flex",gap:"12px",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",paddingBottom:"10px"}},v.map((s,x)=>{const C=Math.min(100,a/s.minCost*100),L=a>=s.minCost,j=L?0:Math.ceil((s.minCost-a)/r);return React.createElement("div",{key:x,style:{minWidth:"85%",background:L?"linear-gradient(135deg, rgba(0, 168, 107, 0.15) 0%, rgba(0, 168, 107, 0.05) 100%)":"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"20px",border:L?"2px solid #00A86B":"2px solid rgba(5, 133, 133, 0.2)",scrollSnapAlign:"start"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"}},React.createElement("div",null,React.createElement("i",{"data-lucide":s.icon,style:{width:"24px",height:"24px",strokeWidth:2,color:"#058585",marginBottom:"4px"}}),React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#333"}},s.name),React.createElement("div",{style:{fontSize:"14px",color:"#666",marginTop:"2px"}},"$",s.minCost.toLocaleString()," - $",s.maxCost.toLocaleString())),L&&React.createElement("div",{style:{background:"#00A86B",color:"#fff",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"}},"UNLOCKED! \u{1F389}")),React.createElement("div",{style:{width:"100%",height:"8px",background:"rgba(0,0,0,0.1)",borderRadius:"4px",overflow:"hidden",marginBottom:"8px"}},React.createElement("div",{style:{width:`${C}%`,height:"100%",background:L?"#00A86B":"#058585",borderRadius:"4px",transition:"width 0.3s ease"}})),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},L?React.createElement("span",{style:{color:"#00A86B",fontWeight:"600"}},"\u2705 You can afford this now!"):React.createElement(React.Fragment,null,React.createElement("span",{style:{fontWeight:"600"}},Math.round(C),"% there")," \u2022 ",React.createElement("span",null,j," ",j===1?"day":"days"," away"))))})),React.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"6px",marginTop:"12px"}},v.map((s,x)=>React.createElement("div",{key:x,onClick:()=>c(x),style:{width:"6px",height:"6px",borderRadius:"50%",background:b===x?"#058585":"#ddd",cursor:"pointer",transition:"background 0.3s ease"}}))))),React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"target",style:{width:"20px",height:"20px",strokeWidth:2}}),"Your Active Savings Challenge"),B?React.createElement("div",{style:{background:B.amount<=a?"linear-gradient(135deg, rgba(0, 168, 107, 0.15) 0%, rgba(0, 168, 107, 0.05) 100%)":"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"24px",border:B.amount<=a?"2px solid #00A86B":"2px solid rgba(5, 133, 133, 0.2)"}},React.createElement("div",{style:{textAlign:"center",marginBottom:"20px"}},React.createElement("i",{"data-lucide":B.icon,style:{width:"36px",height:"36px",strokeWidth:2,color:"#058585",marginBottom:"8px"}}),React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},"Goal: ",B.name),React.createElement("div",{style:{fontSize:"24px",fontWeight:"700",color:"#058585",marginBottom:"4px"}},"$",a.toLocaleString()," / $",B.amount.toLocaleString())),React.createElement("div",{style:{width:"100%",height:"12px",background:"rgba(0,0,0,0.1)",borderRadius:"6px",overflow:"hidden",marginBottom:"16px"}},React.createElement("div",{style:{width:`${Math.min(100,a/B.amount*100)}%`,height:"100%",background:B.amount<=a?"#00A86B":"linear-gradient(90deg, #058585 0%, #069494 100%)",borderRadius:"6px",transition:"width 0.3s ease"}})),B.amount<=a?React.createElement("div",{style:{textAlign:"center"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#00A86B",marginBottom:"16px"}},"\u2705 GOAL ACHIEVED! \u{1F389}"),React.createElement("button",{onClick:()=>he("setGoal"),style:{background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"12px 24px",borderRadius:"8px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"Set New Challenge")):React.createElement("div",{style:{fontSize:"14px",color:"#666",textAlign:"center"}},Math.ceil((B.amount-a)/r)," days away"," \u2022 ",Math.round(a/B.amount*100),"% complete")):React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"32px",border:"2px solid rgba(5, 133, 133, 0.2)",textAlign:"center"}},React.createElement("i",{"data-lucide":"target",style:{width:"48px",height:"48px",color:"#058585",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"16px",color:"#333",marginBottom:"12px",fontWeight:"600"}},"Set Your First Savings Goal"),React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"20px"}},"Choose a goal to work towards and track your progress"),React.createElement("button",{onClick:()=>he("setGoal"),style:{background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"12px 24px",borderRadius:"8px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"Choose a Goal")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px",marginTop:"16px"}},ce.map((s,x)=>{const C=Math.min(100,a/s.amount*100),L=Math.max(0,Math.ceil((s.amount-a)/r)),j=a>=s.amount;return React.createElement("div",{key:x,onClick:()=>T(s),style:{background:j?"linear-gradient(135deg, rgba(0, 168, 107, 0.1) 0%, rgba(0, 168, 107, 0.05) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 100%)",borderRadius:"10px",padding:"16px 12px",border:j?"1px solid #00A86B":"1px solid #ddd",textAlign:"center",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.transform="translateY(-2px)",ae.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:ae=>{ae.currentTarget.style.transform="translateY(0)",ae.currentTarget.style.boxShadow="none"}},React.createElement("i",{"data-lucide":s.icon,style:{width:"24px",height:"24px",strokeWidth:2,color:"#058585",marginBottom:"6px"}}),React.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#333",marginBottom:"4px"}},s.name),React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"8px"}},"$",s.amount.toLocaleString()),j?React.createElement("div",{style:{fontSize:"11px",color:"#00A86B",fontWeight:"600"}},"Complete! \u2728"):React.createElement("div",{style:{fontSize:"11px",color:"#666"}},L," ",L===1?"day":"days"," away"))}))),React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"piggy-bank",style:{width:"20px",height:"20px",strokeWidth:2}}),"Your Virtual Savings Jar"),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(255,215,0,0.1) 0%, rgba(255,215,0,0.05) 100%)",borderRadius:"12px",padding:"32px",border:"2px solid rgba(255,215,0,0.3)",textAlign:"center",cursor:"pointer"},onClick:()=>he("jar")},React.createElement("div",{style:{width:"120px",height:"160px",margin:"0 auto 20px",position:"relative",background:"linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%)",borderRadius:"8px",border:"3px solid rgba(5, 133, 133, 0.3)",overflow:"hidden",boxShadow:"inset 0 -4px 8px rgba(255,215,0,0.2)"}},React.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${Math.min(100,a/(B?.amount||1e4)*100)}%`,background:"linear-gradient(180deg, rgba(255,215,0,0.4) 0%, rgba(255,215,0,0.6) 100%)",transition:"height 0.5s ease",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",paddingBottom:"8px",fontSize:"20px"}},"\u{1F4B0}\u{1F4B0}"),React.createElement("div",{style:{position:"absolute",top:"-8px",left:"-4px",right:"-4px",height:"12px",background:"linear-gradient(135deg, #058585 0%, #069494 100%)",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})),React.createElement("div",{style:{fontSize:"32px",fontWeight:"700",color:"#058585",marginBottom:"8px"}},"$",a.toLocaleString()),React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"12px"}},B?`${Math.round(a/B.amount*100)}% Full`:"Tap to set a goal"),React.createElement("div",{style:{fontSize:"13px",color:"#058585",fontWeight:"500"}},"\u{1F446} Tap jar for details")),React.createElement("div",{style:{marginTop:"16px",background:"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 100%)",borderRadius:"10px",padding:"16px",border:"1px solid #ddd"}},React.createElement("div",{style:{fontSize:"14px",color:"#333",marginBottom:"12px",fontWeight:"600"}},"\u{1F4B5} Actual Money Set Aside"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"700",color:O>=a?"#00A86B":"#FF8C00",marginBottom:"8px"}},"$",O.toLocaleString()),React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"}},O>=a?React.createElement("span",{style:{color:"#00A86B"}},"\u2705 You've saved it all! Amazing discipline!"):React.createElement("span",null,"You've actually saved $",O.toLocaleString()," of your $",a.toLocaleString())),React.createElement("div",{style:{display:"flex",gap:"8px"}},React.createElement("button",{onClick:s=>{s.stopPropagation();const x=prompt("How much have you actually set aside?",O);x&&!isNaN(x)&&Z(parseFloat(x))},style:{flex:1,background:"linear-gradient(135deg, #058585 0%, #069494 100%)",color:"#fff",padding:"10px",borderRadius:"6px",border:"none",fontSize:"13px",fontWeight:"600",cursor:"pointer"}},"Update Amount")))),React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"scale",style:{width:"20px",height:"20px",strokeWidth:2}}),"Your Reality Check"),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(220, 20, 60, 0.1) 0%, rgba(220, 20, 60, 0.05) 100%)",borderRadius:"12px",padding:"24px",border:"2px solid rgba(220, 20, 60, 0.2)",marginBottom:"16px"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#DC143C",marginBottom:"16px"}},"\u{1F4B8} If You'd Kept Using (",g," days):"),React.createElement("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(0,0,0,0.1)"}},React.createElement("div",{style:{fontSize:"13px",color:"#666",marginBottom:"4px"}},"Would Have Spent:"),React.createElement("div",{style:{fontSize:"24px",fontWeight:"700",color:"#DC143C"}},"-$",a.toLocaleString())),React.createElement("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(0,0,0,0.1)"}},React.createElement("div",{style:{fontSize:"13px",color:"#666",marginBottom:"4px"}},"Plus Interest (20% APR):"),React.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:"#DC143C"}},"-$",Math.round(a*.34).toLocaleString())),React.createElement("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(0,0,0,0.1)"}},React.createElement("div",{style:{fontSize:"13px",color:"#666",marginBottom:"4px"}},"Health Costs (Estimated):"),React.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:"#DC143C"}},"-$",Math.round(g*4).toLocaleString())),React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("div",{style:{fontSize:"13px",color:"#666",marginBottom:"4px"}},"Total Cost:"),React.createElement("div",{style:{fontSize:"28px",fontWeight:"700",color:"#DC143C"}},"-$",(a+Math.round(a*.34)+Math.round(g*4)).toLocaleString()))),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 168, 107, 0.15) 0%, rgba(0, 168, 107, 0.05) 100%)",borderRadius:"12px",padding:"24px",border:"2px solid rgba(0, 168, 107, 0.3)",marginBottom:"16px"}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#00A86B",marginBottom:"8px"}},"\u2728 Your Actual Savings:"),React.createElement("div",{style:{fontSize:"32px",fontWeight:"700",color:"#00A86B",marginBottom:"16px"}},"+$",a.toLocaleString())),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"20px",border:"2px solid rgba(5, 133, 133, 0.2)",textAlign:"center"}},React.createElement("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"}},"NET GAIN"),React.createElement("div",{style:{fontSize:"36px",fontWeight:"700",color:"#058585",marginBottom:"8px"}},"$",(a+a+Math.round(a*.34)+Math.round(g*4)).toLocaleString()," \u{1F49A}"),React.createElement("div",{style:{fontSize:"14px",color:"#666",fontStyle:"italic"}},"You've reclaimed your financial future."))),React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"clock",style:{width:"20px",height:"20px",strokeWidth:2}}),"Coming Soon - You're Almost There!"),k.slice(0,5).map((s,x)=>{const C=s.daysAway===0;return React.createElement("div",{key:x,style:{background:C?"linear-gradient(135deg, rgba(0, 168, 107, 0.15) 0%, rgba(0, 168, 107, 0.05) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 100%)",borderRadius:"10px",padding:"16px",border:C?"2px solid #00A86B":"1px solid #ddd",marginBottom:"12px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"}},React.createElement("div",{style:{flex:1}},React.createElement("i",{"data-lucide":s.icon,style:{width:"20px",height:"20px",strokeWidth:2,color:"#058585",marginBottom:"4px"}}),React.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:"#333"}},s.name),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},"$",s.cost.toLocaleString())),C&&React.createElement("div",{style:{background:"#00A86B",color:"#fff",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"}},"UNLOCKED! \u{1F389}")),!C&&React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",height:"8px",background:"rgba(0,0,0,0.1)",borderRadius:"4px",overflow:"hidden",marginBottom:"8px"}},React.createElement("div",{style:{width:`${s.progress}%`,height:"100%",background:"#058585",borderRadius:"4px",transition:"width 0.3s ease"}})),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},"\u23F3 ",s.daysAway," ",s.daysAway===1?"day":"days"," away"," \u2022 ",Math.round(s.progress),"% there")),C&&React.createElement("div",{style:{fontSize:"13px",color:"#00A86B",fontWeight:"600"}},"\u2705 You can afford this NOW"))}),React.createElement("button",{onClick:()=>he("addCountdown"),style:{width:"100%",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",color:"#058585",padding:"14px",borderRadius:"8px",border:"2px dashed #058585",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"+ Add Custom Goal")),React.createElement("div",{style:{marginBottom:"32px"}},React.createElement("h3",{style:{color:"#058585",fontSize:"18px",marginBottom:"15px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"map",style:{width:"20px",height:"20px",strokeWidth:2}}),"Your Money Map Journey"),React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"24px",border:"2px solid rgba(5, 133, 133, 0.2)"}},oe.length===0?React.createElement("div",{style:{textAlign:"center",padding:"40px 20px"}},React.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"\u{1F5FA}\uFE0F"),React.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"8px"}},"No Money Map Milestones Yet"),React.createElement("div",{style:{fontSize:"14px",color:"#666"}},"Money map milestones will appear here as they are added by your coach.")):oe.map((s,x)=>{const C=a>=s.amount,L=x<oe.length-1?oe[x+1].amount:1/0,j=!C&&(x===0||a>=(x>0?oe[x-1].amount:0));return React.createElement("div",{key:x},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:x===7?0:"20px"}},React.createElement("div",{style:{opacity:C||j?1:.3,transform:C?"scale(1.1)":"scale(1)",transition:"all 0.3s ease"}},React.createElement("i",{"data-lucide":s.icon,style:{width:"32px",height:"32px",strokeWidth:2,color:C?"#00A86B":j?"#058585":"#999"}})),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:C?"#00A86B":j?"#058585":"#999",marginBottom:"2px"}},s.milestone,C&&" \u2705",j&&" \u2190 YOU ARE HERE"),React.createElement("div",{style:{fontSize:"13px",color:"#666"}},s.label))),x<7&&React.createElement("div",{style:{width:"3px",height:"30px",background:C?"#00A86B":"linear-gradient(180deg, rgba(5, 133, 133, 0.3) 0%, rgba(5, 133, 133, 0.1) 100%)",marginLeft:"16px",marginBottom:"8px",borderRadius:"2px"}}))}))))})())),i==="wellness"&&React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",marginBottom:"24px"}},React.createElement("div",{style:{position:"relative",width:"100%",overflow:"hidden",background:"#069494",padding:"20px 0"}},React.createElement("div",{ref:me,onTouchStart:le,onTouchMove:ge,onTouchEnd:de,style:{width:"100%",padding:"0 15px"}},te===0&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(t.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"smile",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE MOOD"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Complete check-ins to track"));const r=t.filter(a=>a.morningData?.mood!==void 0).map(a=>a.morningData.mood);if(r.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"smile",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE MOOD"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"No mood data available"));const g=(r.reduce((a,v)=>a+v,0)/r.length).toFixed(1);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"smile",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE MOOD"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g," / 10"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Based on ",r.length," check-ins"))})()),te===1&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(t.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"flame",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE CRAVING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Complete check-ins to track"));const r=t.filter(a=>a.morningData?.craving!==void 0).map(a=>a.morningData.craving);if(r.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"flame",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE CRAVING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"No craving data available"));const g=(r.reduce((a,v)=>a+v,0)/r.length).toFixed(1);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"flame",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE CRAVING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g," / 10"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Based on ",r.length," check-ins"))})()),te===2&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(t.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"alert-circle",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE ANXIETY"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Complete check-ins to track"));const r=t.filter(a=>(a.morningData?.anxiety??a.morningData?.anxietyLevel)!==void 0).map(a=>a.morningData?.anxiety??a.morningData?.anxietyLevel);if(r.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"alert-circle",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE ANXIETY"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"No anxiety data available"));const g=(r.reduce((a,v)=>a+v,0)/r.length).toFixed(1);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"alert-circle",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE ANXIETY"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g," / 10"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Based on ",r.length," check-ins"))})()),te===3&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(t.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"moon",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE SLEEP"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Complete check-ins to track"));const r=t.filter(a=>(a.morningData?.sleep??a.morningData?.sleepQuality)!==void 0).map(a=>a.morningData?.sleep??a.morningData?.sleepQuality);if(r.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"moon",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE SLEEP"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"No sleep data available"));const g=(r.reduce((a,v)=>a+v,0)/r.length).toFixed(1);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"moon",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"AVERAGE SLEEP"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g," / 10"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Based on ",r.length," check-ins"))})()),te===4&&React.createElement("div",{style:{background:"#069494",borderRadius:"12px",padding:"32px 24px",border:"2px solid #FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},(()=>{if(t.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"star",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"OVERALL DAY RATING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Complete evening reflections to track"));const r=t.filter(a=>a.eveningData?.overallDay!==void 0).map(a=>a.eveningData.overallDay);if(r.length===0)return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"star",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"OVERALL DAY RATING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},"\u2014"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"No evening reflection data available"));const g=(r.reduce((a,v)=>a+v,0)/r.length).toFixed(1);return React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"star",style:{width:"48px",height:"48px",color:"#FFFFFF",marginBottom:"16px",strokeWidth:2}}),React.createElement("div",{style:{fontSize:"14px",color:"#FFFFFF",marginBottom:"20px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.5px"}},"OVERALL DAY RATING"),React.createElement("div",{style:{fontSize:"64px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2",marginBottom:"12px"}},g," / 10"),React.createElement("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",fontWeight:"400"}},"Based on ",r.length," evening reflections"))})())),React.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px"}},[0,1,2,3,4].map(r=>React.createElement("div",{key:r,onClick:()=>se(r),style:{width:te===r?"24px":"8px",height:"8px",borderRadius:"4px",background:te===r?"#FFFFFF":"rgba(255, 255, 255, 0.4)",transition:"all 0.3s ease",cursor:"pointer"}}))))),React.createElement("div",{style:{padding:"0 16px",maxWidth:"600px",margin:"0 auto"}},React.createElement("div",{style:{marginBottom:"20px"}},React.createElement("h4",{style:{color:"#058585",fontSize:"16px",marginBottom:"12px",fontWeight:"600"}},"Wellness Trends"),React.createElement("div",{onClick:()=>n(e==="mood"?null:"mood"),style:{background:"#FFFFFF",borderRadius:"12px",padding:"16px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e==="mood"?"12px":"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"smile",style:{width:"18px",height:"18px",color:"#069494",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"14px",fontWeight:"500",color:"#333"}},"Mood Trend")),React.createElement("i",{"data-lucide":e==="mood"?"chevron-down":"chevron-right",style:{width:"16px",height:"16px",color:"#999",strokeWidth:2}})),e==="mood"?React.createElement("div",null,React.createElement("div",{style:{height:"220px",position:"relative"}},React.createElement("canvas",{id:"journeyMoodChart",style:{maxHeight:"220px"}})),React.createElement("div",{style:{textAlign:"center",padding:"10px",fontSize:"14px"}},P>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#666",marginBottom:"5px"}},"Missed ",P," check-ins in the last 31 days"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#999"}},"Stay consistent to avoid gaps in your wellness picture")):React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#00A86B",fontWeight:"bold",marginBottom:"5px"}},"Perfect streak! All 31 check-ins completed \u{1F389}"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#00A86B"}},"Keep up the great work!")))):React.createElement("div",{style:{height:"120px",opacity:.7}},React.createElement("canvas",{id:"journeyMoodSparkline",style:{maxHeight:"120px"}}))),(()=>{const r=new Date,g=new Date(r);g.setDate(r.getDate()-7);const a=new Date(r);a.setDate(r.getDate()-14);const v=new Date(r);v.setDate(r.getDate()-7);const M=h.filter(G=>{const Y=G.date?.toDate?.()||new Date(G.date);return Y>=g&&Y<=r}),k=h.filter(G=>{const Y=G.date?.toDate?.()||new Date(G.date);return Y>=a&&Y<v}),s=M.length>0?M.reduce((G,Y)=>G+(Y.mood||0),0)/M.length:null,x=M.length>0?M.reduce((G,Y)=>G+(Y.cravings||0),0)/M.length:null,C=M.length>0?M.reduce((G,Y)=>G+(Y.anxiety||0),0)/M.length:null,L=M.length>0?M.reduce((G,Y)=>G+(Y.sleep||0),0)/M.length:null,j=k.length>0?k.reduce((G,Y)=>G+(Y.mood||0),0)/k.length:null,ae=k.length>0?k.reduce((G,Y)=>G+(Y.cravings||0),0)/k.length:null,xe=k.length>0?k.reduce((G,Y)=>G+(Y.anxiety||0),0)/k.length:null,ue=k.length>0?k.reduce((G,Y)=>G+(Y.sleep||0),0)/k.length:null,q=s!==null&&j!==null?s-j:null,J=x!==null&&ae!==null?ae-x:null,K=C!==null&&xe!==null?xe-C:null,_=L!==null&&ue!==null?L-ue:null,be=[q,J,K,_].filter(G=>G>0).length,ye=[q,J,K,_].filter(G=>G!==null).length;if(ye===0)return null;const pe=be>=ye/2;return React.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 119, 204, 0.05) 0%, rgba(0, 168, 107, 0.05) 100%)",border:`2px solid ${pe?"#00A86B":"#FFA500"}`,borderRadius:"12px",padding:"20px",marginBottom:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"}},React.createElement("i",{"data-lucide":"trending-up",style:{width:"24px",height:"24px",color:pe?"#00A86B":"#FFA500",strokeWidth:2}}),React.createElement("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:"#333"}},"Week-Over-Week Progress")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"}},q!==null&&React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"8px",padding:"12px",border:`2px solid ${q>0?"#00A86B":q<0?"#DC143C":"#DDD"}`}},React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"}},"Mood"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":q>0?"arrow-up":q<0?"arrow-down":"minus",style:{width:"16px",height:"16px",color:q>0?"#00A86B":q<0?"#DC143C":"#999",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:q>0?"#00A86B":q<0?"#DC143C":"#333"}},Math.abs(q).toFixed(1))),React.createElement("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"}},s.toFixed(1)," vs ",j.toFixed(1))),J!==null&&React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"8px",padding:"12px",border:`2px solid ${J>0?"#00A86B":J<0?"#DC143C":"#DDD"}`}},React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"}},"Cravings"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":J>0?"arrow-down":J<0?"arrow-up":"minus",style:{width:"16px",height:"16px",color:J>0?"#00A86B":J<0?"#DC143C":"#999",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:J>0?"#00A86B":J<0?"#DC143C":"#333"}},Math.abs(J).toFixed(1))),React.createElement("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"}},x.toFixed(1)," vs ",ae.toFixed(1))),K!==null&&React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"8px",padding:"12px",border:`2px solid ${K>0?"#00A86B":K<0?"#DC143C":"#DDD"}`}},React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"}},"Anxiety"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":K>0?"arrow-down":K<0?"arrow-up":"minus",style:{width:"16px",height:"16px",color:K>0?"#00A86B":K<0?"#DC143C":"#999",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:K>0?"#00A86B":K<0?"#DC143C":"#333"}},Math.abs(K).toFixed(1))),React.createElement("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"}},C.toFixed(1)," vs ",xe.toFixed(1))),_!==null&&React.createElement("div",{style:{background:"#FFFFFF",borderRadius:"8px",padding:"12px",border:`2px solid ${_>0?"#00A86B":_<0?"#DC143C":"#DDD"}`}},React.createElement("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"}},"Sleep"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":_>0?"arrow-up":_<0?"arrow-down":"minus",style:{width:"16px",height:"16px",color:_>0?"#00A86B":_<0?"#DC143C":"#999",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:_>0?"#00A86B":_<0?"#DC143C":"#333"}},Math.abs(_).toFixed(1))),React.createElement("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"}},L.toFixed(1)," vs ",ue.toFixed(1)))),React.createElement("div",{style:{background:pe?"rgba(0, 168, 107, 0.1)":"rgba(255, 165, 0, 0.1)",borderRadius:"8px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"}},React.createElement("i",{"data-lucide":pe?"thumbs-up":"heart",style:{width:"20px",height:"20px",color:pe?"#00A86B":"#FFA500",strokeWidth:2,flexShrink:0}}),React.createElement("p",{style:{margin:0,fontSize:"14px",color:"#333",lineHeight:"1.4"}},pe?React.createElement(React.Fragment,null,React.createElement("strong",{style:{color:"#00A86B"}},"Great progress!")," You improved in ",be," out of ",ye," wellness areas this week. Keep up the excellent work!"):React.createElement(React.Fragment,null,React.createElement("strong",{style:{color:"#FFA500"}},"Stay strong!")," Recovery has ups and downs. Focus on the areas you improved and keep showing up each day."))))})(),React.createElement("div",{onClick:()=>n(e==="cravings"?null:"cravings"),style:{background:"#FFFFFF",borderRadius:"12px",padding:"16px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e==="cravings"?"12px":"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"flame",style:{width:"18px",height:"18px",color:"#FF6B35",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"14px",fontWeight:"500",color:"#333"}},"Craving Intensity")),React.createElement("i",{"data-lucide":e==="cravings"?"chevron-down":"chevron-right",style:{width:"16px",height:"16px",color:"#999",strokeWidth:2}})),e==="cravings"?React.createElement("div",null,React.createElement("div",{style:{height:"220px",position:"relative"}},React.createElement("canvas",{id:"journeyCravingsChart",style:{maxHeight:"220px"}})),React.createElement("div",{style:{textAlign:"center",padding:"10px",fontSize:"14px"}},E>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#666",marginBottom:"5px"}},"Missed ",E," check-ins in the last 31 days"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#999"}},"Stay consistent to avoid gaps in your wellness picture")):React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#00A86B",fontWeight:"bold",marginBottom:"5px"}},"Perfect streak! All 31 check-ins completed \u{1F389}"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#00A86B"}},"Keep up the great work!")))):React.createElement("div",{style:{height:"120px",opacity:.7}},React.createElement("canvas",{id:"journeyCravingsSparkline",style:{maxHeight:"120px"}}))),React.createElement("div",{onClick:()=>n(e==="anxiety"?null:"anxiety"),style:{background:"#FFFFFF",borderRadius:"12px",padding:"16px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e==="anxiety"?"12px":"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"alert-circle",style:{width:"18px",height:"18px",color:"#FFB627",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"14px",fontWeight:"500",color:"#333"}},"Anxiety Level")),React.createElement("i",{"data-lucide":e==="anxiety"?"chevron-down":"chevron-right",style:{width:"16px",height:"16px",color:"#999",strokeWidth:2}})),e==="anxiety"?React.createElement("div",null,React.createElement("div",{style:{height:"220px",position:"relative"}},React.createElement("canvas",{id:"journeyAnxietyChart",style:{maxHeight:"220px"}})),React.createElement("div",{style:{textAlign:"center",padding:"10px",fontSize:"14px"}},Q>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#666",marginBottom:"5px"}},"Missed ",Q," check-ins in the last 31 days"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#999"}},"Stay consistent to avoid gaps in your wellness picture")):React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#00A86B",fontWeight:"bold",marginBottom:"5px"}},"Perfect streak! All 31 check-ins completed \u{1F389}"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#00A86B"}},"Keep up the great work!")))):React.createElement("div",{style:{height:"120px",opacity:.7}},React.createElement("canvas",{id:"journeyAnxietySparkline",style:{maxHeight:"120px"}}))),React.createElement("div",{onClick:()=>n(e==="sleep"?null:"sleep"),style:{background:"#FFFFFF",borderRadius:"12px",padding:"16px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e==="sleep"?"12px":"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"moon",style:{width:"18px",height:"18px",color:"#4A90E2",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"14px",fontWeight:"500",color:"#333"}},"Sleep Quality")),React.createElement("i",{"data-lucide":e==="sleep"?"chevron-down":"chevron-right",style:{width:"16px",height:"16px",color:"#999",strokeWidth:2}})),e==="sleep"?React.createElement("div",null,React.createElement("div",{style:{height:"220px",position:"relative"}},React.createElement("canvas",{id:"journeySleepChart",style:{maxHeight:"220px"}})),React.createElement("div",{style:{textAlign:"center",padding:"10px",fontSize:"14px"}},fe>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#666",marginBottom:"5px"}},"Missed ",fe," check-ins in the last 31 days"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#999"}},"Stay consistent to avoid gaps in your wellness picture")):React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#00A86B",fontWeight:"bold",marginBottom:"5px"}},"Perfect streak! All 31 check-ins completed \u{1F389}"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#00A86B"}},"Keep up the great work!")))):React.createElement("div",{style:{height:"120px",opacity:.7}},React.createElement("canvas",{id:"journeySleepSparkline",style:{maxHeight:"120px"}}))),React.createElement("div",{onClick:()=>n(e==="overall"?null:"overall"),style:{background:"#FFFFFF",borderRadius:"12px",padding:"16px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e==="overall"?"12px":"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"star",style:{width:"18px",height:"18px",color:"#4A90E2",strokeWidth:2}}),React.createElement("span",{style:{fontSize:"14px",fontWeight:"500",color:"#333"}},"Overall Day Rating")),React.createElement("i",{"data-lucide":e==="overall"?"chevron-down":"chevron-right",style:{width:"16px",height:"16px",color:"#999",strokeWidth:2}})),e==="overall"?React.createElement("div",null,React.createElement("div",{style:{height:"220px",position:"relative"}},React.createElement("canvas",{id:"journeyOverallChart",style:{maxHeight:"220px"}})),React.createElement("div",{style:{textAlign:"center",padding:"10px",fontSize:"14px"}},Re>0?React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#666",marginBottom:"5px"}},"Missed ",Re," check-ins in the last 31 days"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#999"}},"Stay consistent to avoid gaps in your wellness picture")):React.createElement(React.Fragment,null,React.createElement("div",{style:{color:"#00A86B",fontWeight:"bold",marginBottom:"5px"}},"Perfect streak! All 31 check-ins completed \u{1F389}"),React.createElement("div",{style:{fontSize:"12px",fontStyle:"italic",color:"#00A86B"}},"Keep up the great work!")))):React.createElement("div",{style:{height:"120px",opacity:.7}},React.createElement("canvas",{id:"journeyOverallSparkline",style:{maxHeight:"120px"}}))))))))}window.GLRSApp.components.JourneyTab=JourneyTab,window.GLRSApp=window.GLRSApp||{},window.GLRSApp.components=window.GLRSApp.components||{};function TasksTab(){const{activeTaskTab:i,setActiveTaskTab:f,triggerHaptic:d,checkInStatus:F,morningCheckInData:l,setMorningCheckInData:u,handleMorningCheckIn:z,loadStreak:A,loadCheckIns:D,loadStreakCheckIns:m,loadDailyTasksStatus:I,checkInStreak:N,weeklyStats:W,loadCalendarHeatmapData:w,loadMoodWeekData:p,streakData:S,setCurrentView:o,patternDetection:R,coachNotes:U,nextMilestone:$,copingTechniques:V,eveningReflectionData:b,setEveningReflectionData:c,handleEveningReflection:y,reflectionStreak:H,loadStreakReflections:B,reflectionStats:T,reflectionStreakData:O,loadOverallDayWeekData:Z,loadGratitudeJournal:X,loadGratitudeInsights:re,loadChallengesHistory:ne,loadChallengesInsights:ie,loadGoalAchievementData:ee,shareReflections:ce,goals:oe,assignments:te,handleAssignmentComplete:se,handleReflectionSave:me,setDueToday:le,user:ge,sobrietyDays:de,setShowModal:t}=useAppContext();return React.createElement(React.Fragment,null,React.createElement("div",{style:{background:"#058585",display:"flex",justifyContent:"space-around",alignItems:"center",height:"48px",position:"fixed",top:"48px",left:0,right:0,zIndex:99,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},React.createElement("button",{onClick:()=>{d("light"),f("checkin")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="checkin"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="checkin"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"Check-In",i==="checkin"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}})),React.createElement("button",{onClick:()=>{d("light"),f("reflections")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="reflections"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="reflections"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"Reflections",i==="reflections"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}})),React.createElement("button",{onClick:()=>{d("light"),f("golden")},style:{flex:1,height:"100%",background:"none",border:"none",color:i==="golden"?"#FFFFFF":"rgba(255,255,255,0.7)",fontSize:"14px",fontWeight:i==="golden"?"bold":"400",cursor:"pointer",position:"relative",transition:"all 0.2s"}},"The Golden Thread",i==="golden"&&React.createElement("div",{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",background:"#FFFFFF"}}))),React.createElement("div",{style:{background:"#FFFFFF",minHeight:"100vh",paddingBottom:"80px",paddingTop:"96px"}},i==="checkin"&&React.createElement("div",{style:{padding:"16px 5%",maxWidth:"600px",margin:"0 auto"}},React.createElement("h3",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"10px"}},"Morning Check-In"),F.morning?React.createElement("div",{style:{width:"100%",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"30px 20px",marginBottom:"20px",textAlign:"center",border:"2px solid rgba(5, 133, 133, 0.2)"}},React.createElement("div",{style:{fontSize:"64px",marginBottom:"15px"}},"\u2705"),React.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#058585",marginBottom:"8px"}},"Morning Check-In Complete!"),React.createElement("p",{style:{fontSize:"14px",color:"#666",margin:0}},"Great job! Your morning check-in has been recorded. Come back tomorrow for your next check-in.")):React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Mood"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"70px",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"70px",height:"60px",background:"rgba(5, 133, 133, 0.12)",borderRadius:"12px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% - 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% + 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",left:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",right:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{className:"swipeable-picker-container",style:{display:"flex",alignItems:"center",gap:"20px",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"0 calc(50% - 30px)",width:"100%",touchAction:"pan-x"},onScroll:e=>{const h=e.target.scrollLeft,E=Math.round(h/80);E!==l.mood&&E>=0&&E<=10&&(d("light"),u(Q=>({...Q,mood:E})))}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>React.createElement("div",{key:e,onClick:()=>{d("light"),u(n=>({...n,mood:e}))},style:{minWidth:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:l.mood===e?"32px":"20px",fontWeight:l.mood===e?"bold":"400",color:l.mood===e?"#058585":"#cccccc",cursor:"pointer",transition:"all 0.3s ease",transform:l.mood===e?"scale(1.2)":"scale(1)",scrollSnapAlign:"center",userSelect:"none",flexShrink:0}},e))))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Craving"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"70px",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"70px",height:"60px",background:"rgba(5, 133, 133, 0.12)",borderRadius:"12px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% - 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% + 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",left:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",right:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{className:"swipeable-picker-container",style:{display:"flex",alignItems:"center",gap:"20px",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"0 calc(50% - 30px)",width:"100%",touchAction:"pan-x"},onScroll:e=>{const h=e.target.scrollLeft,E=Math.round(h/80);E!==l.craving&&E>=0&&E<=10&&(d("light"),u(Q=>({...Q,craving:E})))}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>React.createElement("div",{key:e,onClick:()=>{d("light"),u(n=>({...n,craving:e}))},style:{minWidth:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:l.craving===e?"32px":"20px",fontWeight:l.craving===e?"bold":"400",color:l.craving===e?"#058585":"#cccccc",cursor:"pointer",transition:"all 0.3s ease",transform:l.craving===e?"scale(1.2)":"scale(1)",scrollSnapAlign:"center",userSelect:"none",flexShrink:0}},e))))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Anxiety"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"70px",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"70px",height:"60px",background:"rgba(5, 133, 133, 0.12)",borderRadius:"12px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% - 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% + 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",left:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",right:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{className:"swipeable-picker-container",style:{display:"flex",alignItems:"center",gap:"20px",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"0 calc(50% - 30px)",width:"100%",touchAction:"pan-x"},onScroll:e=>{const h=e.target.scrollLeft,E=Math.round(h/80);E!==l.anxiety&&E>=0&&E<=10&&(d("light"),u(Q=>({...Q,anxiety:E})))}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>React.createElement("div",{key:e,onClick:()=>{d("light"),u(n=>({...n,anxiety:e}))},style:{minWidth:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:l.anxiety===e?"32px":"20px",fontWeight:l.anxiety===e?"bold":"400",color:l.anxiety===e?"#058585":"#cccccc",cursor:"pointer",transition:"all 0.3s ease",transform:l.anxiety===e?"scale(1.2)":"scale(1)",scrollSnapAlign:"center",userSelect:"none",flexShrink:0}},e))))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Sleep"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"70px",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"70px",height:"60px",background:"rgba(5, 133, 133, 0.12)",borderRadius:"12px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% - 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% + 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",left:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",right:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{className:"swipeable-picker-container",style:{display:"flex",alignItems:"center",gap:"20px",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"0 calc(50% - 30px)",width:"100%",touchAction:"pan-x"},onScroll:e=>{const h=e.target.scrollLeft,E=Math.round(h/80);E!==l.sleep&&E>=0&&E<=10&&(d("light"),u(Q=>({...Q,sleep:E})))}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>React.createElement("div",{key:e,onClick:()=>{d("light"),u(n=>({...n,sleep:e}))},style:{minWidth:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:l.sleep===e?"32px":"20px",fontWeight:l.sleep===e?"bold":"400",color:l.sleep===e?"#058585":"#cccccc",cursor:"pointer",transition:"all 0.3s ease",transform:l.sleep===e?"scale(1.2)":"scale(1)",scrollSnapAlign:"center",userSelect:"none",flexShrink:0}},e))))),React.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"}},React.createElement("button",{onClick:async()=>{d("success");try{await z(l),await new Promise(e=>setTimeout(e,200)),await A(),await D(),await m(),await I(),alert("Check-in submitted! \u2705"),u({mood:null,craving:null,anxiety:null,sleep:null})}catch{alert("Failed to submit check-in. Please try again.")}},disabled:l.mood==null||l.craving==null||l.anxiety==null||l.sleep==null,style:{width:"120px",height:"40px",background:l.mood==null||l.craving==null||l.anxiety==null||l.sleep==null?"#cccccc":"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:l.mood==null||l.craving==null||l.anxiety==null||l.sleep==null?"not-allowed":"pointer",transition:"all 0.2s"}},"Submit"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:async()=>{d("light"),await m(),t("streak")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Check-In Streak"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},N>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#058585"}},N," ",N===1?"day":"days"),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"Start checking in daily!"))),React.createElement("h3",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"10px",marginTop:"20px"}},"Quick Stats"),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:async()=>{d("light"),t("calendarHeatmap"),await w()}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Check Rate"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},W.checkRate>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},W.checkRate,"%"),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No data yet"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:async()=>{d("light"),await p(),t("moodInsights")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Avg Mood"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},W.avgMood>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},W.avgMood),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No data yet"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{d("light"),t("streaks")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Longest Streak"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},S.longestStreak>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},"\u{1F525} ",S.longestStreak," ",S.longestStreak===1?"day":"days"),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No data yet"))),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:()=>{d("light"),o("progress")}},React.createElement("i",{"data-lucide":"bar-chart-3",style:{width:"20px",height:"20px"}}),"View Check-In Trends"),R&&R.type==="mood"&&React.createElement("div",{style:{width:"100%",background:"#E8F5E9",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #4CAF50"}},React.createElement("div",{style:{marginBottom:"12px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"activity",style:{width:"20px",height:"20px",color:"#058585"}}),"Mood Pattern Detected"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},R.message)),React.createElement("button",{onClick:()=>{d("light"),t("moodPattern")},style:{width:"100%",height:"40px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer"}},"View Mood Tips")),R&&R.type==="craving"&&React.createElement("div",{style:{width:"100%",background:"#FFEBEE",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #EF5350"}},React.createElement("div",{style:{marginBottom:"12px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"flame",style:{width:"20px",height:"20px",color:"#058585"}}),"Craving Pattern Detected"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},R.message)),React.createElement("button",{onClick:()=>{d("light"),t("cravingPattern")},style:{width:"100%",height:"40px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer"}},"View Craving Tips")),R&&R.type==="anxiety"&&React.createElement("div",{style:{width:"100%",background:"#FFF3E0",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #FFB74D"}},React.createElement("div",{style:{marginBottom:"12px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"alert-circle",style:{width:"20px",height:"20px",color:"#058585"}}),"Anxiety Pattern Detected"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},R.message)),React.createElement("button",{onClick:()=>{d("light"),t("anxietyPattern")},style:{width:"100%",height:"40px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer"}},"View Anxiety Tips")),R&&R.type==="sleep"&&React.createElement("div",{style:{width:"100%",background:"#E3F2FD",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #64B5F6"}},React.createElement("div",{style:{marginBottom:"12px"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"moon",style:{width:"20px",height:"20px",color:"#058585"}}),"Sleep Pattern Detected"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666"}},R.message)),React.createElement("button",{onClick:()=>{d("light"),t("sleepPattern")},style:{width:"100%",height:"40px",background:"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer"}},"View Sleep Tips")),U.length>0&&React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer"},onClick:()=>{d("light"),alert(U[0].note||"Coach note available")}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"message-square",style:{width:"20px",height:"20px",color:"#058585"}}),"Coach Notes"),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},'"',U[0].note||"New note from your coach",'"')),React.createElement("h3",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"12px",marginTop:"24px"}},"Quick Tools"),React.createElement("div",{style:{width:"100%",background:"linear-gradient(135deg, #DC143C 0%, #B01030 100%)",borderRadius:"12px",padding:"16px",marginBottom:"8px",boxShadow:"0 4px 12px rgba(220, 20, 60, 0.3)",cursor:"pointer",border:"2px solid #DC143C"},onClick:()=>{d("medium"),alert(`Crisis resources:

988 Suicide & Crisis Lifeline
Call or Text 988

Crisis Text Line
Text HOME to 741741

SAMHSA National Helpline
1-800-662-4357`)}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement("i",{"data-lucide":"alert-octagon",style:{width:"28px",height:"28px",color:"#FFFFFF"}})),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#FFFFFF",marginBottom:"4px"}},"Emergency Support"),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"rgba(255,255,255,0.9)"}},"24/7 crisis resources and helplines")),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px",color:"rgba(255,255,255,0.7)"}}))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:()=>{d("light"),t("weeklyReport")}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"calendar-check",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("div",null,React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Weekly Progress Report"),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},"View detailed analytics and insights"))),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:async()=>{try{d("light");const e=N>0?`${N} ${N===1?"day":"days"} check-in streak! Proud of my progress in recovery. ${W.checkRate}% check-in rate this month.`:"Starting my recovery journey! Following my daily check-ins and reflections.";navigator.share?await navigator.share({title:"My Recovery Progress",text:e}):alert(`Share your progress:

${e}`)}catch(e){e.name!=="AbortError"&&(console.error("Share error:",e),alert("Unable to share. Please try again."))}}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":"share-2",style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("div",null,React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Share Your Progress"),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},"Celebrate milestones with supporters"))),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})),(()=>{const e=new Date().getDate(),n=V.find(h=>h.day===e)||V[0];return React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:()=>{d("light"),t("copingTechnique")}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("i",{"data-lucide":n.icon,style:{width:"24px",height:"24px",color:"#058585"}}),React.createElement("div",null,React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},n.title),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"#666666"}},"Today's coping technique \u2022 ",n.category))),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}}))})(),$&&React.createElement("div",{style:{width:"100%",background:"linear-gradient(135deg, #058585 0%, #047373 100%)",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(5, 133, 133, 0.3)",cursor:"pointer"},onClick:()=>{d("light"),t("milestone")}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},React.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement("i",{"data-lucide":$.icon,style:{width:"28px",height:"28px",color:"#FFFFFF"}})),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#FFFFFF",marginBottom:"4px"}},$.achieved?"All Milestones Complete!":`Next: ${$.label}`),React.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"rgba(255,255,255,0.9)"}},$.achieved?`${de} days sober - Amazing!`:`${$.daysUntil} ${$.daysUntil===1?"day":"days"} to go \u2022 ${$.progressPercentage}% there`)),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"20px",height:"20px",color:"rgba(255,255,255,0.7)"}})))),i==="reflections"&&React.createElement("div",{style:{padding:"16px 5%",maxWidth:"600px",margin:"0 auto"}},React.createElement("h3",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"10px"}},"Evening Reflections"),F.evening?React.createElement("div",{style:{width:"100%",background:"linear-gradient(135deg, rgba(5, 133, 133, 0.1) 0%, rgba(5, 133, 133, 0.05) 100%)",borderRadius:"12px",padding:"30px 20px",marginBottom:"20px",textAlign:"center",border:"2px solid rgba(5, 133, 133, 0.2)"}},React.createElement("div",{style:{fontSize:"64px",marginBottom:"15px"}},"\u2705"),React.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#058585",marginBottom:"8px"}},"Evening Reflection Complete!"),React.createElement("p",{style:{fontSize:"14px",color:"#666",margin:0}},"Great job! Your evening reflection has been recorded. Come back tomorrow for your next reflection.")):React.createElement(React.Fragment,null,React.createElement("div",{style:{width:"100%",background:"#E3F2FD",borderRadius:"12px",padding:"16px",marginBottom:"12px",border:"1px solid #90CAF9"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000000",marginBottom:"8px"}},"Today's Reflection Prompt"),React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#666666",fontStyle:"italic"}},'"What challenged you today, and what did you learn from it?"')),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Your Response"),React.createElement("textarea",{value:b.promptResponse,onChange:e=>c(n=>({...n,promptResponse:e.target.value})),placeholder:"Reflect on today's prompt...",style:{width:"100%",minHeight:"80px",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",fontSize:"14px",fontWeight:"400",color:"#000000",resize:"vertical",fontFamily:"inherit"}})),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Overall Day"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"70px",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"70px",height:"60px",background:"rgba(5, 133, 133, 0.12)",borderRadius:"12px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% - 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"1px",height:"50px",background:"rgba(5, 133, 133, 0.3)",left:"calc(50% + 40px)",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:2}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",left:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{style:{position:"absolute",width:"60px",height:"100%",background:"linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)",right:0,top:0,pointerEvents:"none",zIndex:3}}),React.createElement("div",{className:"swipeable-picker-container",style:{display:"flex",alignItems:"center",gap:"20px",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"0 calc(50% - 30px)",width:"100%",touchAction:"pan-x"},onScroll:e=>{const h=e.target.scrollLeft,E=Math.round(h/80);c(Q=>({...Q,overallDay:E}))}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>React.createElement("div",{key:e,style:{minWidth:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:b.overallDay===e?"36px":"24px",fontWeight:b.overallDay===e?"bold":"400",color:b.overallDay===e?"#058585":"#CCCCCC",transition:"all 0.2s",scrollSnapAlign:"center",cursor:"pointer",userSelect:"none"},onClick:n=>{d("light"),c(P=>({...P,overallDay:e}));const h=n.target.closest(".swipeable-picker-container");h&&(h.scrollLeft=e*80)}},e))))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Today's Challenges"),React.createElement("textarea",{value:b.challenges,onChange:e=>c(n=>({...n,challenges:e.target.value})),placeholder:"What challenges did you face today?",style:{width:"100%",minHeight:"60px",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",fontSize:"14px",fontWeight:"400",color:"#000000",resize:"vertical",fontFamily:"inherit"}})),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"What I'm Grateful For"),React.createElement("textarea",{value:b.gratitude,onChange:e=>c(n=>({...n,gratitude:e.target.value})),placeholder:"What are you grateful for today?",style:{width:"100%",minHeight:"60px",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",fontSize:"14px",fontWeight:"400",color:"#000000",resize:"vertical",fontFamily:"inherit"}})),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},React.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#000000",marginBottom:"8px"}},"Tomorrow's Goal"),React.createElement("textarea",{value:b.tomorrowGoal,onChange:e=>c(n=>({...n,tomorrowGoal:e.target.value})),placeholder:"What's your goal for tomorrow?",style:{width:"100%",minHeight:"60px",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",fontSize:"14px",fontWeight:"400",color:"#000000",resize:"vertical",fontFamily:"inherit"}})),React.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"}},React.createElement("button",{onClick:async()=>{d("success"),await y(b)},disabled:b.overallDay===null||!b.challenges||!b.gratitude||!b.tomorrowGoal,style:{width:"120px",height:"40px",background:b.overallDay===null||!b.challenges||!b.gratitude||!b.tomorrowGoal?"#cccccc":"#058585",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:b.overallDay===null||!b.challenges||!b.gratitude||!b.tomorrowGoal?"not-allowed":"pointer",transition:"all 0.2s"}},"Submit"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:async()=>{d("light"),await B(),t("reflectionStreak")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Reflection Streak"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},H>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#058585"}},H," ",H===1?"day":"days"),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"Start reflecting daily!"))),React.createElement("h3",{style:{fontSize:"16px",fontWeight:"400",color:"#000000",marginBottom:"10px",marginTop:"20px"}},"Reflection Stats"),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:async()=>{d("light"),t("calendarHeatmap"),await w()}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Total Reflections"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},T.totalThisMonth>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},T.totalThisMonth),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"0"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:async()=>{d("light"),await Z(),t("overallDayInsights")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Avg Daily Score"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},T.avgDailyScore>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},T.avgDailyScore),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No data"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{T.gratitudeThemes&&T.gratitudeThemes.length>0&&(d("light"),t("gratitudeThemes"))}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Top Gratitude Theme"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},T.topGratitudeTheme?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#058585"}},T.topGratitudeTheme),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No gratitudes yet"))),React.createElement("div",{style:{width:"100%",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{d("light"),t("reflectionStreaks")}},React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#000000"}},"Longest Streak"),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},O.longestStreak>0?React.createElement(React.Fragment,null,React.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#000000"}},"\u{1F525} ",O.longestStreak," ",O.longestStreak===1?"day":"days"),React.createElement("i",{"data-lucide":"chevron-right",style:{width:"16px",height:"16px",color:"#666666"}})):React.createElement("span",{style:{fontSize:"14px",fontWeight:"400",color:"#999999",fontStyle:"italic"}},"No data yet"))),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{d("light"),t("pastReflections")}},"View Past Reflections"),React.createElement("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#000000",marginTop:"24px",marginBottom:"12px"}},"Quick Tools"),React.createElement("button",{style:{width:"100%",height:"48px",background:"#058585",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"none",color:"#FFFFFF",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:()=>{d("light"),t("gratitude")}},React.createElement("i",{"data-lucide":"heart",style:{width:"16px",height:"16px"}}),"Gratitude Entry"),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:async()=>{d("light"),await X(),await re(),t("gratitudeJournal")}},React.createElement("i",{"data-lucide":"book-heart",style:{width:"16px",height:"16px"}}),"Gratitude Journal"),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:async()=>{d("light"),await ne(),await ie(),t("challengesHistory")}},React.createElement("i",{"data-lucide":"alert-triangle",style:{width:"16px",height:"16px"}}),"Challenges History"),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:async()=>{d("light"),await ee(),t("tomorrowGoals")}},React.createElement("i",{"data-lucide":"trophy",style:{width:"16px",height:"16px"}}),"Goal Tracker"),React.createElement("button",{style:{width:"100%",height:"48px",background:"#FFFFFF",borderRadius:"12px",padding:"12px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #058585",color:"#058585",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onClick:()=>{ce()}},React.createElement("i",{"data-lucide":"share-2",style:{width:"16px",height:"16px"}}),"Share Reflections")),i==="golden"&&React.createElement("div",{style:{padding:"16px 5%"}},React.createElement(window.GLRSApp.components.GoalsTasksView,{user:ge,goals:oe,assignments:te,onAssignmentComplete:se,onReflectionSave:me,onShowGratitudeModal:()=>t("gratitude"),onDueTodayChange:le}))))}window.GLRSApp.components.TasksTab=TasksTab,window.GLRSApp=window.GLRSApp||{},window.GLRSApp.components=window.GLRSApp.components||{};function CommunityTab(){const{activeChat:i,setActiveChat:f,communityMessages:d,sendCommunityMessage:F,user:l,uploadChatImage:u,flagContent:z,setModalImage:A,topicRooms:D,enterTopicRoom:m,supportGroups:I,meetings:N,emergencyResources:W,triggerHaptic:w,triggerSOS:p,CommunityChat:S}=useAppContext();return React.createElement("div",{className:"section-content"},React.createElement("h2",{style:{color:"white",marginBottom:"20px"}},"Community Connect"),React.createElement("div",{className:"chat-tabs"},React.createElement("button",{className:`tab-btn ${i==="main"?"active":""}`,onClick:()=>f("main")},"GLRS Community"),React.createElement("button",{className:`tab-btn ${i==="rooms"?"active":""}`,onClick:()=>f("rooms")},"Topic Rooms"),React.createElement("button",{className:`tab-btn ${i==="groups"?"active":""}`,onClick:()=>f("groups")},"Support Groups"),React.createElement("button",{className:`tab-btn ${i==="meetings"?"active":""}`,onClick:()=>f("meetings")},"Meetings")),i==="main"&&React.createElement(S,{messages:d,onSendMessage:F,currentUserId:l?.uid,uploadChatImage:u,flagContent:z,setModalImage:A}),i==="rooms"&&React.createElement(React.Fragment,null,React.createElement("h3",{style:{color:"#f4c430",marginBottom:"20px"}},"Recovery Topic Rooms"),D?.length>0?D.map(o=>React.createElement("div",{key:o.id,className:"room-card",onClick:()=>m(o)},React.createElement("div",{className:"room-icon"},o.icon?o.icon:React.createElement("i",{"data-lucide":"message-circle",style:{width:"24px",height:"24px"}})),React.createElement("h4",null,o.name),React.createElement("p",{style:{color:"rgba(255,255,255,0.7)"}},o.description))):React.createElement("div",{className:"empty-state"},React.createElement("div",{className:"empty-state-icon"},React.createElement("i",{"data-lucide":"message-square",style:{width:"48px",height:"48px",color:"var(--color-text-secondary)"}})),React.createElement("div",{className:"empty-state-text"},"No topic rooms available yet."))),i==="groups"&&React.createElement(React.Fragment,null,React.createElement("h3",{style:{color:"#f4c430",marginBottom:"20px"}},"Support Groups"),I?.length>0?I.map(o=>React.createElement("div",{key:o.id,className:"support-group-card"},React.createElement("div",{className:"group-header"},React.createElement("h4",{style:{color:"white"}},o.name),React.createElement("span",{className:`badge ${o.type==="AA"?"badge-primary":o.type==="NA"?"badge-warning":o.type==="SMART"?"badge-success":"badge-secondary"}`},o.type)),o.description&&React.createElement("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"10px"}},o.description),React.createElement("div",{style:{fontSize:"14px",opacity:.8}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"14px",height:"14px"}}),o.day),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"clock",style:{width:"14px",height:"14px"}}),o.time),o.location&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"map-pin",style:{width:"14px",height:"14px"}}),o.location),!o.location&&o.link&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"video",style:{width:"14px",height:"14px"}}),"Virtual Meeting")),o.link&&React.createElement("button",{className:"join-btn",onClick:()=>window.open(o.link,"_blank"),style:{marginTop:"10px"}},"Join Virtual Meeting"))):React.createElement("div",{className:"empty-state"},React.createElement("div",{className:"empty-state-icon"},React.createElement("i",{"data-lucide":"users",style:{width:"48px",height:"48px",color:"var(--color-primary)"}})),React.createElement("div",{className:"empty-state-text"},"No support groups available yet."))),i==="meetings"&&React.createElement(React.Fragment,null,React.createElement("h3",{style:{color:"#f4c430",marginBottom:"20px"}},"Scheduled Group Meetings"),N?.length>0?N.map(o=>{const R=o.scheduledTime?.toDate?o.scheduledTime.toDate():new Date(o.scheduledTime);return React.createElement("div",{key:o.id,className:"meeting-card"},React.createElement("div",{className:"meeting-header"},React.createElement("h4",null,o.meetingTitle||"Group Recovery Session"),React.createElement("span",{className:`status-badge ${o.status==="scheduled"?"scheduled":o.status==="completed"?"completed":"cancelled"}`},o.status)),React.createElement("div",{className:"meeting-type"},o.type||"Group Session"),React.createElement("div",{className:"meeting-details"},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"14px",height:"14px"}}),R.toLocaleDateString()),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"clock",style:{width:"14px",height:"14px"}}),R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"timer",style:{width:"14px",height:"14px"}}),"Duration: ",o.duration||"60"," minutes"),o.isGlobal&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},React.createElement("i",{"data-lucide":"globe",style:{width:"14px",height:"14px"}}),"All PIRs Invited")),o.notes&&React.createElement("div",{className:"meeting-notes",style:{display:"flex",alignItems:"flex-start",gap:"6px"}},React.createElement("i",{"data-lucide":"file-text",style:{width:"14px",height:"14px",marginTop:"2px"}}),o.notes),o.meetingLink&&React.createElement("button",{className:"join-btn",onClick:()=>window.open(o.meetingLink,"_blank")},"Join Virtual Meeting"))}):React.createElement("div",{className:"empty-state"},React.createElement("div",{className:"empty-state-icon"},React.createElement("i",{"data-lucide":"calendar",style:{width:"48px",height:"48px",color:"var(--color-primary)"}})),React.createElement("div",{className:"empty-state-text"},"No group meetings scheduled."))),React.createElement("div",{className:"crisis-resources"},React.createElement("div",{className:"crisis-title"},React.createElement("i",{"data-lucide":"alert-octagon",style:{width:"20px",height:"20px",marginRight:"8px",color:"#DC143C"}}),"Crisis Resources"),W?.length>0?W.map(o=>React.createElement("div",{key:o.id,style:{marginBottom:"15px"}},React.createElement("div",{className:"crisis-number"},o.phone&&React.createElement("a",{href:`tel:${o.phone}`},o.phone)),React.createElement("div",{className:"crisis-description"},o.title),React.createElement("small",{style:{opacity:.7}},o.available||"24/7"))):React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:"15px"}},React.createElement("div",{className:"crisis-number"},React.createElement("a",{href:"tel:988"},"988")),React.createElement("div",{className:"crisis-description"},"Suicide & Crisis Lifeline")),React.createElement("div",null,React.createElement("div",{className:"crisis-number"},React.createElement("a",{href:"tel:1-800-662-4357"},"1-800-662-HELP")),React.createElement("div",{className:"crisis-description"},"SAMHSA National Helpline"))),React.createElement("button",{className:"sos-btn",onClick:()=>{w("error"),p()}},React.createElement("i",{"data-lucide":"alert-octagon",style:{width:"18px",height:"18px",marginRight:"8px"}}),"SOS - I Need Help Now")))}function CommunityChat({messages:i,onSendMessage:f,currentUserId:d,uploadChatImage:F,flagContent:l,setModalImage:u}){const[z,A]=useState(""),[D,m]=useState(null),[I,N]=useState(!1),[W,w]=useState({}),[p,S]=useState({}),o=useRef(null);useEffect(()=>{o.current?.scrollIntoView({behavior:"smooth"})},[i]);const R=c=>{const y=c.target.files[0];y&&m(y)},U=async()=>{if((z.trim()||D)&&!I){N(!0);try{let c=null;D&&F&&(c=await F(D,"community","main")),await f(z,c),A(""),m(null);const y=document.getElementById("community-image-input");y&&(y.value="")}catch{alert("Failed to send message")}finally{N(!1)}}},$=c=>{w(y=>({...y,[c]:!y[c]}))},V=c=>{if(!c)return"A";const y=c.split(" ");return y.length>1?y[0][0]+y[1][0]:y[0][0]},b=c=>{if(!c?.toDate)return"now";const y=c.toDate(),H=Math.floor((new Date-y)/1e3);return H<60?"just now":H<3600?`${Math.floor(H/60)}m ago`:H<86400?`${Math.floor(H/3600)}h ago`:`${Math.floor(H/86400)}d ago`};return React.createElement("div",{style:{marginBottom:"var(--space-4)"}},React.createElement("div",{style:{background:"rgba(255,255,255,0.95)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)",marginBottom:"var(--space-4)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},React.createElement("div",{style:{display:"flex",gap:"var(--space-3)",alignItems:"flex-start"}},React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-primary), var(--color-secondary))",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"var(--font-sm)",fontWeight:"bold",flexShrink:0}},V("You")),React.createElement("div",{style:{flex:1}},React.createElement("input",{type:"text",placeholder:"What's on your mind?",value:z,onChange:c=>A(c.target.value),onKeyPress:c=>c.key==="Enter"&&U(),style:{width:"100%",padding:"var(--space-3)",border:"1px solid #ddd",borderRadius:"var(--radius-lg)",fontSize:"var(--font-base)",background:"#f8f9fa",outline:"none"}}),D&&React.createElement("div",{style:{marginTop:"var(--space-2)",padding:"var(--space-2)",background:"#e7f5ff",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("span",{style:{fontSize:"var(--font-sm)",color:"#333"}},React.createElement("i",{"data-lucide":"image",style:{width:"16px",height:"16px",marginRight:"8px"}}),D.name),React.createElement("button",{onClick:()=>m(null),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px"}},React.createElement("i",{"data-lucide":"x",style:{width:"16px",height:"16px",color:"#666"}}))),React.createElement("div",{style:{display:"flex",gap:"var(--space-2)",marginTop:"var(--space-3)",paddingTop:"var(--space-3)",borderTop:"1px solid #eee"}},React.createElement("input",{type:"file",id:"community-image-input",accept:"image/*",style:{display:"none"},onChange:R}),React.createElement("button",{onClick:()=>document.getElementById("community-image-input").click(),style:{flex:1,padding:"var(--space-2)",background:"transparent",border:"none",borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-1)",fontSize:"var(--font-sm)",color:"#666",fontWeight:"500"}},React.createElement("i",{"data-lucide":"image",style:{width:"20px",height:"20px"}}),"Photo"),React.createElement("button",{onClick:U,disabled:I||!z.trim()&&!D,style:{padding:"var(--space-2) var(--space-4)",background:I||!z.trim()&&!D?"#ccc":"linear-gradient(135deg, var(--color-primary), var(--color-secondary))",border:"none",borderRadius:"var(--radius-md)",color:"#fff",fontSize:"var(--font-sm)",fontWeight:"bold",cursor:I||!z.trim()&&!D?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"var(--space-1)"}},I?React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"loader",style:{width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Posting..."):React.createElement(React.Fragment,null,React.createElement("i",{"data-lucide":"send",style:{width:"16px",height:"16px"}}),"Post")))))),React.createElement("div",null,i?.length>0?i.slice().reverse().map(c=>React.createElement("div",{key:c.id,style:{background:"rgba(255,255,255,0.95)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)",marginBottom:"var(--space-4)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},React.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-3)"}},React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-secondary), var(--color-accent))",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"var(--font-sm)",fontWeight:"bold",marginRight:"var(--space-3)"}},V(c.senderName)),React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontWeight:"600",color:"#333",fontSize:"var(--font-base)"}},c.senderName||"Anonymous"),React.createElement("div",{style:{fontSize:"var(--font-xs)",color:"#666"}},b(c.createdAt))),c.senderId!==d&&l&&React.createElement("button",{onClick:()=>l("community_message",{messageId:c.id,messageContent:c.content,messageImageUrl:c.imageUrl||null,authorId:c.senderId,authorName:c.senderName}),style:{background:"transparent",border:"none",cursor:"pointer",padding:"var(--space-2)"}},React.createElement("i",{"data-lucide":"flag",style:{width:"16px",height:"16px",color:"#999"}}))),c.content&&React.createElement("div",{style:{color:"#333",fontSize:"var(--font-base)",lineHeight:"1.5",marginBottom:c.imageUrl?"var(--space-3)":0}},c.content),c.imageUrl&&React.createElement("img",{src:c.imageUrl,alt:"Post content",style:{width:"100%",borderRadius:"var(--radius-md)",cursor:"pointer"},onClick:()=>u(c.imageUrl)}),React.createElement("div",{style:{display:"flex",gap:"var(--space-4)",marginTop:"var(--space-3)",paddingTop:"var(--space-3)",borderTop:"1px solid #eee"}},React.createElement("button",{onClick:()=>$(c.id),style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-1)",fontSize:"var(--font-sm)",fontWeight:"500",color:W[c.id]?"var(--color-danger)":"#666",padding:"var(--space-2)"}},React.createElement("i",{"data-lucide":"heart",style:{width:"18px",height:"18px",fill:W[c.id]?"var(--color-danger)":"none"}}),"Like"),React.createElement("button",{onClick:()=>S(y=>({...y,[c.id]:!y[c.id]})),style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-1)",fontSize:"var(--font-sm)",fontWeight:"500",color:"#666",padding:"var(--space-2)"}},React.createElement("i",{"data-lucide":"message-circle",style:{width:"18px",height:"18px"}}),"Comment")))):React.createElement("div",{style:{textAlign:"center",padding:"var(--space-8)",background:"rgba(255,255,255,0.95)",borderRadius:"var(--radius-lg)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},React.createElement("i",{"data-lucide":"users",style:{width:"48px",height:"48px",color:"#ccc",marginBottom:"var(--space-3)"}}),React.createElement("div",{style:{color:"#666",fontSize:"var(--font-base)"}},"No posts yet. Be the first to share!")),React.createElement("div",{ref:o})))}window.GLRSApp.components.CommunityTab=CommunityTab;function ResourcesView(){const{user:i,userData:f,setCurrentView:d}=useAppContext(),[F,l]=useState(null),[u,z]=useState("assigned"),[A,D]=useState([]),[m,I]=useState([]),[N,W]=useState({}),[w,p]=useState({}),[S,o]=useState(""),[R,U]=useState(null),[$,V]=useState(!1),[b,c]=useState({}),[y,H]=useState(0),[B,T]=useState([]),[O,Z]=useState({}),X=[{id:"coping",name:"Coping Skills",icon:"brain",color:"var(--color-success)"},{id:"relapse",name:"Relapse Prevention",icon:"shield",color:"var(--color-warning)"},{id:"daily",name:"Daily Tools",icon:"calendar-check",color:"var(--color-info)"},{id:"education",name:"Education",icon:"book-open",color:"var(--color-secondary)"},{id:"support",name:"Support",icon:"users",color:"var(--color-primary)"},{id:"life",name:"Life Skills",icon:"sparkles",color:"var(--color-accent)"}];useEffect(()=>{ne(),ce()},[i?.uid]),useEffect(()=>{m.length>0&&(ee(),re())},[m]),useEffect(()=>{F&&ie()},[F,u,m]);const re=async()=>{try{const t=[...new Set(m.map(n=>n.addedBy).filter(Boolean))],e={};for(const n of t)try{const h=await db.collection("users").doc(n).get();if(h.exists){const P=h.data();e[n]=P.displayName||`${P.firstName} ${P.lastName}`||"Unknown"}}catch{e[n]="Unknown"}Z(e)}catch{}},ne=async()=>{try{const t=await db.collection("resources").where("assignedTo","array-contains",i.uid).where("active","==",!0).get(),e=await db.collection("resources").where("isGlobal","==",!0).where("active","==",!0).get(),n=new Map;t.forEach(E=>{n.set(E.id,{id:E.id,...E.data(),isAssigned:!0})}),e.forEach(E=>{n.has(E.id)||n.set(E.id,{id:E.id,...E.data(),isAssigned:!1})});const h=Array.from(n.values());I(h),H(h.length);const P={};X.forEach(E=>{P[E.id]=h.filter(Q=>Q.category===E.id).length}),c(P)}catch{}},ie=()=>{let t=m.filter(e=>e.category===F);u==="assigned"?t=t.filter(e=>e.isAssigned):t=t.filter(e=>!e.isAssigned),D(t)},ee=async()=>{try{const t=await db.collection("users").doc(i.uid).collection("preferences").doc("lastResourceView").get(),e=t.exists?t.data().timestamp:null;if(e&&e.toDate){const n=m.filter(h=>h.addedAt&&h.addedAt.toDate&&h.addedAt.toDate()>e.toDate());T(n.map(h=>h.id))}await db.collection("users").doc(i.uid).collection("preferences").doc("lastResourceView").set({timestamp:firebase.firestore.FieldValue.serverTimestamp()})}catch{}},ce=async()=>{try{const t=await db.collection("users").doc(i.uid).collection("preferences").doc("resources").get();if(t.exists){const e=t.data();W(e.notes||{}),p(e.progress||{})}}catch{W({}),p({})}},oe=async(t,e)=>{const n={...w,[t]:{status:e,updatedAt:new Date().toISOString(),completedAt:e==="completed"?new Date().toISOString():w[t]?.completedAt||null}};if(p(n),await se({progress:n})){try{await db.collection("activities").add({userId:i.uid,type:"resource_progress",resourceId:t,status:e,createdAt:firebase.firestore.FieldValue.serverTimestamp()})}catch{}le(`Progress updated to ${e}`,"success")}},te=async(t,e)=>{const n={...N,[t]:e};W(n),await se({notes:n})&&le("Note saved","success")},se=async t=>{try{const e={notes:N,progress:w,...t,updatedAt:firebase.firestore.FieldValue.serverTimestamp()};return await db.collection("users").doc(i.uid).collection("preferences").doc("resources").set(e,{merge:!0}),!0}catch{return le("Failed to save - check permissions","error"),!1}},me=async t=>{try{await db.collection("users").doc(i.uid).collection("resourceViews").doc(t).set({viewedAt:firebase.firestore.FieldValue.serverTimestamp()})}catch{}},le=(t,e)=>{const n=document.querySelector(".resource-toast");n&&n.remove();const h=document.createElement("div");h.className="resource-toast",h.style.cssText=`
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: ${e==="success"?"#4CAF50":"#f44336"};
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        `,h.textContent=t,document.body.appendChild(h),setTimeout(()=>{h.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(h)&&document.body.removeChild(h)},300)},3e3)},ge=()=>S?A.filter(t=>t.title.toLowerCase().includes(S.toLowerCase())||t.description?.toLowerCase().includes(S.toLowerCase())||t.category.toLowerCase().includes(S.toLowerCase())):A,de=async t=>{if(!t||!t.id)return;let e=t;(!t.category||!t.title)&&(e=m.find(n=>n.id===t.id)||t),U(e);try{await me(t.id)}catch{}};if(!F)return React.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",padding:"20px"}},React.createElement("style",null,`
                    @keyframes slideIn {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                    @keyframes slideOut {
                        from {
                            transform: translateX(0);
                            opacity: 1;
                        }
                        to {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                    }
                `),React.createElement("div",{style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"20px",marginBottom:"30px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"}},React.createElement("button",{onClick:()=>d("home"),style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"10px",borderRadius:"10px",transition:"all 0.3s"}},"\u2190"),React.createElement("div",{style:{flex:1,textAlign:"center"}},React.createElement("h2",{style:{margin:0,color:"white"}},"Recovery Resources"),React.createElement("p",{style:{margin:"5px 0 0 0",color:"rgba(255,255,255,0.8)",fontSize:"14px"}},y," resources available"))),React.createElement("div",{style:{position:"relative"}},React.createElement("input",{type:"text",placeholder:"Search all resources...",value:S,onChange:t=>o(t.target.value),style:{width:"100%",padding:"15px 20px 15px 50px",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"15px",fontSize:"16px",outline:"none",transition:"all 0.3s"}}),React.createElement("span",{style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",fontSize:"20px"}},React.createElement("i",{"data-lucide":"search",style:{width:"18px",height:"18px"}})))),S&&React.createElement("div",{style:{background:"rgba(255,255,255,0.95)",borderRadius:"20px",padding:"20px",marginBottom:"20px"}},React.createElement("h3",{style:{margin:"0 0 15px 0"}},"Search Results (",m.filter(t=>t.title.toLowerCase().includes(S.toLowerCase())||t.description?.toLowerCase().includes(S.toLowerCase())).length,")"),React.createElement("div",{style:{maxHeight:"300px",overflowY:"auto"}},m.filter(t=>t.title.toLowerCase().includes(S.toLowerCase())||t.description?.toLowerCase().includes(S.toLowerCase())).map(t=>React.createElement("div",{key:t.id,onClick:()=>de(t),style:{padding:"10px",marginBottom:"10px",background:"rgba(103,58,183,0.05)",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s"}},React.createElement("div",{style:{fontWeight:"bold"}},t.title),React.createElement("div",{style:{fontSize:"12px",color:"#666"}},X.find(e=>e.id===t.category)?.name))))),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginBottom:"30px"}},X.map(t=>React.createElement("button",{key:t.id,onClick:()=>l(t.id),style:{background:"rgba(255,255,255,0.95)",border:"none",borderRadius:"20px",padding:"25px",cursor:"pointer",transition:"all 0.3s",position:"relative",overflow:"hidden"}},B.some(e=>m.find(n=>n.id===e&&n.category===t.id))&&React.createElement("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#ff4444",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"10px",fontWeight:"bold"}},"NEW"),React.createElement("div",{style:{width:"64px",height:"64px",background:`linear-gradient(135deg, ${t.color}, ${t.color}cc)`,borderRadius:"var(--radius-lg)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--space-3)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},React.createElement("i",{"data-lucide":t.icon,style:{width:"32px",height:"32px",color:"#fff"}})),React.createElement("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#333",marginBottom:"5px"}},t.name),React.createElement("div",{style:{fontSize:"14px",color:t.color,fontWeight:"bold"}},b[t.id]||0," resources")))));if(!R){const t=X.find(n=>n.id===F),e=ge();return React.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",padding:"20px"}},React.createElement("div",{style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"20px",marginBottom:"20px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"}},React.createElement("button",{onClick:()=>l(null),style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"10px",borderRadius:"10px"}},"\u2190"),React.createElement("div",{style:{flex:1,textAlign:"center"}},React.createElement("h2",{style:{margin:0,color:"white"}},t?.icon," ",t?.name),React.createElement("p",{style:{margin:"5px 0 0 0",color:"rgba(255,255,255,0.8)",fontSize:"14px"}},e.length," resources"))),React.createElement("div",{style:{display:"flex",background:"rgba(255,255,255,0.2)",borderRadius:"15px",padding:"5px"}},React.createElement("button",{onClick:()=>z("assigned"),style:{flex:1,padding:"12px",background:u==="assigned"?"white":"transparent",color:u==="assigned"?"#764ba2":"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s"}},"Assigned (",A.filter(n=>n.isAssigned).length,")"),React.createElement("button",{onClick:()=>z("global"),style:{flex:1,padding:"12px",background:u==="global"?"white":"transparent",color:u==="global"?"#764ba2":"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s"}},"Global (",A.filter(n=>!n.isAssigned).length,")"))),$?React.createElement("div",{style:{textAlign:"center",color:"white",padding:"40px"}},"Loading resources..."):e.length===0?React.createElement("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.8)",padding:"40px",background:"rgba(255,255,255,0.1)",borderRadius:"20px"}},"No resources found."):React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"15px"}},e.map(n=>React.createElement("div",{key:n.id,style:{background:"rgba(255,255,255,0.95)",borderRadius:"20px",padding:"20px",position:"relative",transition:"all 0.3s",cursor:"pointer"},onClick:()=>de(n)},B.includes(n.id)&&React.createElement("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#ff4444",color:"white",padding:"4px 10px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"}},"NEW"),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},React.createElement("div",{style:{flex:1}},React.createElement("h4",{style:{color:"#333",margin:"0 0 8px 0",fontSize:"18px"}},n.title),n.description&&React.createElement("p",{style:{color:"#666",fontSize:"14px",margin:"0 0 15px 0",lineHeight:"1.5"}},n.description),React.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"}},React.createElement("span",{style:{background:w[n.id]?.status==="completed"?"linear-gradient(135deg, #4CAF50, #45a049)":w[n.id]?.status==="in-progress"?"linear-gradient(135deg, #ff9800, #f57c00)":"linear-gradient(135deg, #9e9e9e, #757575)",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"}},w[n.id]?.status==="completed"?"\u2713 Completed":w[n.id]?.status==="in-progress"?"\u23F3 In Progress":"\u25CB Not Started"),n.addedAt&&React.createElement("span",{style:{background:"rgba(103,58,183,0.1)",color:"#673ab7",padding:"6px 12px",borderRadius:"20px",fontSize:"12px"}},React.createElement("i",{"data-lucide":"calendar",style:{width:"12px",height:"12px",marginRight:"4px"}}),"Added ",n.addedAt.toDate?new Date(n.addedAt.toDate()).toLocaleDateString():new Date(n.addedAt).toLocaleDateString()),w[n.id]?.completedAt&&React.createElement("span",{style:{background:"rgba(76,175,80,0.1)",color:"#4CAF50",padding:"6px 12px",borderRadius:"20px",fontSize:"12px"}},"\u2705 Completed ",new Date(w[n.id].completedAt).toLocaleDateString())),React.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},React.createElement("select",{value:w[n.id]?.status||"not-started",onChange:h=>{h.stopPropagation(),oe(n.id,h.target.value)},onClick:h=>h.stopPropagation(),style:{padding:"8px 12px",background:"white",border:"2px solid #e0e0e0",borderRadius:"10px",color:"#333",cursor:"pointer",fontWeight:"500"}},React.createElement("option",{value:"not-started"},"Not Started"),React.createElement("option",{value:"in-progress"},"In Progress"),React.createElement("option",{value:"completed"},"Completed")),N[n.id]&&React.createElement("span",{style:{background:"rgba(33,150,243,0.1)",color:"#2196F3",padding:"8px 12px",borderRadius:"10px",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},React.createElement("i",{"data-lucide":"file-text",style:{width:"14px",height:"14px",marginRight:"4px"}}),"Has notes"))))))))}return React.createElement(ResourceViewer,{resource:R,onBack:()=>U(null),onUpdateNote:t=>te(R.id,t),currentNote:N[R.id],progress:w[R.id],onUpdateProgress:t=>oe(R.id,t),userName:O[R.addedBy]||"Unknown"})}function ResourceViewer({resource:i,onBack:f,onUpdateNote:d,currentNote:F,progress:l,onUpdateProgress:u,userName:z}){const[A,D]=useState(F||""),[m,I]=useState(!1),N=()=>{window.print()},W=async()=>{if(i.fileURL)window.open(i.fileURL,"_blank");else if(i.content){const w=new Blob([i.content],{type:"text/plain"}),p=URL.createObjectURL(w),S=document.createElement("a");S.href=p,S.download=`${i.title}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(p)}};return React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"white",zIndex:9999,overflowY:"auto"}},React.createElement("div",{style:{background:"linear-gradient(135deg, #9c27b0 0%, #673ab7 100%)",padding:"20px",position:"sticky",top:0,zIndex:10}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("button",{onClick:f,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"5px 10px",borderRadius:"8px"}},"\u2190"),React.createElement("h2",{style:{flex:1,textAlign:"center",margin:0,color:"white",fontSize:"18px"}},i.title),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement("button",{onClick:N,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"8px 12px",borderRadius:"8px",cursor:"pointer"}},React.createElement("i",{"data-lucide":"printer",style:{width:"18px",height:"18px"}})),React.createElement("button",{onClick:W,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"8px 12px",borderRadius:"8px",cursor:"pointer"}},React.createElement("i",{"data-lucide":"download",style:{width:"18px",height:"18px"}})))),React.createElement("div",{style:{marginTop:"15px",display:"flex",gap:"10px",alignItems:"center"}},React.createElement("span",{style:{color:"white",fontSize:"14px"}},"Progress:"),React.createElement("select",{value:l?.status||"not-started",onChange:w=>u(w.target.value),style:{padding:"6px 12px",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"8px",cursor:"pointer",flex:1}},React.createElement("option",{value:"not-started"},"Not Started"),React.createElement("option",{value:"in-progress"},"In Progress"),React.createElement("option",{value:"completed"},"Completed")))),React.createElement("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"}},i.content?React.createElement("div",{style:{fontSize:"16px",lineHeight:"1.8",color:"#333"}},i.content.split(`
`).map((w,p)=>React.createElement("p",{key:p,style:{marginBottom:"15px"}},w))):i.embedUrl?React.createElement("iframe",{src:i.embedUrl,style:{width:"100%",height:"600px",border:"none",borderRadius:"10px"}}):React.createElement("div",{style:{padding:"40px",textAlign:"center",color:"#999"}},React.createElement("p",null,"This resource is available externally."),React.createElement("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginTop:"20px",padding:"12px 24px",background:"#9c27b0",color:"white",borderRadius:"8px",textDecoration:"none"}},"Open Resource")),React.createElement("div",{style:{marginTop:"40px",padding:"20px",background:"#f5f5f5",borderRadius:"10px"}},React.createElement("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"8px"}},React.createElement("i",{"data-lucide":"file-text",style:{width:"20px",height:"20px"}}),"Personal Notes"),m?React.createElement("div",null,React.createElement("textarea",{value:A,onChange:w=>D(w.target.value),placeholder:"Add your thoughts, reflections, or key takeaways...",style:{width:"100%",minHeight:"100px",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"14px",resize:"vertical"}}),React.createElement("div",{style:{marginTop:"10px",display:"flex",gap:"10px"}},React.createElement("button",{onClick:()=>{d(A),I(!1)},style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"}},"Save Note"),React.createElement("button",{onClick:()=>{D(F||""),I(!1)},style:{padding:"8px 16px",background:"#999",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"}},"Cancel"))):React.createElement("div",null,F?React.createElement("div",null,React.createElement("p",{style:{margin:"0 0 10px 0",whiteSpace:"pre-wrap"}},F),React.createElement("button",{onClick:()=>{D(F),I(!0)},style:{padding:"8px 16px",background:"#9c27b0",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"}},"Edit Note")):React.createElement("button",{onClick:()=>I(!0),style:{padding:"8px 16px",background:"#9c27b0",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"}},"Add Note"))),React.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"#f9f9f9",borderRadius:"10px",fontSize:"14px",color:"#666"}},React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Category:")," ",i.category),i.addedAt&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Added:")," ",i.addedAt.toDate?new Date(i.addedAt.toDate()).toLocaleDateString():new Date(i.addedAt).toLocaleDateString()),l?.completedAt&&React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("strong",null,"Completed:")," ",new Date(l.completedAt).toLocaleDateString()),z&&React.createElement("div",null,React.createElement("strong",null,"Added by:")," ",z))))}window.GLRSApp.components.ResourcesView=ResourcesView;function NotificationsTab(){const{notifications:i,markNotificationAsRead:f,markAllNotificationsAsRead:d,user:F,triggerHaptic:l}=useAppContext(),[u,z]=useState("all"),A=React.useMemo(()=>i?u==="unread"?i.filter(p=>!p.read):u==="read"?i.filter(p=>p.read):i:[],[i,u]),D=React.useMemo(()=>i?.filter(p=>!p.read).length||0,[i]),m=async p=>{typeof l=="function"&&l("light"),p.read||await f(p.id),p.actionUrl&&(window.location.href=p.actionUrl)},I=async()=>{typeof l=="function"&&l("medium"),await d()},N=p=>{switch(p){case"achievement":return"trophy";case"milestone":return"star";case"assignment":return"clipboard";case"message":return"message-circle";case"reminder":return"clock";case"alert":return"alert-circle";case"system":return"info";default:return"bell"}},W=p=>{switch(p){case"achievement":return"#FFD700";case"milestone":return"#f4c430";case"assignment":return"#0077CC";case"message":return"#9c27b0";case"reminder":return"#FF8C00";case"alert":return"#DC143C";case"system":return"#666";default:return"#0077CC"}},w=p=>{if(!p?.toDate)return"now";const S=p.toDate(),o=Math.floor((new Date-S)/1e3);return o<60?"just now":o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:o<604800?`${Math.floor(o/86400)}d ago`:S.toLocaleDateString()};return React.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",padding:"20px"}},React.createElement("div",{style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"20px",marginBottom:"20px"}},React.createElement("h2",{style:{margin:"0 0 15px 0",color:"white"}},"Notifications"),React.createElement("div",{style:{display:"flex",background:"rgba(255,255,255,0.2)",borderRadius:"15px",padding:"5px",marginBottom:"15px"}},React.createElement("button",{onClick:()=>z("all"),style:{flex:1,padding:"10px",background:u==="all"?"white":"transparent",color:u==="all"?"#764ba2":"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s"}},"All (",i?.length||0,")"),React.createElement("button",{onClick:()=>z("unread"),style:{flex:1,padding:"10px",background:u==="unread"?"white":"transparent",color:u==="unread"?"#764ba2":"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s"}},"Unread (",D,")"),React.createElement("button",{onClick:()=>z("read"),style:{flex:1,padding:"10px",background:u==="read"?"white":"transparent",color:u==="read"?"#764ba2":"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s"}},"Read")),D>0&&React.createElement("button",{onClick:I,style:{width:"100%",padding:"12px",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"all 0.3s"}},"Mark All as Read")),A.length===0?React.createElement("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.8)",padding:"40px",background:"rgba(255,255,255,0.1)",borderRadius:"20px"}},React.createElement("i",{"data-lucide":"bell-off",style:{width:"64px",height:"64px",marginBottom:"20px",opacity:.5}}),React.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"}},"No ",u==="all"?"":u," notifications"),React.createElement("div",{style:{fontSize:"14px",opacity:.8}},"You're all caught up!")):React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},A.map(p=>React.createElement("div",{key:p.id,onClick:()=>m(p),style:{background:p.read?"rgba(255,255,255,0.7)":"rgba(255,255,255,0.95)",borderRadius:"15px",padding:"15px",cursor:"pointer",transition:"all 0.3s",border:p.read?"none":"2px solid #f4c430",position:"relative"}},!p.read&&React.createElement("div",{style:{position:"absolute",top:"15px",right:"15px",width:"10px",height:"10px",borderRadius:"50%",background:"#0077CC"}}),React.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"}},React.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:`linear-gradient(135deg, ${W(p.type)}, ${W(p.type)}cc)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},React.createElement("i",{"data-lucide":N(p.type),style:{width:"20px",height:"20px",color:"#fff"}})),React.createElement("div",{style:{flex:1,paddingRight:"20px"}},React.createElement("div",{style:{fontWeight:p.read?"500":"bold",color:"#333",marginBottom:"5px",fontSize:"15px"}},p.title),React.createElement("div",{style:{color:"#666",fontSize:"14px",lineHeight:"1.4",marginBottom:"8px"}},p.message),React.createElement("div",{style:{color:"#999",fontSize:"12px"}},w(p.createdAt))))))))}window.GLRSApp=window.GLRSApp||{components:{}},window.GLRSApp.components=window.GLRSApp.components||{},window.GLRSApp.components.NotificationsTab=NotificationsTab,console.log("\u2705 NotificationsTab component loaded");function ProfileView(){const{user:i,userData:f,profileImage:d,resources:F,setShowModal:l,handleImageSelect:u,fileInputRef:z,coachInfo:A,googleConnected:D}=useAppContext(),[m,I]=useState({checkInRate:0,assignmentRate:0,currentStreak:0,avgMood:0,avgCraving:0}),N=()=>{let o=0,R=10;return f?.firstName&&o++,f?.lastName&&o++,f?.phone&&o++,f?.sobrietyDate&&o++,f?.substance&&o++,f?.dailyCost&&o++,f?.emergencyContacts?.length>0&&o++,f?.address?.city&&o++,f?.profileImageUrl&&o++,f?.dateOfBirth&&o++,Math.round(o/R*100)};useEffect(()=>{W()},[i]);const W=async()=>{try{const R=(await db.collection("users").doc(i.uid).get()).data()?.createdAt?.toDate()||new Date,$=Math.floor((new Date-R)/(1e3*60*60*24)),V=Math.min($,30);if(V<1){I({checkInRate:0,assignmentRate:0,currentStreak:0,avgMood:0,avgCraving:0});return}const b=new Date;b.setDate(b.getDate()-V);const c=await db.collection("checkIns").where("userId","==",i.uid).where("createdAt",">=",b).get();let y=0,H=0,B=0,T=0;c.forEach(ie=>{const ee=ie.data();ee.morningData&&(y++,ee.morningData.mood&&(H+=ee.morningData.mood,T++),ee.morningData.craving&&(B+=ee.morningData.craving))});const O=Math.min(100,Math.round(y/V*100)),Z=await w(i.uid),X=await db.collection("streaks").doc(i.uid).get(),re=X.exists&&X.data().currentStreak||0,ne=Z.completionRate;I({checkInRate:O,assignmentRate:ne,currentStreak:re,avgMood:T>0?(H/T).toFixed(1):0,avgCraving:T>0?(B/T).toFixed(1):0})}catch{}},w=async o=>{try{const U=(await db.collection("users").doc(o).get()).data()?.createdAt?.toDate()||new Date,V=Math.floor((new Date-U)/(1e3*60*60*24))+1,b=await db.collection("checkIns").where("userId","==",o).get();let c=0,y=0;b.forEach(ne=>{const ie=ne.data();ie.morningData&&c++,ie.eveningData&&y++});const H=await db.collection("assignments").where("userId","==",o).get();let B=0,T=0;H.forEach(ne=>{B++,ne.data().status==="completed"&&T++});const O=V*2,Z=O+B,X=c+y+T;return{completionRate:Z>0?Math.round(X/Z*100):0,totalCompleted:X,totalExpected:Z,breakdown:{morningCheckIns:c,eveningReflections:y,assignments:T,expectedDailyTasks:O,totalAssignments:B}}}catch{return{completionRate:0,totalCompleted:0,totalExpected:0}}},p=o=>{const R=o.target.files[0];R&&u(R)},S=N();return React.createElement(React.Fragment,null,React.createElement("div",{className:"profile-menu"},React.createElement("div",{className:"profile-header"},React.createElement("div",{className:"profile-avatar",onClick:()=>z.current?.click()},d?React.createElement("img",{src:d,alt:"Profile"}):(f?.displayName||f?.firstName||i.email||"U").charAt(0).toUpperCase(),React.createElement("div",{className:"profile-avatar-upload"},React.createElement("i",{"data-lucide":"camera",style:{width:"16px",height:"16px"}}))),React.createElement("input",{ref:z,type:"file",accept:"image/*",className:"upload-input",onChange:p}),React.createElement("div",{className:"profile-name"},f?.displayName||f?.firstName||"User"),React.createElement("div",{className:"profile-email"},i.email),S<100&&React.createElement("div",{style:{marginTop:"10px"}},React.createElement("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"5px"}},"Profile ",S,"% Complete"),React.createElement("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:"10px",height:"8px",overflow:"hidden"}},React.createElement("div",{style:{background:"linear-gradient(135deg, #f4c430 0%, #ff9500 100%)",width:`${S}%`,height:"100%",transition:"width 0.3s ease"}}))),f?.sobrietyDate&&React.createElement("div",{style:{marginTop:"15px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"10px",border:"1px solid rgba(76, 175, 80, 0.3)"}},React.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4CAF50"}},window.getSobrietyDays(f.sobrietyDate)," Days Clean"),React.createElement("div",{style:{fontSize:"12px",opacity:.8,marginTop:"5px"}},"Since ",new Date(f.sobrietyDate).toLocaleDateString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric"})))),"  ",React.createElement("div",{className:"menu-section"},React.createElement("div",{className:"menu-title"},"My Stats"),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",padding:"0 15px",marginBottom:"15px"}},React.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"10px",padding:"10px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#f4c430"}},m.checkInRate,"%"),React.createElement("div",{style:{fontSize:"11px",opacity:.7}},"Check-in Rate")),React.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"10px",padding:"10px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#4CAF50"}},m.assignmentRate,"%"),React.createElement("div",{style:{fontSize:"11px",opacity:.7}},"Lifetime Task")),React.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"10px",padding:"10px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#ff9500"}},m.currentStreak),React.createElement("div",{style:{fontSize:"11px",opacity:.7}},"Day Streak")),React.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"10px",padding:"10px",textAlign:"center"}},React.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#9c27b0"}},m.avgMood,"/10"),React.createElement("div",{style:{fontSize:"11px",opacity:.7}},"Avg Mood")))),A&&React.createElement("div",{className:"menu-section"},React.createElement("div",{className:"menu-title"},"My Coach"),React.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"10px",padding:"15px",margin:"0 10px"}},React.createElement("div",{style:{fontWeight:"bold",marginBottom:"5px"}},A.displayName||A.firstName+" "+A.lastName),A.credentials&&React.createElement("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"5px"}},A.credentials),A.phone&&React.createElement("div",{style:{fontSize:"14px"}},"\u{1F4DE} ",React.createElement("a",{href:`tel:${A.phone}`,style:{color:"#f4c430",textDecoration:"none"}},A.phone)))),React.createElement("div",{className:"menu-section"},React.createElement("div",{className:"menu-title"},"Account"),React.createElement("button",{className:"menu-item",onClick:()=>l("personalInfo")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"user",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Personal Information")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("recoveryInfo")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"target",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Recovery Settings")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("password")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"lock",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Password & Security")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("notifications")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"bell",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Notification Settings")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("googleCalendar")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"calendar",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Google Calendar")),React.createElement("span",{className:"menu-arrow",style:{color:D?"#4CAF50":"rgba(255,255,255,0.5)",fontWeight:D?"bold":"normal"}},D?"\u2713 Connected":"Not Connected")),React.createElement("button",{className:"menu-item",onClick:()=>l("emergency")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"alert-circle",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Emergency Contacts")),React.createElement("span",{className:"menu-arrow"},"\u203A"))),React.createElement("div",{className:"menu-section"},React.createElement("div",{className:"menu-title"},"Support"),React.createElement("button",{className:"menu-item",onClick:()=>l("help")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"help-circle",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Help & Support")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("feedback")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"message-square",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Send Feedback")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("export")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"download",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Export My Data")),React.createElement("span",{className:"menu-arrow"},"\u203A"))),React.createElement("div",{className:"menu-section"},React.createElement("div",{className:"menu-title"},"About"),React.createElement("button",{className:"menu-item",onClick:()=>l("terms")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"file-text",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Terms of Service")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("privacy_policy")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"shield",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"Privacy Policy")),React.createElement("span",{className:"menu-arrow"},"\u203A")),React.createElement("button",{className:"menu-item",onClick:()=>l("about")},React.createElement("div",{className:"menu-item-left"},React.createElement("span",{className:"menu-icon"},React.createElement("i",{"data-lucide":"info",style:{width:"18px",height:"18px"}})),React.createElement("span",null,"About GLRS")),React.createElement("span",{className:"menu-arrow"},"\u203A"))),React.createElement("div",{className:"menu-section"},React.createElement("button",{className:"btn-danger",onClick:window.GLRSApp.authUtils.handleLogout},"Sign Out"),React.createElement("button",{style:{width:"100%",padding:"14px",background:"transparent",border:"1px solid rgba(255, 71, 87, 0.5)",borderRadius:"10px",color:"#ff4757",fontWeight:"bold",cursor:"pointer",marginTop:"10px"},onClick:()=>l("deleteAccount")},"Delete Account"))))}window.GLRSApp.components.ProfileView=ProfileView;
