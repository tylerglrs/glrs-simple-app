<!DOCTYPE html>
<html>
<head>
    <title>GLRS Recovery Connect</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Terms & Conditions Modal -->
        <div id="termsModal" class="modal">
            <div class="modal-content">
                <h2>Terms of Service & Privacy Policy</h2>
                <div class="terms-scroll">
                    <h3>IMPORTANT NOTICE</h3>
                    <p><strong>THIS IS NOT A CRISIS SERVICE. If you are experiencing thoughts of self-harm or suicide, we are required by law to contact emergency services for a 5150 evaluation. Please call 988 for the Suicide & Crisis Lifeline instead.</strong></p>
                    
                    <h3>Service Description</h3>
                    <p>Guiding Light Recovery Services LLC provides professional NON-CLINICAL peer support and recovery coaching services designed to complement your recovery journey. Our certified recovery coaches are professionals with extensive training and lived experience in recovery. While we maintain the highest professional standards, we are not licensed therapists, counselors, psychiatrists, or medical doctors. Our peer support services work alongside and complement clinical treatment but do not replace medical or psychiatric care.</p>
                    
                    <p>Our services include Recovery Success Planning (RSP), individual and group peer support meetings, transportation assistance (in designated areas), family education resources, recovery navigation, and connection to community resources. All services are provided by trained professionals who understand the recovery journey through both professional education and personal experience.</p>
                    
                    <h3>Code of Conduct</h3>
                    <p>This platform is a professional recovery support environment. All users must maintain appropriate behavior and communications. The following are strictly prohibited:</p>
                    <ul>
                        <li>Use of profanity, vulgar language, or inappropriate content</li>
                        <li>Discussion of illegal activities including drug sales, procurement, or distribution</li>
                        <li>Sharing or requesting contact information for illegal purposes</li>
                        <li>Harassment, bullying, or threatening behavior toward any user</li>
                        <li>Sexual content, solicitation, or inappropriate romantic advances</li>
                        <li>Promoting or glorifying substance use or relapse behaviors</li>
                        <li>Sharing graphic descriptions of drug use or "war stories"</li>
                        <li>Attempting to meet other users for purposes unrelated to recovery support</li>
                        <li>Spam, scams, or commercial solicitation</li>
                        <li>Discriminatory language or hate speech of any kind</li>
                    </ul>
                    
                    <p>Violation of these standards will result in immediate account suspension and potential termination of services. We maintain a zero-tolerance policy for behavior that threatens the safety or recovery of our community members.</p>
                    
                    <h3>Age Requirement</h3>
                    <p>You must be 18 years or older to use this service. Minors seeking recovery support should be directed to age-appropriate services with parental consent.</p>
                    
                    <h3>Data Collection & Privacy</h3>
                    <p>To provide comprehensive recovery support services, we collect and maintain the following information:</p>
                    <ul>
                        <li>Personal identification: Full legal name, chosen name, date of birth, and government-issued ID verification</li>
                        <li>Contact information: Email address, phone numbers, physical address, emergency contacts</li>
                        <li>Recovery information: Sobriety date, substance use history, recovery goals, support needs</li>
                        <li>Health information: Relevant medical conditions, medications (for safety during transport), mental health considerations</li>
                        <li>Session data: Attendance records, check-in responses, progress notes, goal achievements</li>
                        <li>Communication logs: Messages between peers (monitored for safety), coach communications, group participation</li>
                        <li>Family information: Authorized family contacts, family session notes, support system details</li>
                        <li>Legal information: Court requirements, probation status, mandated reporting obligations</li>
                        <li>Financial records: Payment history, billing information, insurance details where applicable</li>
                    </ul>
                    
                    <p>This information is essential for providing personalized recovery support, ensuring continuity of care, meeting legal obligations, and maintaining the safety of our community. We collect only information necessary for service delivery and never sell or share your data with third parties for marketing purposes.</p>
                    
                    <h3>Data Security</h3>
                    <p>We implement comprehensive security measures to protect your sensitive recovery information:</p>
                    <ul>
                        <li>All data is stored in access-restricted Google Workspace accounts with two-factor authentication</li>
                        <li>Only authorized coaches and administrators can access client records on a need-to-know basis</li>
                        <li>All staff sign confidentiality agreements and undergo background checks</li>
                        <li>Access logs are maintained and regularly audited for unauthorized access</li>
                        <li>Data is backed up daily with encrypted storage</li>
                        <li>Physical documents are stored in locked, fireproof filing systems</li>
                        <li>All electronic communications use secure, encrypted channels</li>
                        <li>Regular security training is mandatory for all staff members</li>
                    </ul>
                    
                    <p>Upon account deletion, all personal data is permanently removed from our systems within 30 days, except where retention is required by law (such as financial records for tax purposes). Anonymized aggregate data may be retained for program improvement purposes.</p>
                    
                    <h3>Communications & Electronic Contact</h3>
                    <p>By creating an account, you expressly consent to receive the following communications:</p>
                    <ul>
                        <li>Service-related emails: Appointment confirmations, schedule changes, session reminders</li>
                        <li>Recovery support: Daily check-in reminders, motivational content, milestone celebrations</li>
                        <li>Safety communications: Welfare checks if check-ins are missed, crisis resource information</li>
                        <li>Administrative notices: Billing reminders, policy updates, service announcements</li>
                        <li>Group communications: Meeting invites, peer support group updates, community events</li>
                        <li>Coach messages: Direct communications from your assigned recovery coach</li>
                        <li>Emergency notifications: Urgent safety information or service disruptions</li>
                    </ul>
                    
                    <p>You may opt out of non-essential communications but must continue receiving service-critical and safety-related messages. All communications will be professional and recovery-focused. We will never share your contact information with external parties without your explicit written consent, except as required by law.</p>
                    
                    <h3>Mandatory Reporting</h3>
                    <p>As recovery professionals, we are mandated reporters under California law. We are legally required to report:</p>
                    <ul>
                        <li>Imminent danger of self-harm or suicide (will result in immediate 5150 evaluation)</li>
                        <li>Credible threats of violence toward specifically identified individuals</li>
                        <li>Suspected abuse of children, elderly persons, or dependent adults</li>
                        <li>Court-ordered disclosures or valid subpoenas</li>
                    </ul>
                    
                    <p>We will make every effort to inform you before making such reports, unless doing so would increase danger to you or others.</p>
                </div>
                
                <div class="terms-agreement">
                    <p style="margin: 20px 0; font-weight: bold; text-align: center;">
                        By clicking "Accept and Continue" below, you confirm that:
                    </p>
                    <ul style="list-style: none; padding: 0;">
                        <li>✓ You are 18 years or older</li>
                        <li>✓ You have read and accept the Terms of Service</li>
                        <li>✓ You understand the Privacy Policy and data handling</li>
                        <li>✓ You understand this is NOT emergency/crisis care</li>
                    </ul>
                </div>
                
                <button id="acceptTerms" onclick="acceptTerms()">Accept and Continue</button>
            </div>
        </div>

        <!-- Password Change Modal -->
        <div id="passwordModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Change Your Password</h2>
                <p>For security, you must change your temporary password.</p>
                <div class="login-form">
                    <input type="password" id="newPassword" placeholder="New Password (min 8 characters)">
                    <input type="password" id="confirmPassword" placeholder="Confirm Password">
                    <p style="font-size: 14px; color: #666; margin: 10px 0;">
                        Password must be at least 8 characters long
                    </p>
                    <button onclick="changePassword()" class="save-btn">Update Password</button>
                </div>
            </div>
        </div>

        <!-- Main App Header -->
        <div class="app-header">
            <h1>GLRS Recovery Connect</h1>
            <div id="userInfo" class="user-info hidden">
                <span id="userName"></span>
                <span id="userTier" class="tier-badge"></span>
                <button onclick="logout()" class="logout-btn">Logout</button>
            </div>
        </div>
        
        <!-- Login Screen -->
        <div id="loginScreen" class="screen">
            <div class="login-container">
                <h2>Sign In</h2>
                <div class="login-form">
                    <input type="text" id="loginInput" placeholder="Username or Email">
                    <input type="password" id="password" placeholder="Password">
                    <label class="remember-me">
                        <input type="checkbox" id="rememberMe"> Remember me
                    </label>
                    <button onclick="login()" class="primary-btn">Sign In</button>
                    <p class="login-help">Contact your coach if you forgot your password</p>
                </div>
            </div>
        </div>
        
        <!-- PIR Main Interface -->
        <div id="pirInterface" class="screen hidden">
            <div class="main-content">
                <div class="left-column">
                    <nav class="nav-menu">
                        <button onclick="showSection('dashboard')" class="nav-btn active">Dashboard</button>
                        <button onclick="showSection('checkin')" class="nav-btn">Daily Check-In</button>
                        <button onclick="showSection('progress')" class="nav-btn">My Progress</button>
                        <button onclick="showSection('connections')" class="nav-btn" id="connectionsBtn">Connections</button>
                        <button onclick="showSection('messages')" class="nav-btn">Messages</button>
                        <button onclick="showSection('sessions')" class="nav-btn">Session Tools</button>
                        <button onclick="showSection('resources')" class="nav-btn">Resources</button>
                    </nav>
                    
                    <div class="tier-info">
                        <h4>Your Access Level</h4>
                        <p id="tierDescription"></p>
                        <p id="daysInRecovery"></p>
                    </div>
                </div>
                
                <div class="right-column">
                    <!-- Dashboard Section -->
                    <div id="dashboardSection" class="content-section">
                        <h2>Welcome Back!</h2>
                        <div class="quick-stats">
                            <div class="stat-card">
                                <h3 id="streakDays">0</h3>
                                <p>Days in Recovery</p>
                            </div>
                            <div class="stat-card">
                                <h3 id="weeklyCheckins">0/7</h3>
                                <p>Weekly Check-ins</p>
                            </div>
                            <div class="stat-card">
                                <h3 id="nextSession">--</h3>
                                <p>Next Session</p>
                            </div>
                        </div>
                        
                        <div class="alerts-section">
                            <h3>Important Reminders</h3>
                            <div id="alertsList"></div>
                        </div>
                    </div>
                    
                    <!-- Check-in Section -->
                    <div id="checkinSection" class="content-section hidden">
                        <h2>Daily Check-In</h2>
                        <form id="checkinForm">
                            <div class="form-group">
                                <label>Overall Mood <span id="moodValue">5</span>/10</label>
                                <input type="range" id="mood" min="1" max="10" value="5" oninput="updateSlider('mood')">
                            </div>
                            
                            <div class="form-group">
                                <label>Cravings Level <span id="cravingsValue">1</span>/10</label>
                                <input type="range" id="cravings" min="1" max="10" value="1" oninput="updateSlider('cravings')">
                            </div>
                            
                            <div class="form-group">
                                <label>How Supported Do You Feel? <span id="supportValue">5</span>/10</label>
                                <input type="range" id="support" min="1" max="10" value="5" oninput="updateSlider('support')">
                            </div>
                            
                            <div class="form-group">
                                <label>Sleep Quality</label>
                                <select id="sleep">
                                    <option>Excellent</option>
                                    <option>Good</option>
                                    <option>Fair</option>
                                    <option>Poor</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Did you attend any meetings today?</label>
                                <select id="meetings">
                                    <option>Yes</option>
                                    <option>No</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Did you take prescribed medications?</label>
                                <select id="medications">
                                    <option>Yes</option>
                                    <option>No</option>
                                    <option>Not Applicable</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Today's Win</label>
                                <input type="text" id="dailyWin" placeholder="One positive thing from today...">
                            </div>
                            
                            <div class="form-group">
                                <label>Gratitude</label>
                                <input type="text" id="gratitude" placeholder="I'm grateful for...">
                            </div>
                            
                            <div class="form-group">
                                <label>Additional Thoughts</label>
                                <textarea id="thoughts" placeholder="How are you feeling today?"></textarea>
                            </div>
                            
                            <div class="crisis-notice">
                                <p>⚠️ If you're having thoughts of self-harm, please call 988 immediately.</p>
                            </div>
                            
                            <button type="submit" class="save-btn">Save Check-In</button>
                        </form>
                        
                        <div class="recent-checkins">
                            <h3>Your Last 7 Check-Ins</h3>
                            <div id="recentCheckinsList"></div>
                        </div>
                    </div>
                    
                    <!-- Progress Section -->
                    <div id="progressSection" class="content-section hidden">
                        <h2>Your Recovery Journey</h2>
                        <div id="progressContent"></div>
                    </div>
                    
                    <!-- Connections Section -->
                    <div id="connectionsSection" class="content-section hidden">
                        <h2>Peer Connections</h2>
                        <div id="connectionsContent"></div>
                    </div>
                    
                    <!-- Messages Section -->
                    <div id="messagesSection" class="content-section hidden">
                        <h2>Messages</h2>
                        <div id="messagesContent"></div>
                    </div>
                    
                    <!-- Session Tools Section -->
                    <div id="sessionsSection" class="content-section hidden">
                        <h2>Session Tools</h2>
                        <div id="sessionContent"></div>
                    </div>
                    
                    <!-- Resources Section -->
                    <div id="resourcesSection" class="content-section hidden">
                        <h2>Recovery Resources</h2>
                        <div class="resource-list">
                            <div class="resource-card emergency">
                                <h3>🚨 Crisis Support</h3>
                                <p><strong>988</strong> - Suicide & Crisis Lifeline</p>
                                <p><strong>911</strong> - Medical Emergency</p>
                                <p><strong>1-800-662-4357</strong> - SAMHSA National Helpline</p>
                            </div>
                            
                            <div class="resource-card">
                                <h3>📚 Recovery Literature</h3>
                                <ul>
                                    <li>The Big Book (AA)</li>
                                    <li>Living Clean (NA)</li>
                                    <li>Recovery Dharma</li>
                                    <li>SMART Recovery Handbook</li>
                                </ul>
                            </div>
                            
                            <div class="resource-card">
                                <h3>🧘 Coping Skills</h3>
                                <ul>
                                    <li>Deep Breathing Exercises</li>
                                    <li>Progressive Muscle Relaxation</li>
                                    <li>Grounding Techniques</li>
                                    <li>Mindfulness Meditation</li>
                                </ul>
                            </div>
                            
                            <div class="resource-card">
                                <h3>📍 Local Resources</h3>
                                <ul>
                                    <li>Bay Area Community Services</li>
                                    <li>LifeRing Service Center</li>
                                    <li>Harm Reduction Coalition</li>
                                    <li>Women's Recovery Association</li>
                                </ul>
                            </div>
                            
                            <div class="resource-card">
                                <h3>📋 GLRS Policies</h3>
                                <ul>
                                    <li>Code of Conduct</li>
                                    <li>Privacy Policy</li>
                                    <li>Service Agreement</li>
                                    <li>Emergency Procedures</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Coach Interface -->
        <div id="coachInterface" class="screen hidden">
            <div class="main-content">
                <div class="left-column">
                    <nav class="nav-menu">
                        <button onclick="showCoachSection('overview')" class="nav-btn active">Overview</button>
                        <button onclick="showCoachSection('createAccount')" class="nav-btn">Create PIR Account</button>
                        <button onclick="showCoachSection('checkins')" class="nav-btn">Review Check-Ins</button>
                        <button onclick="showCoachSection('progress')" class="nav-btn">PIR Progress</button>
                        <button onclick="showCoachSection('connections')" class="nav-btn">Manage Connections</button>
                        <button onclick="showCoachSection('messages')" class="nav-btn">Message Center</button>
                        <button onclick="showCoachSection('assignments')" class="nav-btn">Assignment Center</button>
                        <button onclick="showCoachSection('resources')" class="nav-btn">Manage Resources</button>
                    </nav>
                </div>
                
                <div class="right-column">
                    <div id="coachContent"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
